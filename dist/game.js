!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=4)}([function(t,e,r){"use strict";r.d(e,"d",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"h",(function(){return a})),r.d(e,"a",(function(){return l})),r.d(e,"g",(function(){return s})),r.d(e,"b",(function(){return u})),r.d(e,"e",(function(){return h})),r.d(e,"f",(function(){return f})),r.d(e,"i",(function(){return p}));var n=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,i++)n[i]=o[a];return n};function i(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n="number"==typeof e[0]?e[0]:0,i="function"==typeof e[0]?e[0]:e[1],o=t<n?[t,n]:[n,t],a=o[0],l=o[1]-a,s=Array(l),c=0;c<l;c++)s[c]=i?i(c+a):c+a;return s}var o=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=!0);var n=t<e?[t,e]:[e,t],i=n[0],o=n[1],a=Math.random()*(o-i);return i+(r?Math.floor(a):a)},a=function(t){return t[Math.floor(Math.random()*t.length)]},l=function(t,e){var r=e.x-t.x,n=e.y-t.y;return Math.sqrt(Math.pow(r,2)+Math.pow(n,2))},s=function(t,e,r){var n=t.x-e.x,i=t.y-e.y,o=Math.cos(r),a=Math.sin(r),l=n*a+i*o;return{x:n*o-i*a+e.x,y:l+e.y}};function c(t){return void 0===t||"[object Null]"===Object.prototype.toString.call(t)}var u=function(t,e){var r;return t.find((function(t,n,i){return!c(r=e(t,n,i))})),r},h=function(t,e){void 0===e&&(e=1);var r=e%4;switch(r<0?4-r:r){case 1:return t.reduce((function(e,r,n){return r.forEach((function(r,i){var o=i,a=t.length-n-1;e[o]=e[o]||[],e[o][a]=r})),e}),[]);case 2:return n(t).reverse().map((function(t){return n(t).reverse()}));case 3:return t.reduce((function(t,e,r){return e.forEach((function(n,i){var o=e.length-i-1,a=r;t[o]=t[o]||[],t[o][a]=n})),t}),[]);default:return t.map((function(t){return n(t)}))}},f=function(t,e,r,n){var i=t.row,o=t.col,a=n%4;switch(a<0?4-a:a){case 1:return{row:o,col:e-i-1};case 2:return{row:e-i-1,col:r-o-1};case 3:return{row:r-o-1,col:i};default:return{row:i,col:o}}},p=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t}},function(t,e,r){"use strict";var n="mundane",i=function(){function t(t){var e=t.type,r=t.value,i=t.variant;this.explode=!1,this.type=e,this.value=r||1,this._variant=i||n}return Object.defineProperty(t.prototype,"variant",{get:function(){return this._variant||n},set:function(t){this._variant=t||n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMundane",{get:function(){return this.variant===n},enumerable:!0,configurable:!0}),t}();e.a=i},function(t,e,r){"use strict";var n=r(1),i=r(0),o=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,i++)n[i]=o[a];return n},a=function(){function t(t){this.rowCount=9,this.colCount=9,this.tileClass=n.a,Object.assign(this,t),this.tileDefs=t.tileDefs}return Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows=this._rows||this.newRows(),this._rows},set:function(t){this._rows=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tiles",{get:function(){return this.rows.reduce((function(t,e){return o(t,e)}),[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tileTypes",{get:function(){return Object.keys(this.tileDefs)},enumerable:!0,configurable:!0}),t.prototype.newMundaneTile=function(){var t=Object(i.h)(this.tileTypes);return this.tileDefs[t].generator({variant:"mundane"})},t.prototype.newRows=function(){var t=this;return Object(i.d)(this.rowCount,(function(){return Object(i.d)(t.colCount,(function(){return t.newMundaneTile()}))}))},t.prototype.shuffle=function(){var t=this,e=this.rows.length;this.rows.forEach((function(r,n){var o=r.length;r.forEach((function(r,a){var l=Object(i.c)(e),s=Object(i.c)(o),c=t.rows[l][s];t.rows[l][s]=r,t.rows[n][a]=c}))}))},t}();e.a=a},,function(t,e,r){"use strict";r.r(e);var n=function(t,e,r){void 0===r&&(r=0),requestAnimationFrame((function(){return n(t,e,r+1)})),t.clearRect(0,0,window.innerWidth,window.innerHeight),e(r)},i=n,o=document.createElement("canvas"),a=function(){o.width=window.innerWidth,o.height=window.innerHeight};a(),window.addEventListener("resize",a),document.body.appendChild(o);var l=o.getContext("2d");l||console.error("Canvas '2d' context is not supported.");var s,c=r(2),u=r(1),h=r(0),f=function(t,e,r,n,i,o,a){var l=2*o,s=.75*l,c=o,u=a-2*s,f=i.y+u/2,p=f-u,d=i.x-c/2,y=i.x+c/2,g=i.x-l/2,v=i.x+l/2,w=p,b=w-s,m=f,x=m+s,S={vertical:0,horizontal:.5*Math.PI}[e],T=[{x:d,y:p},{x:d,y:f},{x:g,y:m},{x:i.x,y:x},{x:v,y:m},{x:y,y:f},{x:y,y:p},{x:v,y:w},{x:i.x,y:b},{x:g,y:w}],O=S?T.map((function(t){return Object(h.g)(t,i,S)})):T;t.fillStyle=r,t.strokeStyle=n,t.beginPath();var C=O[0];t.moveTo(C.x,C.y),O.forEach((function(e){var r=e.x,n=e.y;return t.lineTo(r,n)})),t.lineTo(C.x,C.y),t.closePath(),t.fill(),n&&t.stroke()},p=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),d=parseInt("FFFFFF",16),y=function(t){function e(e){var r=t.call(this,e)||this;return r.width=50,r.height=50,r.color="white",r.selected=!1,r.targeted=!1,r.matchedAt=null,r.blank=!1,r.matchAnimationMs=250,r._imgUrl="",r.width=e.width||r.width,r.height=e.height||r.height,r.color=e.color||r.color,r.blank=e.blank||r.blank,r.matchAnimationMs=e.matchAnimationMs||r.matchAnimationMs,r._imgUrl=e.imgUrl||r._imgUrl,r.applyNormalStyle=e.applyNormalStyle||r.defaultApplyNormalStyle,r.applySelectedStyle=e.applySelectedStyle||r.defaultApplySelectedStyle,r.applyTargetedStyle=e.applyTargetedStyle||r.defaultApplyTargetedStyle,r.applyMatchedStyle=e.applyMatchedStyle||r.defaultApplyMatchedStyle,r}return p(e,t),Object.defineProperty(e.prototype,"matched",{get:function(){return!!this.matchedAt},set:function(t){var e=this;t&&this.matchedAt||(clearTimeout(this.blankTimeout),t?(this.matchedAt=new Date,this.blankTimeout=window.setTimeout((function(){return e.blank=!0}),this.matchAnimationMs)):this.matchedAt=null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imgUrl",{get:function(){return this._imgUrl},set:function(t){this._imgUrl=t,delete this._image},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"image",{get:function(){if(this._image)return this.image;if(!this.imgUrl)return null;var t=document.createElement("img");return t.src=this.imgUrl,t.width=this.width,t.height=this.height,this._image=t,this._image},enumerable:!0,configurable:!0}),e.prototype.draw=function(t,e,r){this.blank||(this.applyNormalStyle(t,this,{x:e,y:r}),this.matched?this.applyMatchedStyle(t,this,{x:e,y:r}):this.selected?this.applySelectedStyle(t,this,{x:e,y:r}):this.targeted&&this.applyTargetedStyle(t,this,{x:e,y:r}))},e.prototype.defaultApplyNormalStyle=function(t,e,r){var n=r.x,i=r.y,o=e.width,a=e.height,l=e.image,s=e.color,c=e.variant;l?t.drawImage(l,n,i):(t.fillStyle=s,t.fillRect(n,i,o,a));var u={x:n+a/2,y:i+o/2},h=o/8,p=.6*a;switch(c){case"horizontalClear":f(t,"horizontal","white","white",u,h,p);break;case"verticalClear":f(t,"vertical","white","white",u,h,p);break;case"crossClear":!function(t,e,r,n,i,o){var a=2*i,l=.75*a,s=i,c=s,u=o-2*l-s,h=n.y-c/2,f=h-u,p=n.y+c/2,d=p+u,y=n.x-s/2,g=y-u,v=n.x+s/2,w=v+u,b=f,m=b-l,x=d,S=x+l,T=g,O=T-l,C=w,k=C+l,j=h,E=p,M=y,_=v,D=n.y-a/2,A=n.y+a/2,P=n.x-a/2,F=n.x+a/2,N=[{x:M,y:f},{x:M,y:h},{x:g,y:j},{x:T,y:D},{x:O,y:n.y},{x:T,y:A},{x:g,y:E},{x:y,y:E},{x:M,y:d},{x:P,y:x},{x:n.x,y:S},{x:F,y:x},{x:_,y:d},{x:_,y:p},{x:w,y:E},{x:C,y:A},{x:k,y:n.y},{x:C,y:D},{x:w,y:j},{x:v,y:j},{x:_,y:f},{x:F,y:b},{x:n.x,y:m},{x:P,y:b}];t.fillStyle=e,t.strokeStyle=r,t.beginPath();var L=N[0];t.moveTo(L.x,L.y),N.forEach((function(e){var r=e.x,n=e.y;return t.lineTo(r,n)})),t.lineTo(L.x,L.y),t.closePath(),t.fill(),r&&t.stroke()}(t,"white","white",u,h,p);break;case"typeClear":t.fillStyle="#"+((new Date).getTime()/10%d).toString(16),t.fillRect(n,i,o,a);break;case"bombClear":t.fillStyle="black";var y=o/2,g=a/2;t.fillRect(n+y/2,i+g/2,y,g)}},e.prototype.defaultApplySelectedStyle=function(t,e,r){var n=r.x,i=r.y,o=e.width,a=e.height;t.fillStyle="rgba(255, 255, 255, 0.5)",t.fillRect(n,i,o,a)},e.prototype.defaultApplyTargetedStyle=function(t,e,r){var n=r.x,i=r.y,o=e.width,a=e.height,l=(new Date).getTime(),s=this.matchAnimationMs,c=2+3*Math.sin(l/s%Math.PI);t.fillStyle="rgba(255, 255, 255, 0.9)",t.fillRect(n,i,o,a),t.fillStyle=e.color,t.fillRect(n+c,i+c,o-2*c,a-2*c)},e.prototype.defaultApplyMatchedStyle=function(t,e,r){var n=r.x,i=r.y,o=e.width,a=e.height,l=e.color,s=e.matchAnimationMs;if(e.matchedAt){var c=(new Date).getTime()-e.matchedAt.getTime(),u=c>s?1:c/s,h=u*(o/2),f=u*(a/2);t.fillStyle="#FFF",t.fillRect(n,i,o,a),t.fillStyle=l,t.fillRect(n+h,i+f,o-2*h,a-2*f)}},e}(u.a),g=new(function(){function t(){var t=this;this.x=0,this.y=0,this.pressed=!1,this.pressCallbacks=[],this.depressCallbacks=[],this.moveCallbacks=[],this.pressedStartPos={x:this.x,y:this.y},window.addEventListener("mousedown",(function(e){t.populateFromMouseEvent(e),t.pressCallbacks.forEach((function(e){return e(t)}))})),window.addEventListener("mousemove",(function(e){t.populateFromMouseEvent(e),t.moveCallbacks.forEach((function(e){return e(t)}))})),window.addEventListener("mouseup",(function(e){t.depressCallbacks.forEach((function(e){return e(t)})),t.populateFromMouseEvent(e)})),window.addEventListener("touchstart",(function(e){t.populateFromTouchEvent(e),t.pressCallbacks.forEach((function(e){return e(t)}))})),window.addEventListener("touchmove",(function(e){t.populateFromTouchEvent(e),t.moveCallbacks.forEach((function(e){return e(t)}))})),window.addEventListener("touchend",(function(e){t.depressCallbacks.forEach((function(e){return e(t)})),t.populateFromTouchEvent(e)}))}return Object.defineProperty(t.prototype,"dragVector",{get:function(){var t=this.pressedStartPos,e=t.x,r=t.y;return this.pressed?{x:this.x-e,y:this.y-r}:{x:0,y:0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dragDirection",{get:function(){var t=this.dragVector,e=t.x,r=t.y;return 0===e&&0===r?"none":Math.abs(e)>=Math.abs(r)?e<0?"left":"right":r<0?"up":"down"},enumerable:!0,configurable:!0}),t.prototype.onPress=function(t){this.pressCallbacks.push(t)},t.prototype.onDepress=function(t){this.depressCallbacks.push(t)},t.prototype.onMove=function(t){this.moveCallbacks.push(t)},t.prototype.populateFromMouseEvent=function(t){this.x=t.x,this.y=t.y;var e=this.pressed;this.pressed=1===t.buttons,this.pressed&&!e&&(this.pressedStartPos={x:this.x,y:this.y})},t.prototype.populateFromTouchEvent=function(t){var e=t.touches,r=this.pressed;if(0===e.length)this.pressed=!1;else{var n=e[0];this.x=n.clientX,this.y=n.clientY,this.pressed=!0,r||(this.pressedStartPos={x:this.x,y:this.y})}},t}()),v=function(){return(v=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},w=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,i++)n[i]=o[a];return n},b=function(){function t(t){void 0===t&&(t={}),this.value=t.value||1,this.extend=t.extend||!1,this.map=t.map||[[]]}return t.fromLength=function(e,r){var n=void 0===r?{}:r,i=n.value;return new t({value:void 0===i?1:i,extend:!!n.orMore,map:[Object(h.d)(e,(function(){return!0}))]})},t.rotated=function(e,r){return void 0===r&&(r=1),new t(v(v({},e),{map:Object(h.e)(e.map,r)}))},Object.defineProperty(t.prototype,"extend",{get:function(){return this._extend&&this.linear},set:function(t){this._extend=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"map",{get:function(){return this._map},set:function(t){delete this._linear;var e=t.reduce((function(t,e){var r=e.length;return r>t?r:t}),0);this._map=t.map((function(t){return Object(h.d)(e,(function(e){return t[e]||!1}))}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"linear",{get:function(){return void 0!==this._linear?this._linear:(this._linear=1===this.map.length&&this.map[0].every((function(t){return t}))||this.map.every((function(t){return 1===t.length&&t[0]})),this._linear)},enumerable:!0,configurable:!0}),t.prototype.match=function(t,e,r){void 0===r&&(r=0);var n=[];if(r>3)return{rotation:r,matched:n,center:null};var i,o=!1;if(Object(h.e)(this.map,r).every((function(r,a){var l=t[a];return!!l&&r.every((function(t,r){if(!t)return!0;var a=l[r];if(!a)return!1;var s=a[e];return o||(i=s,o=!0),s===i&&(n.push(a),!0)}))}))){var a=this.centerPosition(r),l=a.row,s=a.col,c=t[l][s];return{rotation:r,matched:n,center:c}}return this.match(t,e,r+1)},t.prototype.screen=function(t,e){return void 0===e&&(e={row:0,col:0}),(e.row<0?this.map.slice(-1*e.row):w(Object(h.d)(e.row,(function(){return[]})),this.map)).map((function(t){return e.col<0?t.slice(-1*e.col):w(Object(h.d)(e.col,(function(){return!1})),t)})).reduce((function(e,r,n){var i=t[n];return w(e,r.reduce((function(t,e,r){var n=i&&i[r];return n&&e?w(t,[n]):t}),[]))}),[])},Object.defineProperty(t.prototype,"center",{get:function(){var t=Math.floor(this.map.length/2),e=this.map[t],r=Math.floor(e.length/2);return{mustMatch:e[r],row:t,col:r}},enumerable:!0,configurable:!0}),t.prototype.centerPosition=function(t){if(void 0===t&&(t=0),void 0===this._centerPosition){var e=this.map.reduce((function(t,e){return t+e.reduce((function(t,e){return e?t+1:t}),0)}),0),r=Math.floor(e/2),n=0;this._centerPosition=Object(h.b)(this.map,(function(t,e){return Object(h.b)(t,(function(t,i){if(t)return n===r?{row:e,col:i}:void(n+=1)}))}))}var i=this.map.length,o=this.map[0].length;return Object(h.f)(this._centerPosition,i,o,t)},t}(),m=b,x=function(){return[b.fromLength(3,{value:1}),b.fromLength(4,{value:2}),b.fromLength(5,{value:3}),b.fromLength(6,{value:4,orMore:!0}),new b({value:5,map:[[!0,!0,!0],[!0],[!0]]}),new b({value:6,map:[[!0,!0,!0],[!1,!0],[!1,!0]]}),new b({value:7,map:[[!0,!0],[!0,!0]]})]},S=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),T=function(){return(T=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},O=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,i++)n[i]=o[a];return n},C=function(){return{row:-1,col:-1,tile:null}},k=function(t){function e(e){var r=t.call(this,T(T({},e),{tileDefs:{red:{generator:function(t){var e=t.variant;return r.defaultNewTileOfType("red",e)}},orange:{generator:function(t){var e=t.variant;return r.defaultNewTileOfType("orange",e)}},purple:{generator:function(t){var e=t.variant;return r.defaultNewTileOfType("purple",e)}},green:{generator:function(t){var e=t.variant;return r.defaultNewTileOfType("green",e)}},blue:{generator:function(t){var e=t.variant;return r.defaultNewTileOfType("blue",e)}}}}))||this;r.dragStartCallbacks=[],r.dragEndCallbacks=[],r.dragCallbacks=[],r.dragOrigin=C(),r.swapOrigin=C(),r.swapTarget=C(),r.needsShuffle=!1,r.x=e.x||0,r.y=e.y||0;var n=e.width||50*r.colCount;return r.width=n-n%r.colCount,r.height=e.height||r.width,r.sensitivity=e.sensitivity||25,r.shapes=e.shapes||x(),r.applyNormalStyle=e.applyNormalStyle,r.applySelectedStyle=e.applySelectedStyle,r.applyTargetedStyle=e.applyTargetedStyle,r.applyMatchedStyle=e.applyMatchedStyle,r.matchAnimationMs=e.matchAnimationMs||250,g.onPress(r.runDragStartCallbacks.bind(r)),g.onDepress(r.runDragEndCallbacks.bind(r)),g.onMove(r.runDragCallbacks.bind(r)),r.stabilizeInitialTiles(),r.checkShuffleInterval=window.setInterval((function(){return r.checkShuffle()}),1e3),r}return S(e,t),Object.defineProperty(e.prototype,"tileWidth",{get:function(){return this.width/this.colCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tileHeight",{get:function(){return this.height/this.rowCount},enumerable:!0,configurable:!0}),e.prototype.draw=function(t){var e=this,r=this.checkSettle(),n=this.startedSettlingAt?(new Date).getTime()-this.startedSettlingAt.getTime():0,i=n/100*this.tileHeight,o=n>100;o&&delete this.startedSettlingAt;var a=[];this.rows.forEach((function(n,l){n.forEach((function(n,s){var c=e.x+s*n.width,u=e.y+l*n.height;if(r&&!n.blank){var h={row:l,col:s},f=e.adjacentTile(h,"down");f.tile&&f.tile.blank&&(u+=i,o&&a.push([h,f]))}n.draw(t,c,u)}))})),a.forEach((function(t){var r=t[0],n=t[1];return e.swapTile(r,n)}))},e.prototype.update=function(){var t=this;if(this.spawnNewTiles(),!this.tilesWillDrop()){this.needsShuffle&&this.shuffle();var e=this.matchShapes();if(e.length){var r=this.swapOrigin.tile,n=this.swapTarget.tile,i=O(e).sort((function(t,e){return t.shape.value>e.shape.value?-1:e.shape.value>t.shape.value?1:t.tiles.some((function(t){return t===n||t===r}))?-1:e.tiles.some((function(t){return t===n||t===r}))?1:0})),o=new Map;i.forEach((function(e){var i=e.tiles,a=e.shape,l=e.rotation,s=e.centerTile;i.forEach((function(e){return t.explodeTile(e)}));var c=t.variantForShape(a,l);if(c){var u=i.find((function(t){return t===n||t===r}))||s,h=o.get(u);o.set(u,O(h||[],[c]))}})),o.forEach((function(t,e){e.variant=t[0],e.matched=!1}))}}},e.prototype.spawnNewTiles=function(){var t=this;this.rows[0]=this.rows[0].map((function(e){return e.blank?t.newMundaneTile():e}))},e.prototype.tilesWillDrop=function(){return this.rows.slice(1).some((function(t){return t.some((function(t){return t.matched||t.blank}))}))},e.prototype.explodeTile=function(t){if(t.isMundane&&(t.matched=!0),!t.matched)switch(t.matched=!0,t.variant){case"horizontalClear":this.clearRow(this.findTile(t));break;case"verticalClear":this.clearCol(this.findTile(t));break;case"crossClear":this.clearCross(this.findTile(t));break;case"typeClear":this.clearType(t.type);break;case"bombClear":this.clearBomb(this.findTile(t))}},e.prototype.clearRow=function(t){var e=this,r=t.row;this.rows[r].forEach((function(t){return e.explodeTile(t)}))},e.prototype.clearCol=function(t){var e=this,r=t.col;this.rows.forEach((function(t){return e.explodeTile(t[r])}))},e.prototype.clearCross=function(t){var e=t.row,r=t.col;this.clearRow({row:e}),this.clearCol({col:r})},e.prototype.clearType=function(t){var e=this;this.tiles.forEach((function(r){r.type===t&&e.explodeTile(r)}))},e.prototype.clearBomb=function(t){var e=this,r=t.row,n=t.col,i=new m({map:[[!1,!1,!0],[!1,!0,!0,!0],[!0,!0,!0,!0,!0],[!1,!0,!0,!0],[!1,!1,!0]]}),o=i.center,a=r-o.row,l=n-o.col;i.screen(this.rows,{row:a,col:l}).forEach((function(t){return e.explodeTile(t)}))},e.prototype.checkSettle=function(){return this.tiles.some((function(t){return t.blank}))?(this.startedSettlingAt||(this.startedSettlingAt=new Date),!0):(delete this.startedSettlingAt,!1)},e.prototype.tileAt=function(t){if("row"in t){var e=t.row,r=t.col,n=this.rows[e][r];return n?{row:e,col:r,tile:n}:C()}var i=t.x-this.x,o=t.y-this.y;if(i>this.width||o>this.height)return C();var a=i/this.width,l=o/this.height,s=Math.floor(l*this.rowCount),c=Math.floor(a*this.colCount);return{row:s,col:c,tile:this.rows[s][c]}},e.prototype.findTile=function(t){return Object(h.b)(this.rows,(function(e,r){return Object(h.b)(e,(function(e,n){if(t===e)return{row:r,col:n,tile:e}}))}))||C()},e.prototype.tileCenter=function(t){var e=t.row,r=t.col,n=t.tile;return n?{x:this.x+r*n.height+n.height/2,y:this.y+e*n.width+n.width/2}:{x:-1,y:-1}},e.prototype.swapTile=function(t,e){"string"==typeof e?this.swapTileInDirection(t,e):this.swapTileWithTile(t,e)},e.prototype.onDragStart=function(t){var e=this.dragStartCallbacks.length;return this.dragStartCallbacks.push(t),e},e.prototype.removeDragStartListener=function(t){delete this.dragStartCallbacks[t]},e.prototype.onDragEnd=function(t){var e=this.dragEndCallbacks.length;return this.dragEndCallbacks.push(t),e},e.prototype.removeDragEndListener=function(t){delete this.dragEndCallbacks[t]},e.prototype.onDrag=function(t){var e=this.dragCallbacks.length;return this.dragCallbacks.push(t),e},e.prototype.removeDragListener=function(t){delete this.dragCallbacks[t]},e.prototype.adjacentSpace=function(t,e){var r="row"in t?t:this.tileAt(t),n=r.row,i=r.col;switch(e){case"up":return{row:n-1,col:i};case"down":return{row:n+1,col:i};case"left":return{row:n,col:i-1};case"right":return{row:n,col:i+1};default:return{row:n,col:i}}},e.prototype.adjacentTile=function(t,e){var r=this.adjacentSpace(t,e),n=r.row,i=r.col,o=this.rows[n]&&this.rows[n][i];return o?{row:n,col:i,tile:o}:C()},e.prototype.removeTile=function(t){t.blank=!0},e.prototype.matchShapes=function(){var t=this;return Object(h.d)(this.colCount).reduce((function(e,r){return t.shapes.forEach((function(n){t.rows.forEach((function(i,o){var a=t.rows.slice(o).map((function(t){return t.slice(r)})),l=n.match(a,"type"),s=l.rotation,c=l.matched,u=l.center;c.length>0&&e.push({shape:n,rotation:s,tiles:c,centerTile:u})}))})),e}),[])},e.prototype.defaultNewTileOfType=function(t,e){return new y({type:t,variant:e,color:{red:"red",orange:"orange",purple:"purple",green:"green",blue:"blue"}[t],width:this.tileWidth,height:this.tileHeight,applyNormalStyle:this.applyNormalStyle,applySelectedStyle:this.applySelectedStyle,applyTargetedStyle:this.applyTargetedStyle,applyMatchedStyle:this.applyMatchedStyle})},e.prototype.variantForShape=function(t,e){switch(t.value){case 2:return e%2==0?"verticalClear":"horizontalClear";case 3:case 4:return"typeClear";case 5:case 6:return"crossClear";case 7:return"bombClear";default:return""}},e.prototype.swapTileWithTile=function(t,e){var r=this.tileAt(t);if(r.tile){this.swapOrigin=r;var n=this.tileAt(e);n.tile&&(this.swapTarget=n,this.rows[n.row][n.col]=r.tile,this.rows[r.row][r.col]=n.tile)}},e.prototype.swapTileInDirection=function(t,e){var r=this.tileAt(t);if(r.tile){this.swapOrigin=r;var n=this.adjacentTile(r,e);n.tile&&(this.swapTarget=n,this.rows[n.row][n.col]=r.tile,this.rows[r.row][r.col]=n.tile)}},e.prototype.clearExistingDragFlags=function(){this.tiles.forEach((function(t){t.selected=!1,t.targeted=!1}))},e.prototype.setDragStartFlags=function(t){this.clearExistingDragFlags(),t.tile.selected=!0,t.tile.targeted=!0},e.prototype.setDragEndFlags=function(){this.clearExistingDragFlags()},e.prototype.setDragFlags=function(t,e){this.clearExistingDragFlags(),t.tile.selected=!0,e.tile.targeted=!0},e.prototype.runDragStartCallbacks=function(t){if(!this.checkSettle()){var e=t.x,r=t.y,n=this.tileAt({x:e,y:r});if(n.tile){this.dragOrigin=n,this.setDragStartFlags(this.dragOrigin);var i=Object(h.a)(t,this.tileCenter(n)),o=t.dragDirection,a=n;this.dragStartCallbacks.forEach((function(l){l({x:e,y:r,distance:i,direction:o,origin:n,destination:a,mouse:t})}))}}},e.prototype.runDragEndCallbacks=function(t){if(!this.checkSettle()){var e=this.dragOrigin;if(e.tile){var r=t.x,n=t.y,i=Object(h.a)(t,this.tileCenter(e)),o=i>this.sensitivity?this.adjacentTile(e,t.dragDirection):e,a=o.tile?o:e,l=t.dragDirection;this.setDragEndFlags(),this.dragEndCallbacks.forEach((function(o){o({x:r,y:n,distance:i,direction:l,origin:e,destination:a,mouse:t})})),this.dragOrigin=C()}}},e.prototype.runDragCallbacks=function(t){if(!this.checkSettle()){var e=this.dragOrigin;if(e.tile){var r=t.x,n=t.y;if(t.pressed){var i=Object(h.a)(t,this.tileCenter(e)),o=i>this.sensitivity?this.adjacentTile(e,t.dragDirection):e,a=o.tile?o:e,l=t.dragDirection;this.setDragFlags(e,a),this.dragCallbacks.forEach((function(o){o({x:r,y:n,distance:i,direction:l,origin:e,destination:a,mouse:t})}))}}}},e.prototype.replaceTile=function(t,e){var r=this.findTile(t),n=r.row,i=r.col;this.rows[n][i]=e},e.prototype.stabilizeInitialTiles=function(t){var e=this;if(void 0===t&&(t=20),t<=0)return this.rows=this.newRows(),void this.stabilizeInitialTiles();var r=this.matchShapes();r.length&&(r[0].tiles.forEach((function(t){return e.replaceTile(t,e.newMundaneTile())})),this.stabilizeInitialTiles(t-1))},e.prototype.possibleMatchesExist=function(){var t=this;return!!Object(h.b)(this.rows,(function(e,r){return Object(h.b)(e,(function(e,n){var i={row:r,col:n};return Object(h.b)(Object(h.i)("up","down","left","right"),(function(e){if(t.swapTileInDirection(i,e),t.matchShapes())return!0;t.swapTileInDirection(i,e)}))}))}))},e.prototype.checkShuffle=function(){this.needsShuffle=!this.possibleMatchesExist()},e}(c.a);window.defaultShapes=x,window.addEventListener("DOMContentLoaded",(function(){var t=new k({width:Math.min(window.innerWidth,window.innerHeight,500),rowCount:9,colCount:9});t.onDragEnd((function(e){t.swapTile(e.origin,e.destination),t.matchShapes().length||t.swapTile(e.origin,e.destination)})),i(l,(function(e){t.draw(l),t.update()})),window.board=t}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmNlcm5zL3V0aWxpdGllcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGlsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQm9hcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvZ2FtZUxvb3AudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvY2FudmFzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb25jZXJucy9kcmF3aW5nLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lL0NhbnZhc1RpbGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvbW91c2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NoYXBlLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lL0NhbnZhc0JvYXJkLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwicmFuZ2UiLCJtaW4iLCJtYXgiLCJtYXhBbmRPck1hcHBlciIsIm1hcHBlciIsInJlYWxNaW4iLCJkaWZmIiwibGlzdCIsIkFycmF5IiwicmFuZCIsImludCIsInJlYWxNYXgiLCJyYW5kb21EaWZmIiwiTWF0aCIsInJhbmRvbSIsImZsb29yIiwic2FtcGxlIiwibGVuZ3RoIiwiZGlzdGFuY2VCZXR3ZWVuIiwib3JpZ2luIiwiZGVzdGluYXRpb24iLCJkeCIsIngiLCJkeSIsInkiLCJzcXJ0Iiwicm90YXRlUG9pbnQiLCJjb29yZHMiLCJhcm91bmQiLCJyYWRpYW5zIiwicmVsYXRpdmUiLCJjb3NpbmUiLCJjb3MiLCJzaW5lIiwic2luIiwibmV3WSIsImlzTnVsbGlzaCIsInRvU3RyaW5nIiwiZmluZE1hcCIsInJlc3VsdCIsImZpbmQiLCJpdGVtIiwiaW5kZXgiLCJvcmlnaW5hbCIsInJvdGF0ZSIsImdyaWQiLCJyb3RhdGlvbnMiLCJxdWFkcmFudHMiLCJyZWR1Y2UiLCJtZW1vIiwicm93Iiwicm93SW5kZXgiLCJmb3JFYWNoIiwiY29sSW5kZXgiLCJuZXdSb3dJbmRleCIsIm5ld0NvbEluZGV4IiwicmV2ZXJzZSIsIm1hcCIsInJvdGF0ZUdyaWRQb3NpdGlvbiIsInJvd3MiLCJjb2xzIiwiY29sIiwidHVwbGUiLCJNVU5EQU5FX1ZBUklBTlQiLCJ0eXBlIiwidmFyaWFudCIsImV4cGxvZGUiLCJ0aGlzIiwiX3ZhcmlhbnQiLCJvcHRzIiwicm93Q291bnQiLCJjb2xDb3VudCIsInRpbGVDbGFzcyIsImFzc2lnbiIsInRpbGVEZWZzIiwiX3Jvd3MiLCJuZXdSb3dzIiwidGlsZXMiLCJrZXlzIiwibmV3TXVuZGFuZVRpbGUiLCJ0aWxlVHlwZSIsInRpbGVUeXBlcyIsImdlbmVyYXRvciIsInNodWZmbGUiLCJ0aWxlIiwiZXhpc3RpbmciLCJnYW1lTG9vcCIsImRyYXciLCJsb29wQ291bnQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjbGVhclJlY3QiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzdHJldGNoQ2FudmFzIiwid2lkdGgiLCJoZWlnaHQiLCJhZGRFdmVudExpc3RlbmVyIiwiYm9keSIsImFwcGVuZENoaWxkIiwiZ2V0Q29udGV4dCIsImNvbnNvbGUiLCJlcnJvciIsImRyYXdEb3VibGVBcnJvdyIsImN0eCIsImRpciIsImZpbGxTdHlsZSIsInN0cm9rZVN0eWxlIiwiY2VudGVyIiwiaGVhZFdpZHRoIiwiaGVhZExlbmd0aCIsInRhaWxXaWR0aCIsInRhaWxMZW5ndGgiLCJ0YWlsQm90dG9tIiwidGFpbFRvcCIsInRhaWxMZWZ0IiwidGFpbFJpZ2h0IiwiaGVhZExlZnQiLCJoZWFkUmlnaHQiLCJ0b3BIZWFkQmFzZSIsInRvcEhlYWRUaXAiLCJib3R0b21IZWFkQmFzZSIsImJvdHRvbUhlYWRUaXAiLCJhbmdsZSIsInZlcnRpY2FsIiwiaG9yaXpvbnRhbCIsIlBJIiwicG9pbnRzIiwicm90YXRlZFBvaW50cyIsInB0IiwiYmVnaW5QYXRoIiwic3RhcnRQb2ludCIsIm1vdmVUbyIsImxpbmVUbyIsImNsb3NlUGF0aCIsImZpbGwiLCJzdHJva2UiLCJNQVhfQ09MT1JfSU5UIiwicGFyc2VJbnQiLCJjb2xvciIsInNlbGVjdGVkIiwidGFyZ2V0ZWQiLCJtYXRjaGVkQXQiLCJibGFuayIsIm1hdGNoQW5pbWF0aW9uTXMiLCJfaW1nVXJsIiwiaW1nVXJsIiwiYXBwbHlOb3JtYWxTdHlsZSIsImRlZmF1bHRBcHBseU5vcm1hbFN0eWxlIiwiYXBwbHlTZWxlY3RlZFN0eWxlIiwiZGVmYXVsdEFwcGx5U2VsZWN0ZWRTdHlsZSIsImFwcGx5VGFyZ2V0ZWRTdHlsZSIsImRlZmF1bHRBcHBseVRhcmdldGVkU3R5bGUiLCJhcHBseU1hdGNoZWRTdHlsZSIsImRlZmF1bHRBcHBseU1hdGNoZWRTdHlsZSIsIm1hdGNoZWQiLCJjbGVhclRpbWVvdXQiLCJibGFua1RpbWVvdXQiLCJEYXRlIiwic2V0VGltZW91dCIsIl9pbWFnZSIsImltYWdlIiwic3JjIiwiZHJhd0ltYWdlIiwiZmlsbFJlY3QiLCJhcnJvd1dpZHRoIiwiYXJyb3dMZW5ndGgiLCJ0YWlsSW50ZXJzZWN0aW9uV2lkdGgiLCJ0YWlsSW50ZXJzZWN0aW9uSGVpZ2h0Iiwibm9ydGhUYWlsQmFzZSIsIm5vcnRoVGFpbFRpcCIsInNvdXRoVGFpbEJhc2UiLCJzb3V0aFRhaWxUaXAiLCJ3ZXN0VGFpbEJhc2UiLCJ3ZXN0VGFpbFRpcCIsImVhc3RUYWlsQmFzZSIsImVhc3RUYWlsVGlwIiwibm9ydGhIZWFkQmFzZSIsIm5vcnRoSGVhZFRpcCIsInNvdXRoSGVhZEJhc2UiLCJzb3V0aEhlYWRUaXAiLCJ3ZXN0SGVhZEJhc2UiLCJ3ZXN0SGVhZFRpcCIsImVhc3RIZWFkQmFzZSIsImVhc3RIZWFkVGlwIiwiaG9yaXpvbnRhbFRhaWxUb3AiLCJob3Jpem9udGFsVGFpbEJvdHRvbSIsInZlcnRpY2FsVGFpbExlZnQiLCJ2ZXJ0aWNhbFRhaWxSaWdodCIsImhvcml6b250YWxIZWFkVG9wIiwiaG9yaXpvbnRhbEhlYWRCb3R0b20iLCJ2ZXJ0aWNhbEhlYWRMZWZ0IiwidmVydGljYWxIZWFkUmlnaHQiLCJkcmF3Q3Jvc3NBcnJvdyIsImdldFRpbWUiLCJib3hXaWR0aCIsImJveEhlaWdodCIsIm1pbGxpcyIsInB1bHNlTXMiLCJzdHJva2VXaWR0aCIsIm1zU2luY2VNYXRjaCIsInBlcmNlbnREb25lIiwiVGlsZSIsInByZXNzZWQiLCJwcmVzc0NhbGxiYWNrcyIsImRlcHJlc3NDYWxsYmFja3MiLCJtb3ZlQ2FsbGJhY2tzIiwicHJlc3NlZFN0YXJ0UG9zIiwiZXZlbnQiLCJwb3B1bGF0ZUZyb21Nb3VzZUV2ZW50IiwiY2FsbGJhY2siLCJwb3B1bGF0ZUZyb21Ub3VjaEV2ZW50IiwiYWJzIiwib25QcmVzcyIsInB1c2giLCJvbkRlcHJlc3MiLCJvbk1vdmUiLCJhbHJlYWR5UHJlc3NlZCIsImJ1dHRvbnMiLCJ0b3VjaGVzIiwidG91Y2giLCJjbGllbnRYIiwiY2xpZW50WSIsImV4dGVuZCIsImZyb21MZW5ndGgiLCJTaGFwZSIsIm9yTW9yZSIsInJvdGF0ZWQiLCJzaGFwZSIsIl9leHRlbmQiLCJsaW5lYXIiLCJfbWFwIiwiX2xpbmVhciIsInJvd0xlbmd0aCIsImV2ZXJ5Iiwic3BhY2UiLCJtYXRjaCIsImZpZWxkIiwicm90YXRpb24iLCJtYXRjaFZhbHVlIiwibWF0Y2hWYWx1ZVNldCIsIm1hdGNoZXJSb3ciLCJncmlkUm93IiwibXVzdE1hdGNoIiwiZ3JpZEl0ZW0iLCJncmlkVmFsdWUiLCJzY3JlZW4iLCJvZmZzZXQiLCJzbGljZSIsImFsbE1hdGNoZWRUaWxlcyIsIm1hdGNoZWRSb3dUaWxlcyIsIm1hcFJvdyIsImNlbnRlclBvc2l0aW9uIiwiX2NlbnRlclBvc2l0aW9uIiwibXVzdE1hdGNoQ291bnQiLCJ0b3RhbCIsInN1bSIsImRlZmF1bHRTaGFwZXMiLCJibGFua0NhbnZhc1RpbGVJbmZvIiwicmVkIiwiZGVmYXVsdE5ld1RpbGVPZlR5cGUiLCJvcmFuZ2UiLCJwdXJwbGUiLCJncmVlbiIsImJsdWUiLCJkcmFnU3RhcnRDYWxsYmFja3MiLCJkcmFnRW5kQ2FsbGJhY2tzIiwiZHJhZ0NhbGxiYWNrcyIsImRyYWdPcmlnaW4iLCJzd2FwT3JpZ2luIiwic3dhcFRhcmdldCIsIm5lZWRzU2h1ZmZsZSIsInJhd1dpZHRoIiwic2Vuc2l0aXZpdHkiLCJzaGFwZXMiLCJydW5EcmFnU3RhcnRDYWxsYmFja3MiLCJydW5EcmFnRW5kQ2FsbGJhY2tzIiwicnVuRHJhZ0NhbGxiYWNrcyIsInN0YWJpbGl6ZUluaXRpYWxUaWxlcyIsImNoZWNrU2h1ZmZsZUludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjaGVja1NodWZmbGUiLCJzZXR0bGluZyIsImNoZWNrU2V0dGxlIiwibXNTaW5jZVNldHRsZSIsInN0YXJ0ZWRTZXR0bGluZ0F0IiwidGlsZUhlaWdodCIsIml0c1N3YXBUaW1lQnJ1aCIsInRpbGVzVG9Td2FwIiwidGlsZUluZGV4IiwicG9zaXRpb24iLCJiZWxvdyIsImFkamFjZW50VGlsZSIsInN3YXBUaWxlIiwidXBkYXRlIiwic3Bhd25OZXdUaWxlcyIsInRpbGVzV2lsbERyb3AiLCJtYXRjaGVkU2hhcGVzIiwibWF0Y2hTaGFwZXMiLCJvcmlnaW5UaWxlIiwidGFyZ2V0VGlsZSIsInNvcnRlZE1hdGNoZWRTaGFwZXMiLCJzb3J0IiwiYSIsImIiLCJzb21lIiwidHJhbnNjZW5kZW50VGlsZXMiLCJNYXAiLCJjZW50ZXJUaWxlIiwiZXhwbG9kZVRpbGUiLCJ2YXJpYW50Rm9yU2hhcGUiLCJ0cmFuc2NlbmRlbnQiLCJzZXQiLCJ2YXJpYW50cyIsImlzTXVuZGFuZSIsImNsZWFyUm93IiwiZmluZFRpbGUiLCJjbGVhckNvbCIsImNsZWFyQ3Jvc3MiLCJjbGVhclR5cGUiLCJjbGVhckJvbWIiLCJib21iU2hhcGUiLCJib21iVG9wIiwiYm9tYkxlZnQiLCJ0aWxlQXQiLCJwb3MiLCJmcmFjdGlvblgiLCJmcmFjdGlvblkiLCJ0YXJnZXQiLCJyb3dUaWxlcyIsInRpbGVDZW50ZXIiLCJ0aWxlSW5mbyIsImZyb20iLCJ0byIsInN3YXBUaWxlSW5EaXJlY3Rpb24iLCJzd2FwVGlsZVdpdGhUaWxlIiwib25EcmFnU3RhcnQiLCJyZW1vdmVEcmFnU3RhcnRMaXN0ZW5lciIsImlkIiwib25EcmFnRW5kIiwicmVtb3ZlRHJhZ0VuZExpc3RlbmVyIiwib25EcmFnIiwicmVtb3ZlRHJhZ0xpc3RlbmVyIiwiYWRqYWNlbnRTcGFjZSIsImRpcmVjdGlvbiIsInJlbW92ZVRpbGUiLCJfcm93IiwibmV3R3JpZCIsInRpbGVXaWR0aCIsImNsZWFyRXhpc3RpbmdEcmFnRmxhZ3MiLCJzZXREcmFnU3RhcnRGbGFncyIsInNldERyYWdFbmRGbGFncyIsInNldERyYWdGbGFncyIsIm1vdXNlIiwiZGlzdGFuY2UiLCJkcmFnRGlyZWN0aW9uIiwicmVwbGFjZVRpbGUiLCJ0aWxlMSIsInRpbGUyIiwidHJpZXMiLCJwb3NzaWJsZU1hdGNoZXNFeGlzdCIsIl90aWxlIiwiQm9hcmQiLCJib2FyZCIsIl9sb29wQ291bnQiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxF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ZjJKLEVBQU10RSxTQUFTckYsRUFBTWhNLE9BQVFnTSxFQUFNL0wsYUFDcEIwVixFQUFNakUsY0FDVDVSLFFBQVE2VixFQUFNdEUsU0FBU3JGLEVBQU1oTSxPQUFRZ00sRUFBTS9MLGdCQUd6RCxFQUFTLEdBQUssU0FBQzJWLEdBQ2JELEVBQU12UixLQUFLLEdBQ1h1UixFQUFNckUsWUFHUDlNLE9BQWVtUixNQUFRQSIsImZpbGUiOiJnYW1lLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDQpO1xuIiwiaW1wb3J0IHsgQ29vcmRQb3NpdGlvbiwgTnVsbGlzaCwgR3JpZFBvc2l0aW9uLCBMaXRlcmFsIH0gZnJvbSBcIi4uL3R5cGVzL2NvbW1vblwiO1xuXG5leHBvcnQgZnVuY3Rpb24gcmFuZ2U8VD4obWluOiBudW1iZXIsIC4uLm1heEFuZE9yTWFwcGVyOiBbXSk6IG51bWJlcltdO1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlPFQ+KG1pbjogbnVtYmVyLCAuLi5tYXhBbmRPck1hcHBlcjogW251bWJlcl0pOiBudW1iZXJbXTtcbmV4cG9ydCBmdW5jdGlvbiByYW5nZTxUPihtaW46IG51bWJlciwgLi4ubWF4QW5kT3JNYXBwZXI6IFsobjogbnVtYmVyKSA9PiBUXSk6IFRbXTtcbmV4cG9ydCBmdW5jdGlvbiByYW5nZTxUPihtaW46IG51bWJlciwgLi4ubWF4QW5kT3JNYXBwZXI6IFtudW1iZXIsIChuOiBudW1iZXIpID0+IFRdKTogVFtdO1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlPFQ+KG1pbjogbnVtYmVyLCAuLi5tYXhBbmRPck1hcHBlcjogW118W251bWJlcnwoKG46IG51bWJlcikgPT4gVCldfFtudW1iZXIsIChuOiBudW1iZXIpID0+IFRdKTogKG51bWJlcnxUKVtdIHtcbiAgY29uc3QgbWF4ID0gdHlwZW9mIG1heEFuZE9yTWFwcGVyWzBdID09PSAnbnVtYmVyJyA/IG1heEFuZE9yTWFwcGVyWzBdIDogMDtcbiAgY29uc3QgbWFwcGVyID0gdHlwZW9mIG1heEFuZE9yTWFwcGVyWzBdID09PSAnZnVuY3Rpb24nID8gbWF4QW5kT3JNYXBwZXJbMF0gOiBtYXhBbmRPck1hcHBlclsxXTtcbiAgY29uc3QgW3JlYWxNaW4sIHJlYWxNYXhdID0gbWluIDwgbWF4ID8gW21pbiwgbWF4XSA6IFttYXgsIG1pbl07XG4gIGNvbnN0IGRpZmYgPSByZWFsTWF4IC0gcmVhbE1pbjtcbiAgY29uc3QgbGlzdCA9IEFycmF5KGRpZmYpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGRpZmY7IGkrKykgbGlzdFtpXSA9IG1hcHBlciA/IG1hcHBlcihpICsgcmVhbE1pbikgOiBpICsgcmVhbE1pbjtcbiAgcmV0dXJuIGxpc3Q7XG59XG5cbmV4cG9ydCBjb25zdCByYW5kID0gKG1pbjogbnVtYmVyLCBtYXggPSAwLCBpbnQgPSB0cnVlKTogbnVtYmVyID0+IHtcbiAgY29uc3QgW3JlYWxNaW4sIHJlYWxNYXhdID0gbWluIDwgbWF4ID8gW21pbiwgbWF4XSA6IFttYXgsIG1pbl07XG4gIGNvbnN0IHJhbmRvbURpZmYgPSBNYXRoLnJhbmRvbSgpICogKHJlYWxNYXggLSByZWFsTWluKTtcbiAgcmV0dXJuIHJlYWxNaW4gKyAoaW50ID8gTWF0aC5mbG9vcihyYW5kb21EaWZmKSA6IHJhbmRvbURpZmYpO1xufTtcblxuZXhwb3J0IGNvbnN0IGRhbXBlbiA9IChudW06IG51bWJlciwgYnk6IG51bWJlciwgY2VudGVyID0gMCk6IG51bWJlciA9PiB7XG4gIC8vIG51bWJlciBpcyBhbHJlYWR5IGF0IHRoZSBjZW50ZXJcbiAgaWYgKG51bSA9PT0gY2VudGVyKSByZXR1cm4gY2VudGVyO1xuXG4gIC8vIG51bWJlciBpcyBoaWdoZXIgdGhhbiB0aGUgY2VudGVyOyBzdWJ0cmFjdCBhbmQgZG9uJ3Qgb3ZlcnNob290IHRoZSBjZW50ZXJcbiAgaWYgKG51bSA+IGNlbnRlcikge1xuICAgIGNvbnN0IG5ld051bSA9IG51bSAtIGJ5O1xuICAgIHJldHVybiBuZXdOdW0gPCBjZW50ZXIgPyBjZW50ZXIgOiBuZXdOdW07XG4gIH1cblxuICAvLyBudW1iZXIgaXMgbG93ZXIgdGhhbiB0aGUgY2VudGVyOyBhZGQgYW5kIGRvbid0IG92ZXJzaG9vdCB0aGUgY2VudGVyXG4gIGNvbnN0IG5ld051bSA9IG51bSArIGJ5O1xuICByZXR1cm4gbmV3TnVtID4gY2VudGVyID8gY2VudGVyIDogbmV3TnVtO1xufTtcblxuZXhwb3J0IGNvbnN0IGJvdW5kID0gKG51bTogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICBjb25zdCBbcmVhbE1pbiwgcmVhbE1heF0gPSBtaW4gPCBtYXggPyBbbWluLCBtYXhdIDogW21heCwgbWluXTtcbiAgaWYgKG51bSA8IHJlYWxNaW4pIHJldHVybiByZWFsTWluO1xuICBpZiAobnVtID4gcmVhbE1heCkgcmV0dXJuIHJlYWxNYXg7XG4gIHJldHVybiBudW07XG59O1xuXG5leHBvcnQgY29uc3QgYmV0d2VlbiA9IChudW06IG51bWJlciwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyLCBpbmNsdXNpdmUgPSB0cnVlKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IFtyZWFsTWluLCByZWFsTWF4XSA9IG1pbiA8IG1heCA/IFttaW4sIG1heF0gOiBbbWF4LCBtaW5dO1xuICByZXR1cm4gaW5jbHVzaXZlID8gKG51bSA+PSByZWFsTWluICYmIG51bSA8PSByZWFsTWF4KSA6IChudW0gPiByZWFsTWluICYmIG51bSA8IHJlYWxNYXgpO1xufTtcblxuZXhwb3J0IGNvbnN0IGRpZmZlcmVuY2UgPSAobjogbnVtYmVyLCBtOiBudW1iZXIpOiBudW1iZXIgPT4gTWF0aC5hYnMobiAtIG0pO1xuXG5leHBvcnQgY29uc3Qgc2FtcGxlID0gPFQ+KGxpc3Q6IFRbXSk6IFQgPT4ge1xuICByZXR1cm4gbGlzdFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsaXN0Lmxlbmd0aCldO1xufTtcblxuZXhwb3J0IGNvbnN0IGRpc3RhbmNlQmV0d2VlbiA9IChvcmlnaW46IENvb3JkUG9zaXRpb24sIGRlc3RpbmF0aW9uOiBDb29yZFBvc2l0aW9uKTogbnVtYmVyID0+IHtcbiAgY29uc3QgZHggPSBkZXN0aW5hdGlvbi54IC0gb3JpZ2luLng7XG4gIGNvbnN0IGR5ID0gZGVzdGluYXRpb24ueSAtIG9yaWdpbi55O1xuICByZXR1cm4gTWF0aC5zcXJ0KChkeCAqKiAyKSArIChkeSAqKiAyKSk7XG59O1xuXG5leHBvcnQgY29uc3Qgcm90YXRlUG9pbnQgPSAoY29vcmRzOiBDb29yZFBvc2l0aW9uLCBhcm91bmQ6IENvb3JkUG9zaXRpb24sIHJhZGlhbnM6IG51bWJlcik6IENvb3JkUG9zaXRpb24gPT4ge1xuICBjb25zdCByZWxhdGl2ZSA9IHsgeDogY29vcmRzLnggLSBhcm91bmQueCwgeTogY29vcmRzLnkgLSBhcm91bmQueSB9O1xuICBjb25zdCBjb3NpbmUgPSBNYXRoLmNvcyhyYWRpYW5zKTtcbiAgY29uc3Qgc2luZSA9IE1hdGguc2luKHJhZGlhbnMpO1xuICBjb25zdCBuZXdYID0gKHJlbGF0aXZlLnggKiBjb3NpbmUpIC0gKHJlbGF0aXZlLnkgKiBzaW5lKTtcbiAgY29uc3QgbmV3WSA9IChyZWxhdGl2ZS54ICogc2luZSkgKyAocmVsYXRpdmUueSAqIGNvc2luZSk7XG4gIHJldHVybiB7IHg6IG5ld1ggKyBhcm91bmQueCwgeTogbmV3WSArIGFyb3VuZC55IH07XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gaXNOdWxsaXNoKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBOdWxsaXNoIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgTnVsbF0nO1xufVxuXG5leHBvcnQgY29uc3QgZmlsdGVyTWFwID0gPFQsIEs+KGxpc3Q6IFRbXSwgbWFwcGVyOiAoaXRlbTogVCwgaW5kZXg6IG51bWJlciwgb3JpZ2luYWw6IFRbXSkgPT4gS3xOdWxsaXNoKTogS1tdID0+IHtcbiAgcmV0dXJuIGxpc3QucmVkdWNlKChtZW1vLCBpdGVtLCBpbmRleCwgb3JpZ2luYWwpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSBtYXBwZXIoaXRlbSwgaW5kZXgsIG9yaWdpbmFsKTtcbiAgICByZXR1cm4gaXNOdWxsaXNoKHJlc3VsdCkgPyBtZW1vIDogWy4uLm1lbW8sIHJlc3VsdF07XG4gIH0sIFtdIGFzIEtbXSk7XG59O1xuXG5leHBvcnQgY29uc3QgZmluZE1hcCA9IDxULCBLPihsaXN0OiBUW10sIG1hcHBlcjogKGl0ZW06IFQsIGluZGV4OiBudW1iZXIsIG9yaWdpbmFsOiBUW10pID0+IEt8TnVsbGlzaCk6IEt8dW5kZWZpbmVkID0+IHtcbiAgbGV0IHJlc3VsdDtcbiAgbGlzdC5maW5kKChpdGVtLCBpbmRleCwgb3JpZ2luYWwpID0+IHtcbiAgICByZXN1bHQgPSBtYXBwZXIoaXRlbSwgaW5kZXgsIG9yaWdpbmFsKTtcbiAgICByZXR1cm4gIWlzTnVsbGlzaChyZXN1bHQpO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBjb25zdCB1bmlxID0gPFQsIFAgZXh0ZW5kcyBrZXlvZiBUPihsaXN0OiBUW10sIG1hcHBlcjogUHxOdWxsaXNofCgoaXRlbTogVCwgaW5kZXg6IG51bWJlciwgb3JpZ2luYWw6IFRbXSkgPT4gYW55KSwgc29ydGVkID0gZmFsc2UpOiBUW10gPT4ge1xuICBjb25zdCBtYXBwZXJGbiA9IGlzTnVsbGlzaChtYXBwZXIpIHx8IHR5cGVvZiBtYXBwZXIgPT09ICdmdW5jdGlvbicgPyBtYXBwZXIgOiAoaXRlbTogVCkgPT4gaXRlbVttYXBwZXJdO1xuXG4gIGlmIChzb3J0ZWQgJiYgIW1hcHBlckZuKSB7XG4gICAgbGV0IGxhc3RTZWVuOiBUO1xuICAgIHJldHVybiBsaXN0LnJlZHVjZSgobWVtbywgaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCAhPT0gMCAmJiBpdGVtID09PSBsYXN0U2VlbikgcmV0dXJuIG1lbW87XG4gICAgICBsYXN0U2VlbiA9IGl0ZW07XG4gICAgICByZXR1cm4gWy4uLm1lbW8sIGl0ZW1dO1xuICAgIH0sIFtdIGFzIFRbXSk7XG4gIH1cblxuICBjb25zdCBzZWVuID0gbmV3IFNldCgpO1xuICByZXR1cm4gbGlzdC5yZWR1Y2UoKG1lbW8sIGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgY29uc3Qga2V5ID0gbWFwcGVyRm4gPyBtYXBwZXJGbihpdGVtLCBpbmRleCwgbGlzdCkgOiBpdGVtO1xuICAgIGlmIChzZWVuLmhhcyhrZXkpKSByZXR1cm4gbWVtbztcbiAgICBzZWVuLmFkZChrZXkpO1xuICAgIHJldHVybiBbLi4ubWVtbywgaXRlbV07XG4gIH0sIFtdIGFzIFRbXSk7XG59O1xuXG5leHBvcnQgY29uc3Qgcm90YXRlID0gPFQ+KGdyaWQ6IFRbXVtdLCByb3RhdGlvbnMgPSAxKTogVFtdW10gPT4ge1xuICBjb25zdCBxdWFkcmFudHMgPSByb3RhdGlvbnMgJSA0O1xuICBzd2l0Y2ggKHF1YWRyYW50cyA8IDAgPyA0IC0gcXVhZHJhbnRzIDogcXVhZHJhbnRzKSB7XG4gICAgY2FzZSAxOiB7XG4gICAgICByZXR1cm4gZ3JpZC5yZWR1Y2UoKG1lbW8sIHJvdywgcm93SW5kZXgpID0+IHtcbiAgICAgICAgcm93LmZvckVhY2goKGl0ZW0sIGNvbEluZGV4KSA9PiB7XG4gICAgICAgICAgY29uc3QgbmV3Um93SW5kZXggPSBjb2xJbmRleDtcbiAgICAgICAgICBjb25zdCBuZXdDb2xJbmRleCA9IGdyaWQubGVuZ3RoIC0gcm93SW5kZXggLSAxO1xuICAgICAgICAgIG1lbW9bbmV3Um93SW5kZXhdID0gbWVtb1tuZXdSb3dJbmRleF0gfHwgW107XG4gICAgICAgICAgbWVtb1tuZXdSb3dJbmRleF1bbmV3Q29sSW5kZXhdID0gaXRlbTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtZW1vO1xuICAgICAgfSwgW10gYXMgVFtdW10pO1xuICAgIH1cbiAgICBjYXNlIDI6IHJldHVybiBbLi4uZ3JpZF0ucmV2ZXJzZSgpLm1hcChyb3cgPT4gWy4uLnJvd10ucmV2ZXJzZSgpKTtcbiAgICBjYXNlIDM6IHtcbiAgICAgIHJldHVybiBncmlkLnJlZHVjZSgobWVtbywgcm93LCByb3dJbmRleCkgPT4ge1xuICAgICAgICByb3cuZm9yRWFjaCgoaXRlbSwgY29sSW5kZXgpID0+IHtcbiAgICAgICAgICBjb25zdCBuZXdSb3dJbmRleCA9IHJvdy5sZW5ndGggLSBjb2xJbmRleCAtIDE7XG4gICAgICAgICAgY29uc3QgbmV3Q29sSW5kZXggPSByb3dJbmRleDtcbiAgICAgICAgICBtZW1vW25ld1Jvd0luZGV4XSA9IG1lbW9bbmV3Um93SW5kZXhdIHx8IFtdO1xuICAgICAgICAgIG1lbW9bbmV3Um93SW5kZXhdW25ld0NvbEluZGV4XSA9IGl0ZW07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWVtbztcbiAgICAgIH0sIFtdIGFzIFRbXVtdKTtcbiAgICB9XG4gICAgZGVmYXVsdDogcmV0dXJuIGdyaWQubWFwKHJvdyA9PiBbLi4ucm93XSk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCByb3RhdGVHcmlkUG9zaXRpb24gPSAoeyByb3csIGNvbCB9OiBHcmlkUG9zaXRpb24sIHJvd3M6IG51bWJlciwgY29sczogbnVtYmVyLCByb3RhdGlvbnM6IG51bWJlcik6IEdyaWRQb3NpdGlvbiA9PiB7XG4gIGNvbnN0IHF1YWRyYW50cyA9IHJvdGF0aW9ucyAlIDQ7XG4gIHN3aXRjaCAocXVhZHJhbnRzIDwgMCA/IDQgLSBxdWFkcmFudHMgOiBxdWFkcmFudHMpIHtcbiAgICBjYXNlIDE6IHJldHVybiB7IHJvdzogY29sLCBjb2w6IHJvd3MgLSByb3cgLSAxIH07XG4gICAgY2FzZSAyOiByZXR1cm4geyByb3c6IHJvd3MgLSByb3cgLSAxLCBjb2w6IGNvbHMgLSBjb2wgLSAxIH07XG4gICAgY2FzZSAzOiByZXR1cm4geyByb3c6IGNvbHMgLSBjb2wgLSAxLCBjb2w6IHJvdyB9O1xuICAgIGRlZmF1bHQ6IHJldHVybiB7IHJvdywgY29sIH07XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB0dXBsZSA9IDxUIGV4dGVuZHMgTGl0ZXJhbD4oLi4ubGlzdDogVFtdKTogVFtdID0+IGxpc3Q7XG4iLCJpbXBvcnQgeyBOZWVkIH0gZnJvbSBcIi4vdHlwZXMvY29tbW9uXCI7XG5cbmNvbnN0IE1VTkRBTkVfVkFSSUFOVCA9ICdtdW5kYW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsZSB7XG4gIHB1YmxpYyB0eXBlOiBzdHJpbmc7XG4gIHB1YmxpYyB2YWx1ZTogbnVtYmVyO1xuICBwdWJsaWMgZXhwbG9kZSA9IGZhbHNlO1xuICBwdWJsaWMgX3ZhcmlhbnQhOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoeyB0eXBlLCB2YWx1ZSwgdmFyaWFudCB9OiBOZWVkPFRpbGUsICd0eXBlJz4pIHtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZSB8fCAxO1xuICAgIHRoaXMuX3ZhcmlhbnQgPSB2YXJpYW50IHx8IE1VTkRBTkVfVkFSSUFOVDtcbiAgfVxuXG4gIHNldCB2YXJpYW50KHZhcmlhbnQ6IHN0cmluZykgeyB0aGlzLl92YXJpYW50ID0gdmFyaWFudCB8fCBNVU5EQU5FX1ZBUklBTlQgfVxuICBnZXQgdmFyaWFudCgpOiBzdHJpbmcgeyByZXR1cm4gdGhpcy5fdmFyaWFudCB8fCBNVU5EQU5FX1ZBUklBTlQgfVxuXG4gIGdldCBpc011bmRhbmUoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLnZhcmlhbnQgPT09IE1VTkRBTkVfVkFSSUFOVCB9XG59XG4iLCJpbXBvcnQgVGlsZSBmcm9tIFwiLi9UaWxlXCI7XG5pbXBvcnQgeyByYW5nZSwgc2FtcGxlLCByb3RhdGUsIHJhbmQgfSBmcm9tIFwiLi9jb25jZXJucy91dGlsaXRpZXNcIjtcbmltcG9ydCB7IE5lZWQgfSBmcm9tIFwiLi90eXBlcy9jb21tb25cIjtcblxuZXhwb3J0IHR5cGUgVGlsZUdlbmVyYXRvcjxUaWxlQ2xhc3MgZXh0ZW5kcyBUaWxlPiA9IChvcHRzOiBQaWNrPFRpbGVDbGFzcywgJ3ZhcmlhbnQnPikgPT4gVGlsZUNsYXNzO1xuXG5leHBvcnQgaW50ZXJmYWNlIE11bmRhbmVUaWxlRGVmPFRpbGVDbGFzcyBleHRlbmRzIFRpbGU+IHtcbiAgZ2VuZXJhdG9yOiBUaWxlR2VuZXJhdG9yPFRpbGVDbGFzcz47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3BlY2lhbFRpbGVEZWY8VGlsZUNsYXNzIGV4dGVuZHMgVGlsZT4ge1xuICBnZW5lcmF0b3I6IFRpbGVHZW5lcmF0b3I8VGlsZUNsYXNzPjtcbn1cblxuZXhwb3J0IHR5cGUgVGlsZURlZjxUaWxlQ2xhc3MgZXh0ZW5kcyBUaWxlPiA9IE11bmRhbmVUaWxlRGVmPFRpbGVDbGFzcz4gfCBTcGVjaWFsVGlsZURlZjxUaWxlQ2xhc3M+O1xuXG5leHBvcnQgaW50ZXJmYWNlIE11bmRhbmVUaWxlRGVmczxUaWxlQ2xhc3MgZXh0ZW5kcyBUaWxlPiB7XG4gIFt0eXBlOiBzdHJpbmddOiBNdW5kYW5lVGlsZURlZjxUaWxlQ2xhc3M+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNwZWNpYWxUaWxlRGVmczxUaWxlQ2xhc3MgZXh0ZW5kcyBUaWxlPiB7XG4gIFt0eXBlOiBzdHJpbmddOiBNdW5kYW5lVGlsZURlZjxUaWxlQ2xhc3M+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRpbGVEZWZzPFRpbGVDbGFzcyBleHRlbmRzIFRpbGU+IHtcbiAgW3R5cGU6IHN0cmluZ106IFRpbGVEZWY8VGlsZUNsYXNzPjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQm9hcmQ8VGlsZUNsYXNzIGV4dGVuZHMgVGlsZSA9IFRpbGU+IHtcbiAgcHVibGljIHJvd0NvdW50ID0gOTtcbiAgcHVibGljIGNvbENvdW50ID0gOTtcbiAgcHVibGljIHRpbGVDbGFzcyA9IFRpbGU7XG4gIHB1YmxpYyB0aWxlRGVmczogVGlsZURlZnM8VGlsZUNsYXNzPjtcbiAgcHJpdmF0ZSBfcm93cz86IFRpbGVDbGFzc1tdW107XG5cbiAgY29uc3RydWN0b3Iob3B0czogTmVlZDxCb2FyZDxUaWxlQ2xhc3M+LCAndGlsZURlZnMnPikge1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0cyk7XG4gICAgdGhpcy50aWxlRGVmcyA9IG9wdHMudGlsZURlZnM7XG4gIH1cblxuICBnZXQgcm93cygpOiBUaWxlQ2xhc3NbXVtdIHtcbiAgICB0aGlzLl9yb3dzID0gdGhpcy5fcm93cyB8fCB0aGlzLm5ld1Jvd3MoKTtcbiAgICByZXR1cm4gdGhpcy5fcm93cztcbiAgfVxuXG4gIHNldCByb3dzKHJvd3M6IFRpbGVDbGFzc1tdW10pIHtcbiAgICB0aGlzLl9yb3dzID0gcm93cztcbiAgfVxuXG4gIGdldCB0aWxlcygpOiBUaWxlQ2xhc3NbXSB7XG4gICAgcmV0dXJuIHRoaXMucm93cy5yZWR1Y2UoKHRpbGVzLCByb3cpID0+IFsuLi50aWxlcywgLi4ucm93XSwgW10pO1xuICB9XG5cbiAgZ2V0IHRpbGVUeXBlcygpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMudGlsZURlZnMpO1xuICB9XG5cbiAgbmV3TXVuZGFuZVRpbGUoKTogVGlsZUNsYXNzIHtcbiAgICBjb25zdCB0aWxlVHlwZSA9IHNhbXBsZSh0aGlzLnRpbGVUeXBlcyk7XG4gICAgY29uc3QgdGlsZURlZiA9IHRoaXMudGlsZURlZnNbdGlsZVR5cGVdO1xuICAgIHJldHVybiB0aWxlRGVmLmdlbmVyYXRvcih7IHZhcmlhbnQ6ICdtdW5kYW5lJyB9KTtcbiAgfVxuXG4gIG5ld1Jvd3MoKTogVGlsZUNsYXNzW11bXSB7XG4gICAgcmV0dXJuIHJhbmdlKHRoaXMucm93Q291bnQsICgpID0+IChyYW5nZSh0aGlzLmNvbENvdW50LCAoKSA9PiB0aGlzLm5ld011bmRhbmVUaWxlKCkpKSk7XG4gIH1cblxuICBzaHVmZmxlKCk6IHZvaWQge1xuICAgIGNvbnN0IHJvd0NvdW50ID0gdGhpcy5yb3dzLmxlbmd0aDtcbiAgICB0aGlzLnJvd3MuZm9yRWFjaCgocm93LCByb3dJbmRleCkgPT4ge1xuICAgICAgY29uc3QgY29sQ291bnQgPSByb3cubGVuZ3RoO1xuICAgICAgcm93LmZvckVhY2goKHRpbGUsIGNvbEluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1Jvd0luZGV4ID0gcmFuZChyb3dDb3VudCk7XG4gICAgICAgIGNvbnN0IG5ld0NvbEluZGV4ID0gcmFuZChjb2xDb3VudCk7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nID0gdGhpcy5yb3dzW25ld1Jvd0luZGV4XVtuZXdDb2xJbmRleF07XG4gICAgICAgIHRoaXMucm93c1tuZXdSb3dJbmRleF1bbmV3Q29sSW5kZXhdID0gdGlsZTtcbiAgICAgICAgdGhpcy5yb3dzW3Jvd0luZGV4XVtjb2xJbmRleF0gPSBleGlzdGluZztcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJjb25zdCBnYW1lTG9vcCA9IChjOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGRyYXc6IChsb29wQ291bnQ6IG51bWJlcikgPT4gdm9pZCwgbG9vcENvdW50ID0gMCk6IHZvaWQgPT4ge1xuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gZ2FtZUxvb3AoYywgZHJhdywgbG9vcENvdW50ICsgMSkpO1xuICBjLmNsZWFyUmVjdCgwLCAwLCB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgZHJhdyhsb29wQ291bnQpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2FtZUxvb3A7XG4iLCJjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuY29uc3Qgc3RyZXRjaENhbnZhcyA9ICgpOiB2b2lkID0+IHtcbiAgY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gIGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG59O1xuXG5zdHJldGNoQ2FudmFzKCk7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc3RyZXRjaENhbnZhcyk7XG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNhbnZhcyk7XG5cbmNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpITtcbmlmICghY3R4KSBjb25zb2xlLmVycm9yKFwiQ2FudmFzICcyZCcgY29udGV4dCBpcyBub3Qgc3VwcG9ydGVkLlwiKTtcblxuZXhwb3J0IHsgY3R4IH07XG5leHBvcnQgZGVmYXVsdCBjYW52YXM7XG4iLCJpbXBvcnQgeyBDb29yZFBvc2l0aW9uIH0gZnJvbSBcIi4uL3R5cGVzL2NvbW1vblwiO1xuaW1wb3J0IHsgcm90YXRlUG9pbnQgfSBmcm9tIFwiLi91dGlsaXRpZXNcIjtcblxuZXhwb3J0IGNvbnN0IGRyYXdBcnJvdyA9IChcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG4gIGRpcjogJ3VwJ3wnZG93bid8J2xlZnQnfCdyaWdodCcsXG4gIGZpbGxTdHlsZTogc3RyaW5nLFxuICBzdHJva2VTdHlsZTogc3RyaW5nLFxuICBjZW50ZXI6IENvb3JkUG9zaXRpb24sXG4gIHdpZHRoOiBudW1iZXIsXG4gIGxlbmd0aDogbnVtYmVyXG4pOiB2b2lkID0+IHtcbiAgY29uc3QgaGVhZFdpZHRoID0gd2lkdGggKiAyO1xuICBjb25zdCBoZWFkTGVuZ3RoID0gMC43NSAqIGhlYWRXaWR0aDtcbiAgY29uc3QgdGFpbFdpZHRoID0gd2lkdGg7XG4gIGNvbnN0IHRhaWxMZW5ndGggPSBsZW5ndGggLSBoZWFkTGVuZ3RoO1xuICAvLyBjb25zdCB0YWlsQm90dG9tID0gY2VudGVyLnkgKyAodGFpbFdpZHRoIC8gMik7IC8vIGxpa2UgYWZmaXhpbmcgaXQgd2l0aCBhIG5haWwgc28gdGhhdCBpdCdzIGNlbnRlcmVkIHNlbWktc3F1YXJlIHdpdGggdGhlIGVuZFxuICBjb25zdCB0YWlsQm90dG9tID0gY2VudGVyLnkgKyAodGFpbExlbmd0aCAvIDIpICsgKGhlYWRMZW5ndGggLyAyKTtcbiAgY29uc3QgdGFpbFRvcCA9IHRhaWxCb3R0b20gLSB0YWlsTGVuZ3RoO1xuICBjb25zdCB0YWlsTGVmdCA9IGNlbnRlci54IC0gKHRhaWxXaWR0aCAvIDIpO1xuICBjb25zdCB0YWlsUmlnaHQgPSBjZW50ZXIueCArICh0YWlsV2lkdGggLyAyKTtcbiAgY29uc3QgaGVhZEJvdHRvbSA9IHRhaWxUb3A7XG4gIGNvbnN0IGhlYWRUb3AgPSBoZWFkQm90dG9tIC0gaGVhZExlbmd0aDtcbiAgY29uc3QgaGVhZExlZnQgPSBjZW50ZXIueCAtIChoZWFkV2lkdGggLyAyKTtcbiAgY29uc3QgaGVhZFJpZ2h0ID0gY2VudGVyLnggKyAoaGVhZFdpZHRoIC8gMik7XG5cbiAgY29uc3QgYW5nbGUgPSB7XG4gICAgdXA6IDAsXG4gICAgcmlnaHQ6IDAuNSAqIE1hdGguUEksXG4gICAgZG93bjogTWF0aC5QSSxcbiAgICBsZWZ0OiAxLjUgKiBNYXRoLlBJLFxuICB9W2Rpcl07XG5cbiAgY29uc3QgcG9pbnRzID0gW1xuICAgIHsgeDogdGFpbExlZnQsIHk6IHRhaWxUb3AgfSxcbiAgICB7IHg6IHRhaWxMZWZ0LCB5OiB0YWlsQm90dG9tIH0sXG4gICAgeyB4OiB0YWlsUmlnaHQsIHk6IHRhaWxCb3R0b20gfSxcbiAgICB7IHg6IHRhaWxSaWdodCwgeTogdGFpbFRvcCB9LFxuICAgIHsgeDogaGVhZFJpZ2h0LCB5OiBoZWFkQm90dG9tIH0sXG4gICAgeyB4OiBjZW50ZXIueCwgeTogaGVhZFRvcCB9LFxuICAgIHsgeDogaGVhZExlZnQsIHk6IGhlYWRCb3R0b20gfSxcbiAgXTtcblxuICBjb25zdCByb3RhdGVkUG9pbnRzID0gYW5nbGUgPyBwb2ludHMubWFwKHB0ID0+IHJvdGF0ZVBvaW50KHB0LCBjZW50ZXIsIGFuZ2xlKSkgOiBwb2ludHM7XG5cbiAgY3R4LmZpbGxTdHlsZSA9IGZpbGxTdHlsZTtcbiAgY3R4LnN0cm9rZVN0eWxlID0gc3Ryb2tlU3R5bGU7XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY29uc3Qgc3RhcnRQb2ludCA9IHJvdGF0ZWRQb2ludHNbMF07XG4gIGN0eC5tb3ZlVG8oc3RhcnRQb2ludC54LCBzdGFydFBvaW50LnkpO1xuICByb3RhdGVkUG9pbnRzLmZvckVhY2goKHsgeCwgeSB9KSA9PiBjdHgubGluZVRvKHgsIHkpKTtcbiAgY3R4LmxpbmVUbyhzdGFydFBvaW50LngsIHN0YXJ0UG9pbnQueSk7XG4gIGN0eC5jbG9zZVBhdGgoKTtcbiAgY3R4LmZpbGwoKTtcbiAgaWYgKHN0cm9rZVN0eWxlKSBjdHguc3Ryb2tlKCk7XG59O1xuXG5leHBvcnQgY29uc3QgZHJhd0RvdWJsZUFycm93ID0gKFxuICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgZGlyOiAnaG9yaXpvbnRhbCd8J3ZlcnRpY2FsJyxcbiAgZmlsbFN0eWxlOiBzdHJpbmcsXG4gIHN0cm9rZVN0eWxlOiBzdHJpbmcsXG4gIGNlbnRlcjogQ29vcmRQb3NpdGlvbixcbiAgd2lkdGg6IG51bWJlcixcbiAgbGVuZ3RoOiBudW1iZXJcbik6IHZvaWQgPT4ge1xuICBjb25zdCBoZWFkV2lkdGggPSB3aWR0aCAqIDI7XG4gIGNvbnN0IGhlYWRMZW5ndGggPSAwLjc1ICogaGVhZFdpZHRoO1xuICBjb25zdCB0YWlsV2lkdGggPSB3aWR0aDtcbiAgY29uc3QgdGFpbExlbmd0aCA9IGxlbmd0aCAtIChoZWFkTGVuZ3RoICogMik7XG4gIGNvbnN0IHRhaWxCb3R0b20gPSBjZW50ZXIueSArICh0YWlsTGVuZ3RoIC8gMik7XG4gIGNvbnN0IHRhaWxUb3AgPSB0YWlsQm90dG9tIC0gdGFpbExlbmd0aDtcbiAgY29uc3QgdGFpbExlZnQgPSBjZW50ZXIueCAtICh0YWlsV2lkdGggLyAyKTtcbiAgY29uc3QgdGFpbFJpZ2h0ID0gY2VudGVyLnggKyAodGFpbFdpZHRoIC8gMik7XG4gIGNvbnN0IGhlYWRMZWZ0ID0gY2VudGVyLnggLSAoaGVhZFdpZHRoIC8gMik7XG4gIGNvbnN0IGhlYWRSaWdodCA9IGNlbnRlci54ICsgKGhlYWRXaWR0aCAvIDIpO1xuICBjb25zdCB0b3BIZWFkQmFzZSA9IHRhaWxUb3A7XG4gIGNvbnN0IHRvcEhlYWRUaXAgPSB0b3BIZWFkQmFzZSAtIGhlYWRMZW5ndGg7XG4gIGNvbnN0IGJvdHRvbUhlYWRCYXNlID0gdGFpbEJvdHRvbTtcbiAgY29uc3QgYm90dG9tSGVhZFRpcCA9IGJvdHRvbUhlYWRCYXNlICsgaGVhZExlbmd0aDtcblxuICBjb25zdCBhbmdsZSA9IHtcbiAgICB2ZXJ0aWNhbDogMCxcbiAgICBob3Jpem9udGFsOiAwLjUgKiBNYXRoLlBJLFxuICB9W2Rpcl07XG5cbiAgY29uc3QgcG9pbnRzID0gW1xuICAgIHsgeDogdGFpbExlZnQsIHk6IHRhaWxUb3AgfSxcbiAgICB7IHg6IHRhaWxMZWZ0LCB5OiB0YWlsQm90dG9tIH0sXG4gICAgeyB4OiBoZWFkTGVmdCwgeTogYm90dG9tSGVhZEJhc2UgfSxcbiAgICB7IHg6IGNlbnRlci54LCB5OiBib3R0b21IZWFkVGlwIH0sXG4gICAgeyB4OiBoZWFkUmlnaHQsIHk6IGJvdHRvbUhlYWRCYXNlIH0sXG4gICAgeyB4OiB0YWlsUmlnaHQsIHk6IHRhaWxCb3R0b20gfSxcbiAgICB7IHg6IHRhaWxSaWdodCwgeTogdGFpbFRvcCB9LFxuICAgIHsgeDogaGVhZFJpZ2h0LCB5OiB0b3BIZWFkQmFzZSB9LFxuICAgIHsgeDogY2VudGVyLngsIHk6IHRvcEhlYWRUaXAgfSxcbiAgICB7IHg6IGhlYWRMZWZ0LCB5OiB0b3BIZWFkQmFzZSB9LFxuICBdO1xuXG4gIGNvbnN0IHJvdGF0ZWRQb2ludHMgPSBhbmdsZSA/IHBvaW50cy5tYXAocHQgPT4gcm90YXRlUG9pbnQocHQsIGNlbnRlciwgYW5nbGUpKSA6IHBvaW50cztcblxuICBjdHguZmlsbFN0eWxlID0gZmlsbFN0eWxlO1xuICBjdHguc3Ryb2tlU3R5bGUgPSBzdHJva2VTdHlsZTtcbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjb25zdCBzdGFydFBvaW50ID0gcm90YXRlZFBvaW50c1swXTtcbiAgY3R4Lm1vdmVUbyhzdGFydFBvaW50LngsIHN0YXJ0UG9pbnQueSk7XG4gIHJvdGF0ZWRQb2ludHMuZm9yRWFjaCgoeyB4LCB5IH0pID0+IGN0eC5saW5lVG8oeCwgeSkpO1xuICBjdHgubGluZVRvKHN0YXJ0UG9pbnQueCwgc3RhcnRQb2ludC55KTtcbiAgY3R4LmNsb3NlUGF0aCgpO1xuICBjdHguZmlsbCgpO1xuICBpZiAoc3Ryb2tlU3R5bGUpIGN0eC5zdHJva2UoKTtcbn07XG5cbmV4cG9ydCBjb25zdCBkcmF3Q3Jvc3NBcnJvdyA9IChcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG4gIGZpbGxTdHlsZTogc3RyaW5nLFxuICBzdHJva2VTdHlsZTogc3RyaW5nLFxuICBjZW50ZXI6IENvb3JkUG9zaXRpb24sXG4gIHdpZHRoOiBudW1iZXIsXG4gIGxlbmd0aDogbnVtYmVyXG4pOiB2b2lkID0+IHtcbiAgY29uc3QgaGVhZFdpZHRoID0gd2lkdGggKiAyO1xuICBjb25zdCBoZWFkTGVuZ3RoID0gMC43NSAqIGhlYWRXaWR0aDtcbiAgY29uc3QgdGFpbFdpZHRoID0gd2lkdGg7XG4gIGNvbnN0IHRhaWxJbnRlcnNlY3Rpb25XaWR0aCA9IHRhaWxXaWR0aDtcbiAgY29uc3QgdGFpbEludGVyc2VjdGlvbkhlaWdodCA9IHRhaWxJbnRlcnNlY3Rpb25XaWR0aDtcbiAgY29uc3QgdGFpbExlbmd0aCA9IGxlbmd0aCAtIChoZWFkTGVuZ3RoICogMikgLSB0YWlsSW50ZXJzZWN0aW9uV2lkdGg7XG5cbiAgY29uc3Qgbm9ydGhUYWlsQmFzZSA9IGNlbnRlci55IC0gKHRhaWxJbnRlcnNlY3Rpb25IZWlnaHQgLyAyKTtcbiAgY29uc3Qgbm9ydGhUYWlsVGlwID0gbm9ydGhUYWlsQmFzZSAtIHRhaWxMZW5ndGg7XG4gIGNvbnN0IHNvdXRoVGFpbEJhc2UgPSBjZW50ZXIueSArICh0YWlsSW50ZXJzZWN0aW9uSGVpZ2h0IC8gMik7XG4gIGNvbnN0IHNvdXRoVGFpbFRpcCA9IHNvdXRoVGFpbEJhc2UgKyB0YWlsTGVuZ3RoO1xuICBjb25zdCB3ZXN0VGFpbEJhc2UgPSBjZW50ZXIueCAtICh0YWlsSW50ZXJzZWN0aW9uV2lkdGggLyAyKTtcbiAgY29uc3Qgd2VzdFRhaWxUaXAgPSB3ZXN0VGFpbEJhc2UgLSB0YWlsTGVuZ3RoO1xuICBjb25zdCBlYXN0VGFpbEJhc2UgPSBjZW50ZXIueCArICh0YWlsSW50ZXJzZWN0aW9uV2lkdGggLyAyKTtcbiAgY29uc3QgZWFzdFRhaWxUaXAgPSBlYXN0VGFpbEJhc2UgKyB0YWlsTGVuZ3RoO1xuXG4gIGNvbnN0IG5vcnRoSGVhZEJhc2UgPSBub3J0aFRhaWxUaXA7XG4gIGNvbnN0IG5vcnRoSGVhZFRpcCA9IG5vcnRoSGVhZEJhc2UgLSBoZWFkTGVuZ3RoO1xuICBjb25zdCBzb3V0aEhlYWRCYXNlID0gc291dGhUYWlsVGlwO1xuICBjb25zdCBzb3V0aEhlYWRUaXAgPSBzb3V0aEhlYWRCYXNlICsgaGVhZExlbmd0aDtcbiAgY29uc3Qgd2VzdEhlYWRCYXNlID0gd2VzdFRhaWxUaXA7XG4gIGNvbnN0IHdlc3RIZWFkVGlwID0gd2VzdEhlYWRCYXNlIC0gaGVhZExlbmd0aDtcbiAgY29uc3QgZWFzdEhlYWRCYXNlID0gZWFzdFRhaWxUaXA7XG4gIGNvbnN0IGVhc3RIZWFkVGlwID0gZWFzdEhlYWRCYXNlICsgaGVhZExlbmd0aDtcblxuICBjb25zdCBob3Jpem9udGFsVGFpbFRvcCA9IG5vcnRoVGFpbEJhc2U7XG4gIGNvbnN0IGhvcml6b250YWxUYWlsQm90dG9tID0gc291dGhUYWlsQmFzZTtcbiAgY29uc3QgdmVydGljYWxUYWlsTGVmdCA9IHdlc3RUYWlsQmFzZTtcbiAgY29uc3QgdmVydGljYWxUYWlsUmlnaHQgPSBlYXN0VGFpbEJhc2U7XG4gIGNvbnN0IGhvcml6b250YWxIZWFkVG9wID0gY2VudGVyLnkgLSAoaGVhZFdpZHRoIC8gMik7XG4gIGNvbnN0IGhvcml6b250YWxIZWFkQm90dG9tID0gY2VudGVyLnkgKyAoaGVhZFdpZHRoIC8gMik7XG4gIGNvbnN0IHZlcnRpY2FsSGVhZExlZnQgPSBjZW50ZXIueCAtIChoZWFkV2lkdGggLyAyKTtcbiAgY29uc3QgdmVydGljYWxIZWFkUmlnaHQgPSBjZW50ZXIueCArIChoZWFkV2lkdGggLyAyKTtcblxuICBjb25zdCBwb2ludHMgPSBbXG4gICAgeyB4OiB2ZXJ0aWNhbFRhaWxMZWZ0LCB5OiBub3J0aFRhaWxUaXAgfSxcbiAgICB7IHg6IHZlcnRpY2FsVGFpbExlZnQsIHk6IG5vcnRoVGFpbEJhc2UgfSxcbiAgICB7IHg6IHdlc3RUYWlsVGlwLCB5OiBob3Jpem9udGFsVGFpbFRvcCB9LFxuXG4gICAgeyB4OiB3ZXN0SGVhZEJhc2UsIHk6IGhvcml6b250YWxIZWFkVG9wIH0sXG4gICAgeyB4OiB3ZXN0SGVhZFRpcCwgeTogY2VudGVyLnkgfSxcbiAgICB7IHg6IHdlc3RIZWFkQmFzZSwgeTogaG9yaXpvbnRhbEhlYWRCb3R0b20gfSxcblxuICAgIHsgeDogd2VzdFRhaWxUaXAsIHk6IGhvcml6b250YWxUYWlsQm90dG9tIH0sXG4gICAgeyB4OiB3ZXN0VGFpbEJhc2UsIHk6IGhvcml6b250YWxUYWlsQm90dG9tIH0sXG4gICAgeyB4OiB2ZXJ0aWNhbFRhaWxMZWZ0LCB5OiBzb3V0aFRhaWxUaXAgfSxcblxuICAgIHsgeDogdmVydGljYWxIZWFkTGVmdCwgeTogc291dGhIZWFkQmFzZSB9LFxuICAgIHsgeDogY2VudGVyLngsIHk6IHNvdXRoSGVhZFRpcCB9LFxuICAgIHsgeDogdmVydGljYWxIZWFkUmlnaHQsIHk6IHNvdXRoSGVhZEJhc2UgfSxcblxuICAgIHsgeDogdmVydGljYWxUYWlsUmlnaHQsIHk6IHNvdXRoVGFpbFRpcCB9LFxuICAgIHsgeDogdmVydGljYWxUYWlsUmlnaHQsIHk6IHNvdXRoVGFpbEJhc2UgfSxcbiAgICB7IHg6IGVhc3RUYWlsVGlwLCB5OiBob3Jpem9udGFsVGFpbEJvdHRvbSB9LFxuXG4gICAgeyB4OiBlYXN0SGVhZEJhc2UsIHk6IGhvcml6b250YWxIZWFkQm90dG9tIH0sXG4gICAgeyB4OiBlYXN0SGVhZFRpcCwgeTogY2VudGVyLnkgfSxcbiAgICB7IHg6IGVhc3RIZWFkQmFzZSwgeTogaG9yaXpvbnRhbEhlYWRUb3AgfSxcblxuICAgIHsgeDogZWFzdFRhaWxUaXAsIHk6IGhvcml6b250YWxUYWlsVG9wIH0sXG4gICAgeyB4OiBlYXN0VGFpbEJhc2UsIHk6IGhvcml6b250YWxUYWlsVG9wIH0sXG4gICAgeyB4OiB2ZXJ0aWNhbFRhaWxSaWdodCwgeTogbm9ydGhUYWlsVGlwIH0sXG5cbiAgICB7IHg6IHZlcnRpY2FsSGVhZFJpZ2h0LCB5OiBub3J0aEhlYWRCYXNlIH0sXG4gICAgeyB4OiBjZW50ZXIueCwgeTogbm9ydGhIZWFkVGlwIH0sXG4gICAgeyB4OiB2ZXJ0aWNhbEhlYWRMZWZ0LCB5OiBub3J0aEhlYWRCYXNlIH0sXG4gIF07XG5cbiAgY3R4LmZpbGxTdHlsZSA9IGZpbGxTdHlsZTtcbiAgY3R4LnN0cm9rZVN0eWxlID0gc3Ryb2tlU3R5bGU7XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY29uc3Qgc3RhcnRQb2ludCA9IHBvaW50c1swXTtcbiAgY3R4Lm1vdmVUbyhzdGFydFBvaW50LngsIHN0YXJ0UG9pbnQueSk7XG4gIHBvaW50cy5mb3JFYWNoKCh7IHgsIHkgfSkgPT4gY3R4LmxpbmVUbyh4LCB5KSk7XG4gIGN0eC5saW5lVG8oc3RhcnRQb2ludC54LCBzdGFydFBvaW50LnkpO1xuICBjdHguY2xvc2VQYXRoKCk7XG4gIGN0eC5maWxsKCk7XG4gIGlmIChzdHJva2VTdHlsZSkgY3R4LnN0cm9rZSgpO1xufTtcbiIsImltcG9ydCBUaWxlIGZyb20gXCIuLi9UaWxlXCI7XG5pbXBvcnQgeyBOZWVkLCBDb29yZFBvc2l0aW9uIH0gZnJvbSBcIi4uL3R5cGVzL2NvbW1vblwiO1xuaW1wb3J0IHsgZHJhd0RvdWJsZUFycm93LCBkcmF3QXJyb3csIGRyYXdDcm9zc0Fycm93IH0gZnJvbSBcIi4uL2NvbmNlcm5zL2RyYXdpbmdcIjtcblxuY29uc3QgTUFYX0NPTE9SX0lOVCA9IHBhcnNlSW50KFwiRkZGRkZGXCIsIDE2KTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FudmFzVGlsZSBleHRlbmRzIFRpbGUge1xuICBwdWJsaWMgd2lkdGggPSA1MDtcbiAgcHVibGljIGhlaWdodCA9IDUwO1xuICBwdWJsaWMgY29sb3IgPSAnd2hpdGUnO1xuICBwdWJsaWMgc2VsZWN0ZWQgPSBmYWxzZTtcbiAgcHVibGljIHRhcmdldGVkID0gZmFsc2U7XG4gIHB1YmxpYyBtYXRjaGVkQXQgPSBudWxsIGFzIERhdGV8bnVsbDtcbiAgcHVibGljIGJsYW5rID0gZmFsc2U7XG4gIHB1YmxpYyBtYXRjaEFuaW1hdGlvbk1zID0gMjUwO1xuICBwdWJsaWMgYXBwbHlOb3JtYWxTdHlsZTogKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB0aWxlOiBDYW52YXNUaWxlLCBwb3M6IENvb3JkUG9zaXRpb24pID0+IHZvaWQ7XG4gIHB1YmxpYyBhcHBseVNlbGVjdGVkU3R5bGU6IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgdGlsZTogQ2FudmFzVGlsZSwgcG9zOiBDb29yZFBvc2l0aW9uKSA9PiB2b2lkO1xuICBwdWJsaWMgYXBwbHlUYXJnZXRlZFN0eWxlOiAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHRpbGU6IENhbnZhc1RpbGUsIHBvczogQ29vcmRQb3NpdGlvbikgPT4gdm9pZDtcbiAgcHVibGljIGFwcGx5TWF0Y2hlZFN0eWxlOiAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHRpbGU6IENhbnZhc1RpbGUsIHBvczogQ29vcmRQb3NpdGlvbikgPT4gdm9pZDtcbiAgcHJpdmF0ZSBfaW1nVXJsID0gJyc7XG4gIHByaXZhdGUgX2ltYWdlPzogSFRNTEltYWdlRWxlbWVudDtcbiAgcHJpdmF0ZSBibGFua1RpbWVvdXQ/OiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3Iob3B0czogTmVlZDxDYW52YXNUaWxlLCAndHlwZSc+KSB7XG4gICAgc3VwZXIob3B0cyk7XG5cbiAgICB0aGlzLndpZHRoID0gb3B0cy53aWR0aCB8fCB0aGlzLndpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gb3B0cy5oZWlnaHQgfHwgdGhpcy5oZWlnaHQ7XG4gICAgdGhpcy5jb2xvciA9IG9wdHMuY29sb3IgfHwgdGhpcy5jb2xvcjtcbiAgICB0aGlzLmJsYW5rID0gb3B0cy5ibGFuayB8fCB0aGlzLmJsYW5rO1xuICAgIHRoaXMubWF0Y2hBbmltYXRpb25NcyA9IG9wdHMubWF0Y2hBbmltYXRpb25NcyB8fCB0aGlzLm1hdGNoQW5pbWF0aW9uTXM7XG4gICAgdGhpcy5faW1nVXJsID0gb3B0cy5pbWdVcmwgfHwgdGhpcy5faW1nVXJsO1xuICAgIHRoaXMuYXBwbHlOb3JtYWxTdHlsZSA9IG9wdHMuYXBwbHlOb3JtYWxTdHlsZSB8fCB0aGlzLmRlZmF1bHRBcHBseU5vcm1hbFN0eWxlO1xuICAgIHRoaXMuYXBwbHlTZWxlY3RlZFN0eWxlID0gb3B0cy5hcHBseVNlbGVjdGVkU3R5bGUgfHwgdGhpcy5kZWZhdWx0QXBwbHlTZWxlY3RlZFN0eWxlO1xuICAgIHRoaXMuYXBwbHlUYXJnZXRlZFN0eWxlID0gb3B0cy5hcHBseVRhcmdldGVkU3R5bGUgfHwgdGhpcy5kZWZhdWx0QXBwbHlUYXJnZXRlZFN0eWxlO1xuICAgIHRoaXMuYXBwbHlNYXRjaGVkU3R5bGUgPSBvcHRzLmFwcGx5TWF0Y2hlZFN0eWxlIHx8IHRoaXMuZGVmYXVsdEFwcGx5TWF0Y2hlZFN0eWxlO1xuICB9XG5cbiAgZ2V0IG1hdGNoZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhdGhpcy5tYXRjaGVkQXQ7XG4gIH1cblxuICBzZXQgbWF0Y2hlZChtYXRjaGVkOiBib29sZWFuKSB7XG4gICAgaWYgKG1hdGNoZWQgJiYgdGhpcy5tYXRjaGVkQXQpIHJldHVybjtcblxuICAgIGNsZWFyVGltZW91dCh0aGlzLmJsYW5rVGltZW91dCk7XG4gICAgaWYgKG1hdGNoZWQpIHtcbiAgICAgIHRoaXMubWF0Y2hlZEF0ID0gbmV3IERhdGUoKTtcbiAgICAgIHRoaXMuYmxhbmtUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4gdGhpcy5ibGFuayA9IHRydWUsIHRoaXMubWF0Y2hBbmltYXRpb25Ncyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWF0Y2hlZEF0ID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXQgaW1nVXJsKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2ltZ1VybDtcbiAgfVxuXG4gIHNldCBpbWdVcmwoaW1nVXJsOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9pbWdVcmwgPSBpbWdVcmw7XG4gICAgZGVsZXRlIHRoaXMuX2ltYWdlO1xuICB9XG5cbiAgZ2V0IGltYWdlKCk6IG51bGx8SFRNTEltYWdlRWxlbWVudCB7XG4gICAgaWYgKHRoaXMuX2ltYWdlKSByZXR1cm4gdGhpcy5pbWFnZTtcbiAgICBpZiAoIXRoaXMuaW1nVXJsKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgaW1hZ2Uuc3JjID0gdGhpcy5pbWdVcmw7XG4gICAgaW1hZ2Uud2lkdGggPSB0aGlzLndpZHRoO1xuICAgIGltYWdlLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuICAgIHRoaXMuX2ltYWdlID0gaW1hZ2U7XG5cbiAgICByZXR1cm4gdGhpcy5faW1hZ2U7XG4gIH1cblxuICBkcmF3KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLmJsYW5rKSByZXR1cm47XG5cbiAgICB0aGlzLmFwcGx5Tm9ybWFsU3R5bGUoY3R4LCB0aGlzLCB7IHgsIHkgfSk7XG4gICAgaWYgKHRoaXMubWF0Y2hlZCkge1xuICAgICAgdGhpcy5hcHBseU1hdGNoZWRTdHlsZShjdHgsIHRoaXMsIHsgeCwgeSB9KTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc2VsZWN0ZWQpIHtcbiAgICAgIHRoaXMuYXBwbHlTZWxlY3RlZFN0eWxlKGN0eCwgdGhpcywgeyB4LCB5IH0pO1xuICAgIH0gZWxzZSBpZiAodGhpcy50YXJnZXRlZCkge1xuICAgICAgdGhpcy5hcHBseVRhcmdldGVkU3R5bGUoY3R4LCB0aGlzLCB7IHgsIHkgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBkZWZhdWx0QXBwbHlOb3JtYWxTdHlsZShjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgdGlsZTogQ2FudmFzVGlsZSwgeyB4LCB5IH06IENvb3JkUG9zaXRpb24pOiB2b2lkIHtcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIGltYWdlLCBjb2xvciwgdmFyaWFudCB9ID0gdGlsZTtcblxuICAgIGlmIChpbWFnZSkge1xuICAgICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgeCwgeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICAgIGN0eC5maWxsUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBjb25zdCBjZW50ZXIgPSB7IHg6IHggKyAoaGVpZ2h0IC8gMiksIHk6IHkgKyAod2lkdGggLyAyKSB9O1xuICAgIGNvbnN0IGFycm93V2lkdGggPSB3aWR0aCAvIDg7XG4gICAgY29uc3QgYXJyb3dMZW5ndGggPSAwLjYgKiBoZWlnaHQ7XG4gICAgc3dpdGNoICh2YXJpYW50KSB7XG4gICAgICBjYXNlICdob3Jpem9udGFsQ2xlYXInOiBkcmF3RG91YmxlQXJyb3coY3R4LCAnaG9yaXpvbnRhbCcsICd3aGl0ZScsICd3aGl0ZScsIGNlbnRlciwgYXJyb3dXaWR0aCwgYXJyb3dMZW5ndGgpOyBicmVhaztcbiAgICAgIGNhc2UgJ3ZlcnRpY2FsQ2xlYXInOiBkcmF3RG91YmxlQXJyb3coY3R4LCAndmVydGljYWwnLCAnd2hpdGUnLCAnd2hpdGUnLCBjZW50ZXIsIGFycm93V2lkdGgsIGFycm93TGVuZ3RoKTsgYnJlYWs7XG4gICAgICBjYXNlICdjcm9zc0NsZWFyJzogZHJhd0Nyb3NzQXJyb3coY3R4LCAnd2hpdGUnLCAnd2hpdGUnLCBjZW50ZXIsIGFycm93V2lkdGgsIGFycm93TGVuZ3RoKTsgYnJlYWs7XG4gICAgICBjYXNlICd0eXBlQ2xlYXInOiB7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBgIyR7KChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwKSAlIE1BWF9DT0xPUl9JTlQpLnRvU3RyaW5nKDE2KX1gO1xuICAgICAgICBjdHguZmlsbFJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnYm9tYkNsZWFyJzoge1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgY29uc3QgYm94V2lkdGggPSB3aWR0aCAvIDI7XG4gICAgICAgIGNvbnN0IGJveEhlaWdodCA9IGhlaWdodCAvIDI7XG4gICAgICAgIGN0eC5maWxsUmVjdCh4ICsgKGJveFdpZHRoIC8gMiksIHkgKyAoYm94SGVpZ2h0IC8gMiksIGJveFdpZHRoLCBib3hIZWlnaHQpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGRlZmF1bHRBcHBseVNlbGVjdGVkU3R5bGUoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHRpbGU6IENhbnZhc1RpbGUsIHsgeCwgeSB9OiBDb29yZFBvc2l0aW9uKTogdm9pZCB7XG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aWxlO1xuICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpJztcbiAgICBjdHguZmlsbFJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gIH1cblxuICBwcml2YXRlIGRlZmF1bHRBcHBseVRhcmdldGVkU3R5bGUoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHRpbGU6IENhbnZhc1RpbGUsIHsgeCwgeSB9OiBDb29yZFBvc2l0aW9uKTogdm9pZCB7XG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aWxlO1xuICAgIGNvbnN0IG1pbGxpcyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGNvbnN0IHB1bHNlTXMgPSB0aGlzLm1hdGNoQW5pbWF0aW9uTXM7XG4gICAgY29uc3QgbWluU3Ryb2tlID0gMjtcbiAgICBjb25zdCBtYXhTdHJva2UgPSA1O1xuICAgIGNvbnN0IHN0cm9rZVdpZHRoID0gbWluU3Ryb2tlICsgKE1hdGguc2luKChtaWxsaXMgLyBwdWxzZU1zKSAlIE1hdGguUEkpICogKG1heFN0cm9rZSAtIG1pblN0cm9rZSkpO1xuICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkpJztcbiAgICBjdHguZmlsbFJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gICAgY3R4LmZpbGxTdHlsZSA9IHRpbGUuY29sb3I7XG4gICAgY3R4LmZpbGxSZWN0KHggKyBzdHJva2VXaWR0aCwgeSArIHN0cm9rZVdpZHRoLCB3aWR0aCAtIChzdHJva2VXaWR0aCAqIDIpLCBoZWlnaHQgLSAoc3Ryb2tlV2lkdGggKiAyKSk7XG4gIH1cblxuICBwcml2YXRlIGRlZmF1bHRBcHBseU1hdGNoZWRTdHlsZShjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgdGlsZTogQ2FudmFzVGlsZSwgeyB4LCB5IH06IENvb3JkUG9zaXRpb24pOiB2b2lkIHtcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIGNvbG9yLCBtYXRjaEFuaW1hdGlvbk1zIH0gPSB0aWxlO1xuICAgIGlmICghdGlsZS5tYXRjaGVkQXQpIHJldHVybjtcblxuICAgIGNvbnN0IG1zU2luY2VNYXRjaCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gdGlsZS5tYXRjaGVkQXQuZ2V0VGltZSgpO1xuICAgIGNvbnN0IHBlcmNlbnREb25lID0gbXNTaW5jZU1hdGNoID4gbWF0Y2hBbmltYXRpb25NcyA/IDEgOiBtc1NpbmNlTWF0Y2ggLyBtYXRjaEFuaW1hdGlvbk1zO1xuICAgIGNvbnN0IGhvcml6b250YWwgPSBwZXJjZW50RG9uZSAqICh3aWR0aCAvIDIpO1xuICAgIGNvbnN0IHZlcnRpY2FsID0gcGVyY2VudERvbmUgKiAoaGVpZ2h0IC8gMik7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICcjRkZGJztcbiAgICBjdHguZmlsbFJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgIGN0eC5maWxsUmVjdCh4ICsgaG9yaXpvbnRhbCwgeSArIHZlcnRpY2FsLCB3aWR0aCAtIChob3Jpem9udGFsICogMiksIGhlaWdodCAtICh2ZXJ0aWNhbCAqIDIpKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIE1vdXNlIHtcbiAgcHVibGljIHggPSAwO1xuICBwdWJsaWMgeSA9IDA7XG4gIHB1YmxpYyBwcmVzc2VkID0gZmFsc2U7XG4gIHB1YmxpYyBwcmVzc2VkU3RhcnRQb3M6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfTtcbiAgcHVibGljIHByZXNzQ2FsbGJhY2tzOiAoKG1vdXNlOiBNb3VzZSkgPT4gdm9pZClbXSA9IFtdO1xuICBwdWJsaWMgZGVwcmVzc0NhbGxiYWNrczogKChtb3VzZTogTW91c2UpID0+IHZvaWQpW10gPSBbXTtcbiAgcHVibGljIG1vdmVDYWxsYmFja3M6ICgobW91c2U6IE1vdXNlKSA9PiB2b2lkKVtdID0gW107XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5wcmVzc2VkU3RhcnRQb3MgPSB7IHg6IHRoaXMueCwgeTogdGhpcy55IH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLnBvcHVsYXRlRnJvbU1vdXNlRXZlbnQoZXZlbnQpO1xuICAgICAgdGhpcy5wcmVzc0NhbGxiYWNrcy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKHRoaXMpKTtcbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLnBvcHVsYXRlRnJvbU1vdXNlRXZlbnQoZXZlbnQpO1xuICAgICAgdGhpcy5tb3ZlQ2FsbGJhY2tzLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2sodGhpcykpO1xuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLmRlcHJlc3NDYWxsYmFja3MuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayh0aGlzKSk7IC8vIHdlIHdhbnQgdGhpcyBvbmUgdG8gaGFwcGVuIGJlZm9yZSB0aGUgcmVzZXRcbiAgICAgIHRoaXMucG9wdWxhdGVGcm9tTW91c2VFdmVudChldmVudCk7XG4gICAgfSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5wb3B1bGF0ZUZyb21Ub3VjaEV2ZW50KGV2ZW50KTtcbiAgICAgIHRoaXMucHJlc3NDYWxsYmFja3MuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayh0aGlzKSk7XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5wb3B1bGF0ZUZyb21Ub3VjaEV2ZW50KGV2ZW50KTtcbiAgICAgIHRoaXMubW92ZUNhbGxiYWNrcy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKHRoaXMpKTtcbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuZGVwcmVzc0NhbGxiYWNrcy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKHRoaXMpKTsgLy8gd2Ugd2FudCB0aGlzIG9uZSB0byBoYXBwZW4gYmVmb3JlIHRoZSByZXNldFxuICAgICAgdGhpcy5wb3B1bGF0ZUZyb21Ub3VjaEV2ZW50KGV2ZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldCBkcmFnVmVjdG9yKCk6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSB7XG4gICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzLnByZXNzZWRTdGFydFBvcztcbiAgICByZXR1cm4gdGhpcy5wcmVzc2VkID8geyB4OiB0aGlzLnggLSB4LCB5OiB0aGlzLnkgLSB5IH0gOiB7IHg6IDAsIHk6IDAgfTtcbiAgfVxuXG4gIGdldCBkcmFnRGlyZWN0aW9uKCk6ICdub25lJ3wndXAnfCdkb3duJ3wnbGVmdCd8J3JpZ2h0JyB7XG4gICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzLmRyYWdWZWN0b3I7XG4gICAgaWYgKHggPT09IDAgJiYgeSA9PT0gMCkgcmV0dXJuICdub25lJztcblxuICAgIGlmIChNYXRoLmFicyh4KSA+PSBNYXRoLmFicyh5KSkge1xuICAgICAgcmV0dXJuIHggPCAwID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHkgPCAwID8gJ3VwJyA6ICdkb3duJztcbiAgICB9XG4gIH1cblxuICBvblByZXNzKGNhbGxiYWNrOiAobW91c2U6IE1vdXNlKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5wcmVzc0NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgfVxuXG4gIG9uRGVwcmVzcyhjYWxsYmFjazogKG1vdXNlOiBNb3VzZSkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMuZGVwcmVzc0NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgfVxuXG4gIG9uTW92ZShjYWxsYmFjazogKG1vdXNlOiBNb3VzZSkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMubW92ZUNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgfVxuXG4gIHBvcHVsYXRlRnJvbU1vdXNlRXZlbnQoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICB0aGlzLnggPSBldmVudC54O1xuICAgIHRoaXMueSA9IGV2ZW50Lnk7XG4gICAgY29uc3QgYWxyZWFkeVByZXNzZWQgPSB0aGlzLnByZXNzZWQ7XG4gICAgdGhpcy5wcmVzc2VkID0gZXZlbnQuYnV0dG9ucyA9PT0gMTtcbiAgICBpZiAodGhpcy5wcmVzc2VkICYmICFhbHJlYWR5UHJlc3NlZCkge1xuICAgICAgdGhpcy5wcmVzc2VkU3RhcnRQb3MgPSB7IHg6IHRoaXMueCwgeTogdGhpcy55IH07XG4gICAgfVxuICB9XG5cbiAgcG9wdWxhdGVGcm9tVG91Y2hFdmVudChldmVudDogVG91Y2hFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IHsgdG91Y2hlcyB9ID0gZXZlbnQ7XG4gICAgY29uc3QgYWxyZWFkeVByZXNzZWQgPSB0aGlzLnByZXNzZWQ7XG4gICAgaWYgKHRvdWNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdG91Y2ggPSB0b3VjaGVzWzBdO1xuICAgICAgdGhpcy54ID0gdG91Y2guY2xpZW50WDtcbiAgICAgIHRoaXMueSA9IHRvdWNoLmNsaWVudFk7XG4gICAgICB0aGlzLnByZXNzZWQgPSB0cnVlO1xuICAgICAgaWYgKCFhbHJlYWR5UHJlc3NlZCkgdGhpcy5wcmVzc2VkU3RhcnRQb3MgPSB7IHg6IHRoaXMueCwgeTogdGhpcy55IH07XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IG1vdXNlID0gbmV3IE1vdXNlKCk7XG5cbmV4cG9ydCBkZWZhdWx0IG1vdXNlO1xuIiwiaW1wb3J0IHsgcmFuZ2UsIHJvdGF0ZSwgZmluZE1hcCwgcm90YXRlR3JpZFBvc2l0aW9uIH0gZnJvbSBcIi4vY29uY2VybnMvdXRpbGl0aWVzXCI7XG5pbXBvcnQgeyBHcmlkUG9zaXRpb24gfSBmcm9tIFwiLi90eXBlcy9jb21tb25cIjtcblxuZXhwb3J0IHR5cGUgU2hhcGVNYXAgPSBib29sZWFuW11bXTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hhcGUge1xuICBwdWJsaWMgdmFsdWU6IG51bWJlcjtcbiAgcHJpdmF0ZSBfbWFwITogU2hhcGVNYXA7XG4gIHByaXZhdGUgX2V4dGVuZCE6IGJvb2xlYW47XG4gIHByaXZhdGUgX2xpbmVhciE6IGJvb2xlYW47XG4gIHByaXZhdGUgX2NlbnRlclBvc2l0aW9uPzogR3JpZFBvc2l0aW9uO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IFBhcnRpYWw8U2hhcGU+ID0ge30pIHtcbiAgICB0aGlzLnZhbHVlID0gb3B0cy52YWx1ZSB8fCAxO1xuICAgIHRoaXMuZXh0ZW5kID0gb3B0cy5leHRlbmQgfHwgZmFsc2U7XG4gICAgdGhpcy5tYXAgPSBvcHRzLm1hcCB8fCBbW11dO1xuICB9XG5cbiAgc3RhdGljIGZyb21MZW5ndGgobGVuZ3RoOiBudW1iZXIsIHsgdmFsdWUgPSAxLCBvck1vcmUgfTogeyB2YWx1ZT86IG51bWJlcjsgb3JNb3JlPzogYm9vbGVhbiB9ID0ge30pOiBTaGFwZSB7XG4gICAgcmV0dXJuIG5ldyBTaGFwZSh7XG4gICAgICB2YWx1ZSxcbiAgICAgIGV4dGVuZDogISFvck1vcmUsXG4gICAgICBtYXA6IFtyYW5nZShsZW5ndGgsICgpID0+IHRydWUpXSxcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyByb3RhdGVkKHNoYXBlOiBTaGFwZSwgcm90YXRpb25zID0gMSk6IFNoYXBlIHtcbiAgICByZXR1cm4gbmV3IFNoYXBlKHsgLi4uc2hhcGUsIG1hcDogcm90YXRlKHNoYXBlLm1hcCwgcm90YXRpb25zKSB9KTtcbiAgfVxuXG4gIGdldCBleHRlbmQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLl9leHRlbmQgJiYgdGhpcy5saW5lYXIgfVxuICBzZXQgZXh0ZW5kKGV4dGVuZDogYm9vbGVhbikgeyB0aGlzLl9leHRlbmQgPSBleHRlbmQgfVxuXG4gIGdldCBtYXAoKTogU2hhcGVNYXAgeyByZXR1cm4gdGhpcy5fbWFwIH1cbiAgc2V0IG1hcChtYXA6IFNoYXBlTWFwKSB7XG4gICAgZGVsZXRlIHRoaXMuX2xpbmVhcjtcbiAgICBjb25zdCByb3dMZW5ndGggPSBtYXAucmVkdWNlKChtYXgsIHsgbGVuZ3RoIH0pID0+IChsZW5ndGggPiBtYXggPyBsZW5ndGggOiBtYXgpLCAwKTtcbiAgICB0aGlzLl9tYXAgPSBtYXAubWFwKHJvdyA9PiByYW5nZShyb3dMZW5ndGgsIGkgPT4gKHJvd1tpXSB8fCBmYWxzZSkpKTtcbiAgfVxuXG4gIGdldCBsaW5lYXIoKTogYm9vbGVhbiB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLl9saW5lYXIgIT09ICd1bmRlZmluZWQnKSByZXR1cm4gdGhpcy5fbGluZWFyO1xuXG4gICAgdGhpcy5fbGluZWFyID0gKHRoaXMubWFwLmxlbmd0aCA9PT0gMSAmJiB0aGlzLm1hcFswXS5ldmVyeShzcGFjZSA9PiBzcGFjZSkpXG4gICAgICB8fCB0aGlzLm1hcC5ldmVyeShyb3cgPT4gKHJvdy5sZW5ndGggPT09IDEgJiYgcm93WzBdKSk7XG5cbiAgICByZXR1cm4gdGhpcy5fbGluZWFyO1xuICB9XG5cbiAgbWF0Y2g8Tz4oZ3JpZDogT1tdW10sIGZpZWxkOiBrZXlvZiBPLCByb3RhdGlvbiA9IDApOiB7IHJvdGF0aW9uOiBudW1iZXI7IG1hdGNoZWQ6IE9bXTsgY2VudGVyOiBPfG51bGwgfSB7XG4gICAgY29uc3QgbWF0Y2hlZCA9IFtdIGFzIE9bXTtcbiAgICBpZiAocm90YXRpb24gPiAzKSByZXR1cm4geyByb3RhdGlvbiwgbWF0Y2hlZCwgY2VudGVyOiBudWxsIH07XG5cbiAgICBsZXQgbWF0Y2hWYWx1ZVNldCA9IGZhbHNlO1xuICAgIGxldCBtYXRjaFZhbHVlOiBPW2tleW9mIE9dO1xuICAgIGNvbnN0IHJvdGF0ZWRNYXAgPSByb3RhdGUodGhpcy5tYXAsIHJvdGF0aW9uKTtcblxuICAgIGNvbnN0IGFsbE1hdGNoZWQgPSByb3RhdGVkTWFwLmV2ZXJ5KChtYXRjaGVyUm93LCByb3dJbmRleCkgPT4ge1xuICAgICAgY29uc3QgZ3JpZFJvdyA9IGdyaWRbcm93SW5kZXhdO1xuICAgICAgaWYgKCFncmlkUm93KSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIHJldHVybiBtYXRjaGVyUm93LmV2ZXJ5KChtdXN0TWF0Y2gsIGNvbEluZGV4KSA9PiB7XG4gICAgICAgIGlmICghbXVzdE1hdGNoKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgICBjb25zdCBncmlkSXRlbSA9IGdyaWRSb3dbY29sSW5kZXhdO1xuICAgICAgICBpZiAoIWdyaWRJdGVtKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgZ3JpZFZhbHVlID0gZ3JpZEl0ZW1bZmllbGRdO1xuICAgICAgICBpZiAoIW1hdGNoVmFsdWVTZXQpIHtcbiAgICAgICAgICBtYXRjaFZhbHVlID0gZ3JpZFZhbHVlO1xuICAgICAgICAgIG1hdGNoVmFsdWVTZXQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdyaWRWYWx1ZSAhPT0gbWF0Y2hWYWx1ZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIG1hdGNoZWQucHVzaChncmlkSXRlbSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpZiAoYWxsTWF0Y2hlZCkge1xuICAgICAgY29uc3QgeyByb3csIGNvbCB9ID0gdGhpcy5jZW50ZXJQb3NpdGlvbihyb3RhdGlvbik7XG4gICAgICBjb25zdCBjZW50ZXIgPSBncmlkW3Jvd11bY29sXTtcbiAgICAgIHJldHVybiB7IHJvdGF0aW9uLCBtYXRjaGVkLCBjZW50ZXIgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5tYXRjaChncmlkLCBmaWVsZCwgcm90YXRpb24gKyAxKTtcbiAgfVxuXG4gIHNjcmVlbjxPIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55Pj4oZ3JpZDogT1tdW10sIG9mZnNldDogR3JpZFBvc2l0aW9uID0geyByb3c6IDAsIGNvbDogMCB9KTogT1tdIHtcbiAgICBjb25zdCBvZmZzZXRNYXBSb3dzID0gb2Zmc2V0LnJvdyA8IDBcbiAgICAgID8gdGhpcy5tYXAuc2xpY2UoLTEgKiBvZmZzZXQucm93KVxuICAgICAgOiBbLi4ucmFuZ2Uob2Zmc2V0LnJvdywgKCkgPT4gW10pLCAuLi50aGlzLm1hcF07XG5cbiAgICBjb25zdCBvZmZzZXRNYXAgPSBvZmZzZXRNYXBSb3dzLm1hcCgocm93KSA9PiB7XG4gICAgICByZXR1cm4gb2Zmc2V0LmNvbCA8IDBcbiAgICAgICAgPyByb3cuc2xpY2UoLTEgKiBvZmZzZXQuY29sKVxuICAgICAgICA6IFsuLi5yYW5nZShvZmZzZXQuY29sLCAoKSA9PiBmYWxzZSksIC4uLnJvd107XG4gICAgfSk7XG5cbiAgICAvLyBkZWJ1Z2dlclxuXG4gICAgcmV0dXJuIG9mZnNldE1hcC5yZWR1Y2UoKGFsbE1hdGNoZWRUaWxlcywgbWF0Y2hlclJvdywgcm93SW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGdyaWRSb3cgPSBncmlkW3Jvd0luZGV4XTtcblxuICAgICAgcmV0dXJuIFtcbiAgICAgICAgLi4uYWxsTWF0Y2hlZFRpbGVzLFxuICAgICAgICAuLi5tYXRjaGVyUm93LnJlZHVjZSgobWF0Y2hlZFJvd1RpbGVzLCBtdXN0TWF0Y2gsIGNvbEluZGV4KSA9PiB7XG4gICAgICAgICAgY29uc3QgdGlsZSA9IGdyaWRSb3cgJiYgZ3JpZFJvd1tjb2xJbmRleF07XG4gICAgICAgICAgcmV0dXJuIHRpbGUgJiYgbXVzdE1hdGNoID8gWy4uLm1hdGNoZWRSb3dUaWxlcywgdGlsZV0gOiBtYXRjaGVkUm93VGlsZXM7XG4gICAgICAgIH0sIFtdIGFzIE9bXSksXG4gICAgICBdO1xuICAgIH0sIFtdIGFzIE9bXSk7XG4gIH1cblxuICBnZXQgY2VudGVyKCk6IHsgbXVzdE1hdGNoOiBib29sZWFuIH0gJiBHcmlkUG9zaXRpb24ge1xuICAgIGNvbnN0IHJvd0luZGV4ID0gTWF0aC5mbG9vcih0aGlzLm1hcC5sZW5ndGggLyAyKTtcbiAgICBjb25zdCBtYXBSb3cgPSB0aGlzLm1hcFtyb3dJbmRleF07XG4gICAgY29uc3QgY29sSW5kZXggPSBNYXRoLmZsb29yKG1hcFJvdy5sZW5ndGggLyAyKTtcbiAgICBjb25zdCBtdXN0TWF0Y2ggPSBtYXBSb3dbY29sSW5kZXhdO1xuICAgIHJldHVybiB7IG11c3RNYXRjaCwgcm93OiByb3dJbmRleCwgY29sOiBjb2xJbmRleCB9O1xuICB9XG5cbiAgY2VudGVyUG9zaXRpb24ocm90YXRpb25zID0gMCk6IEdyaWRQb3NpdGlvbiB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLl9jZW50ZXJQb3NpdGlvbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IG11c3RNYXRjaENvdW50ID0gdGhpcy5tYXAucmVkdWNlKCh0b3RhbCwgbWF0Y2hlclJvdykgPT4ge1xuICAgICAgICByZXR1cm4gdG90YWwgKyBtYXRjaGVyUm93LnJlZHVjZSgoc3VtLCBtdXN0TWF0Y2gpID0+IChtdXN0TWF0Y2ggPyBzdW0gKyAxIDogc3VtKSwgMCk7XG4gICAgICB9LCAwKTtcblxuICAgICAgY29uc3QgY2VudGVySW5kZXggPSBNYXRoLmZsb29yKG11c3RNYXRjaENvdW50IC8gMik7XG5cbiAgICAgIGxldCBjdXJzb3IgPSAwO1xuICAgICAgdGhpcy5fY2VudGVyUG9zaXRpb24gPSBmaW5kTWFwKHRoaXMubWFwLCAocm93LCByb3dJbmRleCkgPT4ge1xuICAgICAgICByZXR1cm4gZmluZE1hcChyb3csIChtdXN0TWF0Y2gsIGluZGV4KSA9PiB7XG4gICAgICAgICAgaWYgKCFtdXN0TWF0Y2gpIHJldHVybjtcbiAgICAgICAgICBpZiAoY3Vyc29yID09PSBjZW50ZXJJbmRleCkgcmV0dXJuIHsgcm93OiByb3dJbmRleCwgY29sOiBpbmRleCB9OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gICAgICAgICAgY3Vyc29yICs9IDE7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3Qgcm93Q291bnQgPSB0aGlzLm1hcC5sZW5ndGg7XG4gICAgY29uc3QgY29sQ291bnQgPSB0aGlzLm1hcFswXS5sZW5ndGg7XG4gICAgcmV0dXJuIHJvdGF0ZUdyaWRQb3NpdGlvbih0aGlzLl9jZW50ZXJQb3NpdGlvbiEsIHJvd0NvdW50LCBjb2xDb3VudCwgcm90YXRpb25zKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZGVmYXVsdFNoYXBlcyA9ICgpOiBTaGFwZVtdID0+IFtcbiAgU2hhcGUuZnJvbUxlbmd0aCgzLCB7IHZhbHVlOiAxIH0pLFxuICBTaGFwZS5mcm9tTGVuZ3RoKDQsIHsgdmFsdWU6IDIgfSksXG4gIFNoYXBlLmZyb21MZW5ndGgoNSwgeyB2YWx1ZTogMyB9KSxcbiAgU2hhcGUuZnJvbUxlbmd0aCg2LCB7IHZhbHVlOiA0LCBvck1vcmU6IHRydWUgfSksXG4gIG5ldyBTaGFwZSh7XG4gICAgdmFsdWU6IDUsXG4gICAgbWFwOiBbXG4gICAgICBbdHJ1ZSwgdHJ1ZSwgdHJ1ZV0sXG4gICAgICBbdHJ1ZV0sXG4gICAgICBbdHJ1ZV0sXG4gICAgXSxcbiAgfSksXG4gIG5ldyBTaGFwZSh7XG4gICAgdmFsdWU6IDYsXG4gICAgbWFwOiBbXG4gICAgICBbdHJ1ZSwgdHJ1ZSwgdHJ1ZV0sXG4gICAgICBbZmFsc2UsIHRydWVdLFxuICAgICAgW2ZhbHNlLCB0cnVlXSxcbiAgICBdLFxuICB9KSxcbiAgbmV3IFNoYXBlKHtcbiAgICB2YWx1ZTogNyxcbiAgICBtYXA6IFtcbiAgICAgIFt0cnVlLCB0cnVlXSxcbiAgICAgIFt0cnVlLCB0cnVlXSxcbiAgICBdLFxuICB9KSxcbl07XG4iLCJpbXBvcnQgQm9hcmQgZnJvbSBcIi4uL0JvYXJkXCI7XG5pbXBvcnQgQ2FudmFzVGlsZSBmcm9tIFwiLi9DYW52YXNUaWxlXCI7XG5pbXBvcnQgeyByYW5nZSwgZGlzdGFuY2VCZXR3ZWVuLCBmaW5kTWFwLCBzYW1wbGUsIHR1cGxlIH0gZnJvbSBcIi4uL2NvbmNlcm5zL3V0aWxpdGllc1wiO1xuaW1wb3J0IG1vdXNlLCB7IE1vdXNlIH0gZnJvbSBcIi4vbW91c2VcIjtcbmltcG9ydCBTaGFwZSwgeyBkZWZhdWx0U2hhcGVzIH0gZnJvbSBcIi4uL1NoYXBlXCI7XG5pbXBvcnQgeyBHcmlkUG9zaXRpb24sIENvb3JkUG9zaXRpb24gfSBmcm9tIFwiLi4vdHlwZXMvY29tbW9uXCI7XG5cbmV4cG9ydCB0eXBlIFN3YXBEaXJlY3Rpb24gPSAnbm9uZSd8J3VwJ3wnZG93bid8J2xlZnQnfCdyaWdodCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJlc2VudENhbnZhc1RpbGVJbmZvIHtcbiAgcm93OiBudW1iZXI7XG4gIGNvbDogbnVtYmVyO1xuICB0aWxlOiBDYW52YXNUaWxlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJsYW5rQ2FudmFzVGlsZUluZm8ge1xuICByb3c6IC0xO1xuICBjb2w6IC0xO1xuICB0aWxlOiBudWxsO1xufVxuXG5leHBvcnQgdHlwZSBDYW52YXNUaWxlSW5mbyA9IFByZXNlbnRDYW52YXNUaWxlSW5mbyB8IEJsYW5rQ2FudmFzVGlsZUluZm87XG5cbmV4cG9ydCBpbnRlcmZhY2UgQm9hcmREcmFnRXZlbnQge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgZGlzdGFuY2U6IG51bWJlcjtcbiAgZGlyZWN0aW9uOiBTd2FwRGlyZWN0aW9uO1xuICBvcmlnaW46IFByZXNlbnRDYW52YXNUaWxlSW5mbztcbiAgZGVzdGluYXRpb246IFByZXNlbnRDYW52YXNUaWxlSW5mbztcbiAgbW91c2U6IE1vdXNlO1xufVxuXG5leHBvcnQgdHlwZSBCb2FyZERyYWdFdmVudENhbGxiYWNrID0gKGV2ZW50OiBCb2FyZERyYWdFdmVudCkgPT4gdm9pZDtcblxuY29uc3QgYmxhbmtDYW52YXNUaWxlSW5mbyA9ICgpOiBCbGFua0NhbnZhc1RpbGVJbmZvID0+ICh7IHJvdzogLTEsIGNvbDogLTEsIHRpbGU6IG51bGwgfSk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbnZhc0JvYXJkIGV4dGVuZHMgQm9hcmQ8Q2FudmFzVGlsZT4ge1xuICBwdWJsaWMgeDogbnVtYmVyO1xuICBwdWJsaWMgeTogbnVtYmVyO1xuICBwdWJsaWMgd2lkdGg6IG51bWJlcjtcbiAgcHVibGljIGhlaWdodDogbnVtYmVyO1xuICBwdWJsaWMgc2Vuc2l0aXZpdHk6IG51bWJlcjtcbiAgcHVibGljIGRyYWdTdGFydENhbGxiYWNrczogQm9hcmREcmFnRXZlbnRDYWxsYmFja1tdID0gW107XG4gIHB1YmxpYyBkcmFnRW5kQ2FsbGJhY2tzOiBCb2FyZERyYWdFdmVudENhbGxiYWNrW10gPSBbXTtcbiAgcHVibGljIGRyYWdDYWxsYmFja3M6IEJvYXJkRHJhZ0V2ZW50Q2FsbGJhY2tbXSA9IFtdO1xuICBwdWJsaWMgc2hhcGVzOiBTaGFwZVtdO1xuICBwdWJsaWMgYXBwbHlOb3JtYWxTdHlsZT86IENhbnZhc1RpbGVbJ2FwcGx5Tm9ybWFsU3R5bGUnXTtcbiAgcHVibGljIGFwcGx5U2VsZWN0ZWRTdHlsZT86IENhbnZhc1RpbGVbJ2FwcGx5U2VsZWN0ZWRTdHlsZSddO1xuICBwdWJsaWMgYXBwbHlUYXJnZXRlZFN0eWxlPzogQ2FudmFzVGlsZVsnYXBwbHlUYXJnZXRlZFN0eWxlJ107XG4gIHB1YmxpYyBhcHBseU1hdGNoZWRTdHlsZT86IENhbnZhc1RpbGVbJ2FwcGx5TWF0Y2hlZFN0eWxlJ107XG4gIHB1YmxpYyBtYXRjaEFuaW1hdGlvbk1zOiBudW1iZXI7XG4gIHByaXZhdGUgZHJhZ09yaWdpbjogQ2FudmFzVGlsZUluZm8gPSBibGFua0NhbnZhc1RpbGVJbmZvKCk7XG4gIHByaXZhdGUgc3dhcE9yaWdpbjogQ2FudmFzVGlsZUluZm8gPSBibGFua0NhbnZhc1RpbGVJbmZvKCk7XG4gIHByaXZhdGUgc3dhcFRhcmdldDogQ2FudmFzVGlsZUluZm8gPSBibGFua0NhbnZhc1RpbGVJbmZvKCk7XG4gIHByaXZhdGUgc3RhcnRlZFNldHRsaW5nQXQ/OiBEYXRlO1xuICBwcml2YXRlIG5lZWRzU2h1ZmZsZSA9IGZhbHNlO1xuICBwcml2YXRlIGNoZWNrU2h1ZmZsZUludGVydmFsPzogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IFBhcnRpYWw8Q2FudmFzQm9hcmQ+KSB7XG4gICAgc3VwZXIoe1xuICAgICAgLi4ub3B0cyxcbiAgICAgIHRpbGVEZWZzOiB7XG4gICAgICAgIHJlZDogeyBnZW5lcmF0b3I6ICh7IHZhcmlhbnQgfSkgPT4gdGhpcy5kZWZhdWx0TmV3VGlsZU9mVHlwZSgncmVkJywgdmFyaWFudCkgfSxcbiAgICAgICAgb3JhbmdlOiB7IGdlbmVyYXRvcjogKHsgdmFyaWFudCB9KSA9PiB0aGlzLmRlZmF1bHROZXdUaWxlT2ZUeXBlKCdvcmFuZ2UnLCB2YXJpYW50KSB9LFxuICAgICAgICBwdXJwbGU6IHsgZ2VuZXJhdG9yOiAoeyB2YXJpYW50IH0pID0+IHRoaXMuZGVmYXVsdE5ld1RpbGVPZlR5cGUoJ3B1cnBsZScsIHZhcmlhbnQpIH0sXG4gICAgICAgIGdyZWVuOiB7IGdlbmVyYXRvcjogKHsgdmFyaWFudCB9KSA9PiB0aGlzLmRlZmF1bHROZXdUaWxlT2ZUeXBlKCdncmVlbicsIHZhcmlhbnQpIH0sXG4gICAgICAgIGJsdWU6IHsgZ2VuZXJhdG9yOiAoeyB2YXJpYW50IH0pID0+IHRoaXMuZGVmYXVsdE5ld1RpbGVPZlR5cGUoJ2JsdWUnLCB2YXJpYW50KSB9LFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMueCA9IG9wdHMueCB8fCAwO1xuICAgIHRoaXMueSA9IG9wdHMueSB8fCAwO1xuICAgIGNvbnN0IHJhd1dpZHRoID0gb3B0cy53aWR0aCB8fCB0aGlzLmNvbENvdW50ICogNTA7XG4gICAgdGhpcy53aWR0aCA9IHJhd1dpZHRoIC0gKHJhd1dpZHRoICUgdGhpcy5jb2xDb3VudCk7XG4gICAgdGhpcy5oZWlnaHQgPSBvcHRzLmhlaWdodCB8fCB0aGlzLndpZHRoO1xuICAgIHRoaXMuc2Vuc2l0aXZpdHkgPSBvcHRzLnNlbnNpdGl2aXR5IHx8IDI1O1xuICAgIHRoaXMuc2hhcGVzID0gb3B0cy5zaGFwZXMgfHwgZGVmYXVsdFNoYXBlcygpO1xuICAgIHRoaXMuYXBwbHlOb3JtYWxTdHlsZSA9IG9wdHMuYXBwbHlOb3JtYWxTdHlsZTtcbiAgICB0aGlzLmFwcGx5U2VsZWN0ZWRTdHlsZSA9IG9wdHMuYXBwbHlTZWxlY3RlZFN0eWxlO1xuICAgIHRoaXMuYXBwbHlUYXJnZXRlZFN0eWxlID0gb3B0cy5hcHBseVRhcmdldGVkU3R5bGU7XG4gICAgdGhpcy5hcHBseU1hdGNoZWRTdHlsZSA9IG9wdHMuYXBwbHlNYXRjaGVkU3R5bGU7XG4gICAgdGhpcy5tYXRjaEFuaW1hdGlvbk1zID0gb3B0cy5tYXRjaEFuaW1hdGlvbk1zIHx8IDI1MDtcblxuICAgIG1vdXNlLm9uUHJlc3ModGhpcy5ydW5EcmFnU3RhcnRDYWxsYmFja3MuYmluZCh0aGlzKSk7XG4gICAgbW91c2Uub25EZXByZXNzKHRoaXMucnVuRHJhZ0VuZENhbGxiYWNrcy5iaW5kKHRoaXMpKTtcbiAgICBtb3VzZS5vbk1vdmUodGhpcy5ydW5EcmFnQ2FsbGJhY2tzLmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5zdGFiaWxpemVJbml0aWFsVGlsZXMoKTtcblxuICAgIHRoaXMuY2hlY2tTaHVmZmxlSW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy5jaGVja1NodWZmbGUoKSwgMTAwMCk7XG4gIH1cblxuICBnZXQgdGlsZVdpZHRoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMud2lkdGggLyB0aGlzLmNvbENvdW50O1xuICB9XG5cbiAgZ2V0IHRpbGVIZWlnaHQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5oZWlnaHQgLyB0aGlzLnJvd0NvdW50O1xuICB9XG5cbiAgZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIGNvbnN0IHNldHRsaW5nID0gdGhpcy5jaGVja1NldHRsZSgpO1xuICAgIGNvbnN0IG1zU2luY2VTZXR0bGUgPSB0aGlzLnN0YXJ0ZWRTZXR0bGluZ0F0ID8gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLnN0YXJ0ZWRTZXR0bGluZ0F0LmdldFRpbWUoKSA6IDA7XG4gICAgY29uc3QgZmFsbFRpbWVNcyA9IDEwMDtcbiAgICBjb25zdCBkeSA9IChtc1NpbmNlU2V0dGxlIC8gZmFsbFRpbWVNcykgKiB0aGlzLnRpbGVIZWlnaHQ7XG4gICAgY29uc3QgaXRzU3dhcFRpbWVCcnVoID0gbXNTaW5jZVNldHRsZSA+IGZhbGxUaW1lTXM7XG4gICAgaWYgKGl0c1N3YXBUaW1lQnJ1aCkgZGVsZXRlIHRoaXMuc3RhcnRlZFNldHRsaW5nQXQ7XG5cbiAgICBjb25zdCB0aWxlc1RvU3dhcCA9IFtdIGFzIFtHcmlkUG9zaXRpb24sIEdyaWRQb3NpdGlvbl1bXTtcbiAgICB0aGlzLnJvd3MuZm9yRWFjaCgocm93LCByb3dJbmRleCkgPT4ge1xuICAgICAgcm93LmZvckVhY2goKHRpbGUsIHRpbGVJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB4ID0gdGhpcy54ICsgKHRpbGVJbmRleCAqIHRpbGUud2lkdGgpO1xuICAgICAgICBsZXQgeSA9IHRoaXMueSArIChyb3dJbmRleCAqIHRpbGUuaGVpZ2h0KTtcbiAgICAgICAgaWYgKHNldHRsaW5nICYmICF0aWxlLmJsYW5rKSB7XG4gICAgICAgICAgY29uc3QgcG9zaXRpb24gPSB7IHJvdzogcm93SW5kZXgsIGNvbDogdGlsZUluZGV4IH07XG4gICAgICAgICAgY29uc3QgYmVsb3cgPSB0aGlzLmFkamFjZW50VGlsZShwb3NpdGlvbiwgJ2Rvd24nKTtcbiAgICAgICAgICBpZiAoYmVsb3cudGlsZSAmJiBiZWxvdy50aWxlLmJsYW5rKSB7XG4gICAgICAgICAgICB5ICs9IGR5O1xuICAgICAgICAgICAgaWYgKGl0c1N3YXBUaW1lQnJ1aCkgdGlsZXNUb1N3YXAucHVzaChbcG9zaXRpb24sIGJlbG93XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRpbGUuZHJhdyhjdHgsIHgsIHkpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0aWxlc1RvU3dhcC5mb3JFYWNoKChbb3JpZ2luLCBiZWxvd10pID0+IHRoaXMuc3dhcFRpbGUob3JpZ2luLCBiZWxvdykpO1xuICB9XG5cbiAgdXBkYXRlKCk6IHZvaWQge1xuICAgIHRoaXMuc3Bhd25OZXdUaWxlcygpO1xuICAgIGlmICh0aGlzLnRpbGVzV2lsbERyb3AoKSkgcmV0dXJuO1xuXG4gICAgaWYgKHRoaXMubmVlZHNTaHVmZmxlKSB7XG4gICAgICAvLyB0aGlzLmRyYXdTaHVmZmxlKCk7XG4gICAgICB0aGlzLnNodWZmbGUoKTtcbiAgICB9XG5cbiAgICBjb25zdCBtYXRjaGVkU2hhcGVzID0gdGhpcy5tYXRjaFNoYXBlcygpO1xuICAgIGlmICghbWF0Y2hlZFNoYXBlcy5sZW5ndGgpIHJldHVybjtcblxuICAgIGNvbnN0IG9yaWdpblRpbGUgPSB0aGlzLnN3YXBPcmlnaW4udGlsZTtcbiAgICBjb25zdCB0YXJnZXRUaWxlID0gdGhpcy5zd2FwVGFyZ2V0LnRpbGU7XG5cbiAgICBjb25zdCBzb3J0ZWRNYXRjaGVkU2hhcGVzID0gWy4uLm1hdGNoZWRTaGFwZXNdLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGlmIChhLnNoYXBlLnZhbHVlID4gYi5zaGFwZS52YWx1ZSkgcmV0dXJuIC0xO1xuICAgICAgaWYgKGIuc2hhcGUudmFsdWUgPiBhLnNoYXBlLnZhbHVlKSByZXR1cm4gMTtcbiAgICAgIGlmIChhLnRpbGVzLnNvbWUodGlsZSA9PiAodGlsZSA9PT0gdGFyZ2V0VGlsZSB8fCB0aWxlID09PSBvcmlnaW5UaWxlKSkpIHJldHVybiAtMTtcbiAgICAgIGlmIChiLnRpbGVzLnNvbWUodGlsZSA9PiAodGlsZSA9PT0gdGFyZ2V0VGlsZSB8fCB0aWxlID09PSBvcmlnaW5UaWxlKSkpIHJldHVybiAxO1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSk7XG5cbiAgICBjb25zdCB0cmFuc2NlbmRlbnRUaWxlczogTWFwPENhbnZhc1RpbGUsIHN0cmluZ1tdPiA9IG5ldyBNYXAoKTtcbiAgICBzb3J0ZWRNYXRjaGVkU2hhcGVzLmZvckVhY2goKHsgdGlsZXMsIHNoYXBlLCByb3RhdGlvbiwgY2VudGVyVGlsZSB9KSA9PiB7XG4gICAgICB0aWxlcy5mb3JFYWNoKHRpbGUgPT4gdGhpcy5leHBsb2RlVGlsZSh0aWxlKSk7XG4gICAgICBjb25zdCB2YXJpYW50ID0gdGhpcy52YXJpYW50Rm9yU2hhcGUoc2hhcGUsIHJvdGF0aW9uKTtcbiAgICAgIGlmICh2YXJpYW50KSB7XG4gICAgICAgIGNvbnN0IG1vdmVkVGlsZSA9IHRpbGVzLmZpbmQodGlsZSA9PiAodGlsZSA9PT0gdGFyZ2V0VGlsZSB8fCB0aWxlID09PSBvcmlnaW5UaWxlKSk7XG4gICAgICAgIGNvbnN0IHRyYW5zY2VuZGVudCA9IG1vdmVkVGlsZSB8fCBjZW50ZXJUaWxlO1xuICAgICAgICBjb25zdCBleGlzdGluZyA9IHRyYW5zY2VuZGVudFRpbGVzLmdldCh0cmFuc2NlbmRlbnQpO1xuICAgICAgICB0cmFuc2NlbmRlbnRUaWxlcy5zZXQodHJhbnNjZW5kZW50LCBbLi4uKGV4aXN0aW5nIHx8IFtdKSwgdmFyaWFudF0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdHJhbnNjZW5kZW50VGlsZXMuZm9yRWFjaCgodmFyaWFudHMsIHRpbGUpID0+IHtcbiAgICAgIHRpbGUudmFyaWFudCA9IHZhcmlhbnRzWzBdO1xuICAgICAgdGlsZS5tYXRjaGVkID0gZmFsc2U7XG4gICAgfSk7XG4gIH1cblxuICBzcGF3bk5ld1RpbGVzKCk6IHZvaWQge1xuICAgIHRoaXMucm93c1swXSA9IHRoaXMucm93c1swXS5tYXAodGlsZSA9PiAodGlsZS5ibGFuayA/IHRoaXMubmV3TXVuZGFuZVRpbGUoKSA6IHRpbGUpKTtcbiAgfVxuXG4gIHRpbGVzV2lsbERyb3AoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMucm93cy5zbGljZSgxKS5zb21lKHJvdyA9PiByb3cuc29tZSh0aWxlID0+ICh0aWxlLm1hdGNoZWQgfHwgdGlsZS5ibGFuaykpKTtcbiAgfVxuXG4gIGV4cGxvZGVUaWxlKHRpbGU6IENhbnZhc1RpbGUpOiB2b2lkIHtcbiAgICBpZiAodGlsZS5pc011bmRhbmUpIHRpbGUubWF0Y2hlZCA9IHRydWU7XG4gICAgaWYgKHRpbGUubWF0Y2hlZCkgcmV0dXJuO1xuXG4gICAgdGlsZS5tYXRjaGVkID0gdHJ1ZTtcbiAgICBzd2l0Y2ggKHRpbGUudmFyaWFudCkge1xuICAgICAgY2FzZSAnaG9yaXpvbnRhbENsZWFyJzogdGhpcy5jbGVhclJvdyh0aGlzLmZpbmRUaWxlKHRpbGUpKTsgYnJlYWs7XG4gICAgICBjYXNlICd2ZXJ0aWNhbENsZWFyJzogdGhpcy5jbGVhckNvbCh0aGlzLmZpbmRUaWxlKHRpbGUpKTsgYnJlYWs7XG4gICAgICBjYXNlICdjcm9zc0NsZWFyJzogdGhpcy5jbGVhckNyb3NzKHRoaXMuZmluZFRpbGUodGlsZSkpOyBicmVhaztcbiAgICAgIGNhc2UgJ3R5cGVDbGVhcic6IHRoaXMuY2xlYXJUeXBlKHRpbGUudHlwZSk7IGJyZWFrO1xuICAgICAgY2FzZSAnYm9tYkNsZWFyJzogdGhpcy5jbGVhckJvbWIodGhpcy5maW5kVGlsZSh0aWxlKSk7IGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGNsZWFyUm93KHsgcm93IH06IFBpY2s8R3JpZFBvc2l0aW9uLCAncm93Jz4pOiB2b2lkIHtcbiAgICB0aGlzLnJvd3Nbcm93XS5mb3JFYWNoKHRpbGUgPT4gdGhpcy5leHBsb2RlVGlsZSh0aWxlKSk7XG4gIH1cblxuICBjbGVhckNvbCh7IGNvbCB9OiBQaWNrPEdyaWRQb3NpdGlvbiwgJ2NvbCc+KTogdm9pZCB7XG4gICAgdGhpcy5yb3dzLmZvckVhY2gocm93ID0+IHRoaXMuZXhwbG9kZVRpbGUocm93W2NvbF0pKTtcbiAgfVxuXG4gIGNsZWFyQ3Jvc3MoeyByb3csIGNvbCB9OiBHcmlkUG9zaXRpb24pOiB2b2lkIHtcbiAgICB0aGlzLmNsZWFyUm93KHsgcm93IH0pO1xuICAgIHRoaXMuY2xlYXJDb2woeyBjb2wgfSk7XG4gIH1cblxuICBjbGVhclR5cGUodHlwZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy50aWxlcy5mb3JFYWNoKHRpbGUgPT4geyBpZiAodGlsZS50eXBlID09PSB0eXBlKSB0aGlzLmV4cGxvZGVUaWxlKHRpbGUpOyB9KTtcbiAgfVxuXG4gIGNsZWFyQm9tYih7IHJvdywgY29sIH06IEdyaWRQb3NpdGlvbik6IHZvaWQge1xuICAgIGNvbnN0IGJvbWJTaGFwZSA9IG5ldyBTaGFwZSh7XG4gICAgICBtYXA6IFtcbiAgICAgICAgW2ZhbHNlLCBmYWxzZSwgdHJ1ZV0sXG4gICAgICAgIFtmYWxzZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZV0sXG4gICAgICAgIFt0cnVlLCB0cnVlLCB0cnVlLCB0cnVlLCB0cnVlXSxcbiAgICAgICAgW2ZhbHNlLCB0cnVlLCB0cnVlLCB0cnVlXSxcbiAgICAgICAgW2ZhbHNlLCBmYWxzZSwgdHJ1ZV0sXG4gICAgICBdLFxuICAgIH0pO1xuICAgIGNvbnN0IHsgY2VudGVyIH0gPSBib21iU2hhcGU7XG4gICAgY29uc3QgYm9tYlRvcCA9IHJvdyAtIGNlbnRlci5yb3c7XG4gICAgY29uc3QgYm9tYkxlZnQgPSBjb2wgLSBjZW50ZXIuY29sO1xuICAgIGNvbnN0IGJvbWJlZFRpbGVzID0gYm9tYlNoYXBlLnNjcmVlbih0aGlzLnJvd3MsIHsgcm93OiBib21iVG9wLCBjb2w6IGJvbWJMZWZ0IH0pO1xuICAgIGJvbWJlZFRpbGVzLmZvckVhY2godGlsZSA9PiB0aGlzLmV4cGxvZGVUaWxlKHRpbGUpKTtcbiAgfVxuXG4gIGNoZWNrU2V0dGxlKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHNldHRsaW5nID0gdGhpcy50aWxlcy5zb21lKHRpbGUgPT4gdGlsZS5ibGFuayk7XG5cbiAgICBpZiAoc2V0dGxpbmcpIHtcbiAgICAgIGlmICghdGhpcy5zdGFydGVkU2V0dGxpbmdBdCkgdGhpcy5zdGFydGVkU2V0dGxpbmdBdCA9IG5ldyBEYXRlKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBkZWxldGUgdGhpcy5zdGFydGVkU2V0dGxpbmdBdDtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB0aWxlQXQocG9zOiBDb29yZFBvc2l0aW9ufEdyaWRQb3NpdGlvbik6IENhbnZhc1RpbGVJbmZvIHtcbiAgICBpZiAoJ3JvdycgaW4gcG9zKSB7XG4gICAgICBjb25zdCB7IHJvdywgY29sIH0gPSBwb3M7XG4gICAgICBjb25zdCB0aWxlID0gdGhpcy5yb3dzW3Jvd11bY29sXTtcbiAgICAgIHJldHVybiB0aWxlID8geyByb3csIGNvbCwgdGlsZSB9IDogYmxhbmtDYW52YXNUaWxlSW5mbygpO1xuICAgIH1cblxuICAgIGNvbnN0IHggPSBwb3MueCAtIHRoaXMueDtcbiAgICBjb25zdCB5ID0gcG9zLnkgLSB0aGlzLnk7XG4gICAgaWYgKHggPiB0aGlzLndpZHRoIHx8IHkgPiB0aGlzLmhlaWdodCkgcmV0dXJuIGJsYW5rQ2FudmFzVGlsZUluZm8oKTtcblxuICAgIGNvbnN0IGZyYWN0aW9uWCA9IHggLyB0aGlzLndpZHRoO1xuICAgIGNvbnN0IGZyYWN0aW9uWSA9IHkgLyB0aGlzLmhlaWdodDtcbiAgICBjb25zdCByb3cgPSBNYXRoLmZsb29yKGZyYWN0aW9uWSAqIHRoaXMucm93Q291bnQpO1xuICAgIGNvbnN0IGNvbCA9IE1hdGguZmxvb3IoZnJhY3Rpb25YICogdGhpcy5jb2xDb3VudCk7XG4gICAgY29uc3QgdGlsZSA9IHRoaXMucm93c1tyb3ddW2NvbF07XG4gICAgcmV0dXJuIHsgcm93LCBjb2wsIHRpbGUgfTtcbiAgfVxuXG4gIGZpbmRUaWxlKHRhcmdldDogQ2FudmFzVGlsZSk6IENhbnZhc1RpbGVJbmZvIHtcbiAgICByZXR1cm4gZmluZE1hcCh0aGlzLnJvd3MsIChyb3dUaWxlcywgcm93KSA9PiB7XG4gICAgICByZXR1cm4gZmluZE1hcChyb3dUaWxlcywgKHRpbGUsIGNvbCkgPT4geyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gICAgICAgIGlmICh0YXJnZXQgPT09IHRpbGUpIHJldHVybiB7IHJvdywgY29sLCB0aWxlIH07XG4gICAgICB9KTtcbiAgICB9KSB8fCBibGFua0NhbnZhc1RpbGVJbmZvKCk7XG4gIH1cblxuICB0aWxlQ2VudGVyKHRpbGVJbmZvOiBDYW52YXNUaWxlSW5mbyk6IENvb3JkUG9zaXRpb24ge1xuICAgIGNvbnN0IHsgcm93LCBjb2wsIHRpbGUgfSA9IHRpbGVJbmZvO1xuICAgIGlmICghdGlsZSkgcmV0dXJuIHsgeDogLTEsIHk6IC0xIH07XG5cbiAgICBjb25zdCB4ID0gdGhpcy54ICsgKGNvbCAqIHRpbGUuaGVpZ2h0KSArICh0aWxlLmhlaWdodCAvIDIpO1xuICAgIGNvbnN0IHkgPSB0aGlzLnkgKyAocm93ICogdGlsZS53aWR0aCkgKyAodGlsZS53aWR0aCAvIDIpO1xuICAgIHJldHVybiB7IHgsIHkgfTtcbiAgfVxuXG4gIHN3YXBUaWxlKGZyb206IENvb3JkUG9zaXRpb258R3JpZFBvc2l0aW9uLCB0bzogU3dhcERpcmVjdGlvbnxDb29yZFBvc2l0aW9ufEdyaWRQb3NpdGlvbik6IHZvaWQge1xuICAgIGlmICh0eXBlb2YgdG8gPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLnN3YXBUaWxlSW5EaXJlY3Rpb24oZnJvbSwgdG8pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN3YXBUaWxlV2l0aFRpbGUoZnJvbSwgdG8pO1xuICAgIH1cbiAgfVxuXG4gIG9uRHJhZ1N0YXJ0KGNhbGxiYWNrOiAoZXZlbnQ6IEJvYXJkRHJhZ0V2ZW50KSA9PiB2b2lkKTogbnVtYmVyIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuZHJhZ1N0YXJ0Q2FsbGJhY2tzLmxlbmd0aDtcbiAgICB0aGlzLmRyYWdTdGFydENhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICByZW1vdmVEcmFnU3RhcnRMaXN0ZW5lcihpZDogbnVtYmVyKTogdm9pZCB7XG4gICAgZGVsZXRlIHRoaXMuZHJhZ1N0YXJ0Q2FsbGJhY2tzW2lkXTtcbiAgfVxuXG4gIG9uRHJhZ0VuZChjYWxsYmFjazogKGV2ZW50OiBCb2FyZERyYWdFdmVudCkgPT4gdm9pZCk6IG51bWJlciB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmRyYWdFbmRDYWxsYmFja3MubGVuZ3RoO1xuICAgIHRoaXMuZHJhZ0VuZENhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICByZW1vdmVEcmFnRW5kTGlzdGVuZXIoaWQ6IG51bWJlcik6IHZvaWQge1xuICAgIGRlbGV0ZSB0aGlzLmRyYWdFbmRDYWxsYmFja3NbaWRdO1xuICB9XG5cbiAgb25EcmFnKGNhbGxiYWNrOiAoZXZlbnQ6IEJvYXJkRHJhZ0V2ZW50KSA9PiB2b2lkKTogbnVtYmVyIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuZHJhZ0NhbGxiYWNrcy5sZW5ndGg7XG4gICAgdGhpcy5kcmFnQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIHJlbW92ZURyYWdMaXN0ZW5lcihpZDogbnVtYmVyKTogdm9pZCB7XG4gICAgZGVsZXRlIHRoaXMuZHJhZ0NhbGxiYWNrc1tpZF07XG4gIH1cblxuICBhZGphY2VudFNwYWNlKG9yaWdpbjogQ29vcmRQb3NpdGlvbnxHcmlkUG9zaXRpb24sIGRpcmVjdGlvbjogU3dhcERpcmVjdGlvbik6IEdyaWRQb3NpdGlvbiB7XG4gICAgY29uc3QgeyByb3csIGNvbCB9ID0gJ3JvdycgaW4gb3JpZ2luID8gb3JpZ2luIDogdGhpcy50aWxlQXQob3JpZ2luKTtcbiAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICAgICAgY2FzZSAndXAnOiByZXR1cm4geyByb3c6IHJvdyAtIDEsIGNvbCB9O1xuICAgICAgY2FzZSAnZG93bic6IHJldHVybiB7IHJvdzogcm93ICsgMSwgY29sIH07XG4gICAgICBjYXNlICdsZWZ0JzogcmV0dXJuIHsgcm93LCBjb2w6IGNvbCAtIDEgfTtcbiAgICAgIGNhc2UgJ3JpZ2h0JzogcmV0dXJuIHsgcm93LCBjb2w6IGNvbCArIDEgfTtcbiAgICAgIGRlZmF1bHQ6IHJldHVybiB7IHJvdywgY29sIH07XG4gICAgfVxuICB9XG5cbiAgYWRqYWNlbnRUaWxlKG9yaWdpbjogQ2FudmFzVGlsZUluZm98Q29vcmRQb3NpdGlvbnxHcmlkUG9zaXRpb24sIGRpcmVjdGlvbjogU3dhcERpcmVjdGlvbik6IENhbnZhc1RpbGVJbmZvIHtcbiAgICBjb25zdCB7IHJvdywgY29sIH0gPSB0aGlzLmFkamFjZW50U3BhY2Uob3JpZ2luLCBkaXJlY3Rpb24pO1xuICAgIGNvbnN0IHRpbGUgPSB0aGlzLnJvd3Nbcm93XSAmJiB0aGlzLnJvd3Nbcm93XVtjb2xdO1xuICAgIHJldHVybiB0aWxlID8geyByb3csIGNvbCwgdGlsZSB9IDogYmxhbmtDYW52YXNUaWxlSW5mbygpO1xuICB9XG5cbiAgcmVtb3ZlVGlsZSh0aWxlOiBDYW52YXNUaWxlKTogdm9pZCB7XG4gICAgdGlsZS5ibGFuayA9IHRydWU7XG4gIH1cblxuICBtYXRjaFNoYXBlcygpOiB7IHNoYXBlOiBTaGFwZTsgcm90YXRpb246IG51bWJlcjsgdGlsZXM6IENhbnZhc1RpbGVbXTsgY2VudGVyVGlsZTogQ2FudmFzVGlsZSB9W10ge1xuICAgIHJldHVybiByYW5nZSh0aGlzLmNvbENvdW50KS5yZWR1Y2UoKG1lbW8sIGNvbEluZGV4KSA9PiB7XG4gICAgICB0aGlzLnNoYXBlcy5mb3JFYWNoKChzaGFwZSkgPT4ge1xuICAgICAgICB0aGlzLnJvd3MuZm9yRWFjaCgoX3Jvdywgcm93SW5kZXgpID0+IHtcbiAgICAgICAgICBjb25zdCBuZXdHcmlkID0gdGhpcy5yb3dzLnNsaWNlKHJvd0luZGV4KS5tYXAocm93ID0+IHJvdy5zbGljZShjb2xJbmRleCkpO1xuICAgICAgICAgIGNvbnN0IHsgcm90YXRpb24sIG1hdGNoZWQsIGNlbnRlciB9ID0gc2hhcGUubWF0Y2gobmV3R3JpZCwgJ3R5cGUnKTtcbiAgICAgICAgICBpZiAobWF0Y2hlZC5sZW5ndGggPiAwKSBtZW1vLnB1c2goeyBzaGFwZSwgcm90YXRpb24sIHRpbGVzOiBtYXRjaGVkLCBjZW50ZXJUaWxlOiBjZW50ZXIhIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG1lbW87XG4gICAgfSwgW10gYXMgeyBzaGFwZTogU2hhcGU7IHJvdGF0aW9uOiBudW1iZXI7IHRpbGVzOiBDYW52YXNUaWxlW107IGNlbnRlclRpbGU6IENhbnZhc1RpbGUgfVtdKTtcbiAgfVxuXG4gIHByaXZhdGUgZGVmYXVsdE5ld1RpbGVPZlR5cGUodHlwZTogc3RyaW5nLCB2YXJpYW50Pzogc3RyaW5nKTogQ2FudmFzVGlsZSB7XG4gICAgLy8gZnV0dXJlOiBjaGFuZ2UgY29sb3JzIGZvciBcImNvbG9yXCIgdHlwZXMgaGVyZVxuICAgIGNvbnN0IGNvbG9ycyA9IHtcbiAgICAgIHJlZDogJ3JlZCcsXG4gICAgICBvcmFuZ2U6ICdvcmFuZ2UnLFxuICAgICAgcHVycGxlOiAncHVycGxlJyxcbiAgICAgIGdyZWVuOiAnZ3JlZW4nLFxuICAgICAgYmx1ZTogJ2JsdWUnLFxuICAgIH07XG5cbiAgICByZXR1cm4gbmV3IENhbnZhc1RpbGUoe1xuICAgICAgdHlwZSxcbiAgICAgIHZhcmlhbnQsXG4gICAgICBjb2xvcjogY29sb3JzW3R5cGUgYXMga2V5b2YgdHlwZW9mIGNvbG9yc10sXG4gICAgICB3aWR0aDogdGhpcy50aWxlV2lkdGgsXG4gICAgICBoZWlnaHQ6IHRoaXMudGlsZUhlaWdodCxcbiAgICAgIGFwcGx5Tm9ybWFsU3R5bGU6IHRoaXMuYXBwbHlOb3JtYWxTdHlsZSxcbiAgICAgIGFwcGx5U2VsZWN0ZWRTdHlsZTogdGhpcy5hcHBseVNlbGVjdGVkU3R5bGUsXG4gICAgICBhcHBseVRhcmdldGVkU3R5bGU6IHRoaXMuYXBwbHlUYXJnZXRlZFN0eWxlLFxuICAgICAgYXBwbHlNYXRjaGVkU3R5bGU6IHRoaXMuYXBwbHlNYXRjaGVkU3R5bGUsXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHZhcmlhbnRGb3JTaGFwZShzaGFwZTogU2hhcGUsIHJvdGF0aW9uOiBudW1iZXIpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAoc2hhcGUudmFsdWUpIHtcbiAgICAgIGNhc2UgMjogcmV0dXJuIHJvdGF0aW9uICUgMiA9PT0gMCA/ICd2ZXJ0aWNhbENsZWFyJyA6ICdob3Jpem9udGFsQ2xlYXInO1xuICAgICAgY2FzZSAzOiByZXR1cm4gJ3R5cGVDbGVhcic7XG4gICAgICBjYXNlIDQ6IHJldHVybiAndHlwZUNsZWFyJztcbiAgICAgIGNhc2UgNTogcmV0dXJuICdjcm9zc0NsZWFyJztcbiAgICAgIGNhc2UgNjogcmV0dXJuICdjcm9zc0NsZWFyJztcbiAgICAgIGNhc2UgNzogcmV0dXJuICdib21iQ2xlYXInO1xuICAgICAgZGVmYXVsdDogcmV0dXJuICcnO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3dhcFRpbGVXaXRoVGlsZShmcm9tOiBDb29yZFBvc2l0aW9ufEdyaWRQb3NpdGlvbiwgdG86IENvb3JkUG9zaXRpb258R3JpZFBvc2l0aW9uKTogdm9pZCB7XG4gICAgY29uc3Qgb3JpZ2luID0gdGhpcy50aWxlQXQoZnJvbSk7XG4gICAgaWYgKCFvcmlnaW4udGlsZSkgcmV0dXJuO1xuXG4gICAgdGhpcy5zd2FwT3JpZ2luID0gb3JpZ2luO1xuICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gdGhpcy50aWxlQXQodG8pO1xuICAgIGlmICghZGVzdGluYXRpb24udGlsZSkgcmV0dXJuO1xuXG4gICAgdGhpcy5zd2FwVGFyZ2V0ID0gZGVzdGluYXRpb247XG4gICAgdGhpcy5yb3dzW2Rlc3RpbmF0aW9uLnJvd11bZGVzdGluYXRpb24uY29sXSA9IG9yaWdpbi50aWxlO1xuICAgIHRoaXMucm93c1tvcmlnaW4ucm93XVtvcmlnaW4uY29sXSA9IGRlc3RpbmF0aW9uLnRpbGU7XG4gIH1cblxuICBwcml2YXRlIHN3YXBUaWxlSW5EaXJlY3Rpb24oZnJvbTogQ29vcmRQb3NpdGlvbnxHcmlkUG9zaXRpb24sIGRpcmVjdGlvbjogU3dhcERpcmVjdGlvbik6IHZvaWQge1xuICAgIGNvbnN0IG9yaWdpbiA9IHRoaXMudGlsZUF0KGZyb20pO1xuICAgIGlmICghb3JpZ2luLnRpbGUpIHJldHVybjtcblxuICAgIHRoaXMuc3dhcE9yaWdpbiA9IG9yaWdpbjtcbiAgICBjb25zdCBkZXN0aW5hdGlvbiA9IHRoaXMuYWRqYWNlbnRUaWxlKG9yaWdpbiwgZGlyZWN0aW9uKTtcbiAgICBpZiAoIWRlc3RpbmF0aW9uLnRpbGUpIHJldHVybjtcblxuICAgIHRoaXMuc3dhcFRhcmdldCA9IGRlc3RpbmF0aW9uO1xuICAgIHRoaXMucm93c1tkZXN0aW5hdGlvbi5yb3ddW2Rlc3RpbmF0aW9uLmNvbF0gPSBvcmlnaW4udGlsZTtcbiAgICB0aGlzLnJvd3Nbb3JpZ2luLnJvd11bb3JpZ2luLmNvbF0gPSBkZXN0aW5hdGlvbi50aWxlO1xuICB9XG5cbiAgcHJpdmF0ZSBjbGVhckV4aXN0aW5nRHJhZ0ZsYWdzKCk6IHZvaWQge1xuICAgIHRoaXMudGlsZXMuZm9yRWFjaCgodGlsZSkgPT4ge1xuICAgICAgdGlsZS5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgdGlsZS50YXJnZXRlZCA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXREcmFnU3RhcnRGbGFncyh0aWxlSW5mbzogUHJlc2VudENhbnZhc1RpbGVJbmZvKTogdm9pZCB7XG4gICAgdGhpcy5jbGVhckV4aXN0aW5nRHJhZ0ZsYWdzKCk7XG4gICAgdGlsZUluZm8udGlsZS5zZWxlY3RlZCA9IHRydWU7XG4gICAgdGlsZUluZm8udGlsZS50YXJnZXRlZCA9IHRydWU7XG4gIH1cblxuICBwcml2YXRlIHNldERyYWdFbmRGbGFncygpOiB2b2lkIHtcbiAgICB0aGlzLmNsZWFyRXhpc3RpbmdEcmFnRmxhZ3MoKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0RHJhZ0ZsYWdzKG9yaWdpbjogUHJlc2VudENhbnZhc1RpbGVJbmZvLCBkZXN0aW5hdGlvbjogUHJlc2VudENhbnZhc1RpbGVJbmZvKTogdm9pZCB7XG4gICAgdGhpcy5jbGVhckV4aXN0aW5nRHJhZ0ZsYWdzKCk7XG4gICAgb3JpZ2luLnRpbGUuc2VsZWN0ZWQgPSB0cnVlO1xuICAgIGRlc3RpbmF0aW9uLnRpbGUudGFyZ2V0ZWQgPSB0cnVlO1xuICB9XG5cbiAgcHJpdmF0ZSBydW5EcmFnU3RhcnRDYWxsYmFja3MobW91c2U6IE1vdXNlKTogdm9pZCB7XG4gICAgY29uc3Qgc2V0dGxpbmcgPSB0aGlzLmNoZWNrU2V0dGxlKCk7XG4gICAgaWYgKHNldHRsaW5nKSByZXR1cm47XG5cbiAgICBjb25zdCB7IHgsIHkgfSA9IG1vdXNlO1xuICAgIGNvbnN0IG9yaWdpbiA9IHRoaXMudGlsZUF0KHsgeCwgeSB9KTtcbiAgICBpZiAoIW9yaWdpbi50aWxlKSByZXR1cm47XG5cbiAgICB0aGlzLmRyYWdPcmlnaW4gPSBvcmlnaW47XG4gICAgdGhpcy5zZXREcmFnU3RhcnRGbGFncyh0aGlzLmRyYWdPcmlnaW4pO1xuICAgIGNvbnN0IGRpc3RhbmNlID0gZGlzdGFuY2VCZXR3ZWVuKG1vdXNlLCB0aGlzLnRpbGVDZW50ZXIob3JpZ2luKSk7XG4gICAgY29uc3QgZGlyZWN0aW9uID0gbW91c2UuZHJhZ0RpcmVjdGlvbjtcbiAgICBjb25zdCBkZXN0aW5hdGlvbiA9IG9yaWdpbjtcblxuICAgIHRoaXMuZHJhZ1N0YXJ0Q2FsbGJhY2tzLmZvckVhY2goKGNhbGxiYWNrKSA9PiB7XG4gICAgICBjYWxsYmFjayh7IHgsIHksIGRpc3RhbmNlLCBkaXJlY3Rpb24sIG9yaWdpbiwgZGVzdGluYXRpb24sIG1vdXNlIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBydW5EcmFnRW5kQ2FsbGJhY2tzKG1vdXNlOiBNb3VzZSk6IHZvaWQge1xuICAgIGNvbnN0IHNldHRsaW5nID0gdGhpcy5jaGVja1NldHRsZSgpO1xuICAgIGlmIChzZXR0bGluZykgcmV0dXJuO1xuXG4gICAgY29uc3Qgb3JpZ2luID0gdGhpcy5kcmFnT3JpZ2luO1xuICAgIGlmICghb3JpZ2luLnRpbGUpIHJldHVybjtcblxuICAgIGNvbnN0IHsgeCwgeSB9ID0gbW91c2U7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBkaXN0YW5jZUJldHdlZW4obW91c2UsIHRoaXMudGlsZUNlbnRlcihvcmlnaW4pKTtcbiAgICBjb25zdCBtb3ZlVG8gPSBkaXN0YW5jZSA+IHRoaXMuc2Vuc2l0aXZpdHkgPyB0aGlzLmFkamFjZW50VGlsZShvcmlnaW4sIG1vdXNlLmRyYWdEaXJlY3Rpb24pIDogb3JpZ2luO1xuICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gbW92ZVRvLnRpbGUgPyBtb3ZlVG8gOiBvcmlnaW47XG4gICAgY29uc3QgZGlyZWN0aW9uID0gbW91c2UuZHJhZ0RpcmVjdGlvbjtcbiAgICB0aGlzLnNldERyYWdFbmRGbGFncygpO1xuXG4gICAgdGhpcy5kcmFnRW5kQ2FsbGJhY2tzLmZvckVhY2goKGNhbGxiYWNrKSA9PiB7XG4gICAgICBjYWxsYmFjayh7IHgsIHksIGRpc3RhbmNlLCBkaXJlY3Rpb24sIG9yaWdpbiwgZGVzdGluYXRpb24sIG1vdXNlIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5kcmFnT3JpZ2luID0gYmxhbmtDYW52YXNUaWxlSW5mbygpO1xuICB9XG5cbiAgcHJpdmF0ZSBydW5EcmFnQ2FsbGJhY2tzKG1vdXNlOiBNb3VzZSk6IHZvaWQge1xuICAgIGNvbnN0IHNldHRsaW5nID0gdGhpcy5jaGVja1NldHRsZSgpO1xuICAgIGlmIChzZXR0bGluZykgcmV0dXJuO1xuXG4gICAgY29uc3Qgb3JpZ2luID0gdGhpcy5kcmFnT3JpZ2luO1xuICAgIGlmICghb3JpZ2luLnRpbGUpIHJldHVybjtcblxuICAgIGNvbnN0IHsgeCwgeSwgcHJlc3NlZCB9ID0gbW91c2U7XG4gICAgaWYgKCFwcmVzc2VkKSByZXR1cm47XG5cbiAgICBjb25zdCBkaXN0YW5jZSA9IGRpc3RhbmNlQmV0d2Vlbihtb3VzZSwgdGhpcy50aWxlQ2VudGVyKG9yaWdpbikpO1xuICAgIGNvbnN0IG1vdmVUbyA9IGRpc3RhbmNlID4gdGhpcy5zZW5zaXRpdml0eSA/IHRoaXMuYWRqYWNlbnRUaWxlKG9yaWdpbiwgbW91c2UuZHJhZ0RpcmVjdGlvbikgOiBvcmlnaW47XG4gICAgY29uc3QgZGVzdGluYXRpb24gPSBtb3ZlVG8udGlsZSA/IG1vdmVUbyA6IG9yaWdpbjtcbiAgICBjb25zdCBkaXJlY3Rpb24gPSBtb3VzZS5kcmFnRGlyZWN0aW9uO1xuICAgIHRoaXMuc2V0RHJhZ0ZsYWdzKG9yaWdpbiwgZGVzdGluYXRpb24pO1xuXG4gICAgdGhpcy5kcmFnQ2FsbGJhY2tzLmZvckVhY2goKGNhbGxiYWNrKSA9PiB7XG4gICAgICBjYWxsYmFjayh7IHgsIHksIGRpc3RhbmNlLCBkaXJlY3Rpb24sIG9yaWdpbiwgZGVzdGluYXRpb24sIG1vdXNlIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZXBsYWNlVGlsZSh0aWxlMTogQ2FudmFzVGlsZSwgdGlsZTI6IENhbnZhc1RpbGUpOiB2b2lkIHtcbiAgICBjb25zdCB7IHJvdywgY29sIH0gPSB0aGlzLmZpbmRUaWxlKHRpbGUxKTtcbiAgICB0aGlzLnJvd3Nbcm93XVtjb2xdID0gdGlsZTI7XG4gIH1cblxuICBwcml2YXRlIHN0YWJpbGl6ZUluaXRpYWxUaWxlcyh0cmllcyA9IDIwKTogdm9pZCB7XG4gICAgaWYgKHRyaWVzIDw9IDApIHtcbiAgICAgIHRoaXMucm93cyA9IHRoaXMubmV3Um93cygpO1xuICAgICAgdGhpcy5zdGFiaWxpemVJbml0aWFsVGlsZXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBtYXRjaGVkU2hhcGVzID0gdGhpcy5tYXRjaFNoYXBlcygpO1xuICAgIGlmICghbWF0Y2hlZFNoYXBlcy5sZW5ndGgpIHJldHVybjtcblxuICAgIG1hdGNoZWRTaGFwZXNbMF0udGlsZXMuZm9yRWFjaCh0aWxlID0+IHRoaXMucmVwbGFjZVRpbGUodGlsZSwgdGhpcy5uZXdNdW5kYW5lVGlsZSgpKSk7XG5cbiAgICB0aGlzLnN0YWJpbGl6ZUluaXRpYWxUaWxlcyh0cmllcyAtIDEpO1xuICB9XG5cbiAgcHJpdmF0ZSBwb3NzaWJsZU1hdGNoZXNFeGlzdCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISFmaW5kTWFwKHRoaXMucm93cywgKHJvdywgcm93SW5kZXgpID0+IHtcbiAgICAgIHJldHVybiBmaW5kTWFwKHJvdywgKF90aWxlLCBjb2xJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHsgcm93OiByb3dJbmRleCwgY29sOiBjb2xJbmRleCB9O1xuICAgICAgICByZXR1cm4gZmluZE1hcCh0dXBsZSgndXAnLCAnZG93bicsICdsZWZ0JywgJ3JpZ2h0JyksIChkaXJlY3Rpb24pID0+IHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICAgICAgICAgIHRoaXMuc3dhcFRpbGVJbkRpcmVjdGlvbihwb3NpdGlvbiwgZGlyZWN0aW9uKTtcbiAgICAgICAgICBpZiAodGhpcy5tYXRjaFNoYXBlcygpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB0aGlzLnN3YXBUaWxlSW5EaXJlY3Rpb24ocG9zaXRpb24sIGRpcmVjdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGNoZWNrU2h1ZmZsZSgpOiB2b2lkIHtcbiAgICB0aGlzLm5lZWRzU2h1ZmZsZSA9ICF0aGlzLnBvc3NpYmxlTWF0Y2hlc0V4aXN0KCk7XG4gIH1cbn1cblxuKHdpbmRvdyBhcyBhbnkpLmRlZmF1bHRTaGFwZXMgPSBkZWZhdWx0U2hhcGVzO1xuIiwiaW1wb3J0IGdhbWVMb29wIGZyb20gXCIuL2dhbWUvZ2FtZUxvb3BcIjtcbmltcG9ydCB7IGN0eCB9IGZyb20gXCIuL2dhbWUvY2FudmFzXCI7XG5pbXBvcnQgQ2FudmFzQm9hcmQgZnJvbSBcIi4vZ2FtZS9DYW52YXNCb2FyZFwiO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgY29uc3QgYm9hcmQgPSBuZXcgQ2FudmFzQm9hcmQoe1xuICAgIHdpZHRoOiBNYXRoLm1pbih3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0LCA1MDApLFxuICAgIHJvd0NvdW50OiA5LFxuICAgIGNvbENvdW50OiA5LFxuICB9KTtcblxuICBib2FyZC5vbkRyYWdFbmQoKGV2ZW50KSA9PiB7XG4gICAgYm9hcmQuc3dhcFRpbGUoZXZlbnQub3JpZ2luLCBldmVudC5kZXN0aW5hdGlvbik7XG4gICAgY29uc3Qgc2hhcGVzID0gYm9hcmQubWF0Y2hTaGFwZXMoKTtcbiAgICBpZiAoIXNoYXBlcy5sZW5ndGgpIGJvYXJkLnN3YXBUaWxlKGV2ZW50Lm9yaWdpbiwgZXZlbnQuZGVzdGluYXRpb24pO1xuICB9KTtcblxuICBnYW1lTG9vcChjdHgsIChfbG9vcENvdW50KSA9PiB7XG4gICAgYm9hcmQuZHJhdyhjdHgpO1xuICAgIGJvYXJkLnVwZGF0ZSgpO1xuICB9KTtcblxuICAod2luZG93IGFzIGFueSkuYm9hcmQgPSBib2FyZDtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==