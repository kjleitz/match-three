!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";function r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r="number"==typeof e[0]?e[0]:0,i="function"==typeof e[0]?e[0]:e[1],o=t<r?[t,r]:[r,t],a=o[0],s=o[1]-a,l=Array(s),c=0;c<s;c++)l[c]=i?i(c+a):c+a;return l}n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i}));var i=function(t,e){var n=t<e?[t,e]:[e,t],r=n[0],i=n[1]-r;return r+Math.random()*i}},function(t,e,n){"use strict";var r=function(t){if(void 0===t&&(t={}),this.type="",Object.assign(this,t),!this.type)throw new Error("Tiles must have a type.")};e.a=r},function(t,e,n){"use strict";var r=n(1),i=n(0),o=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},a=function(){function t(t){this.rowCount=10,this.colCount=10,this.tileTypes=["a","b","c","d"],this.tileClass=r.a,Object.assign(this,t),this.tileGenerator=t.tileGenerator,this.rows=this.newRows()}return Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows},set:function(t){if(!t.every((function(e){return t[0].length===e.length})))throw new Error("Rows must all be the same length");this._rows=t,delete this._columns,this.rowCount=t.length,this.colCount=t[0].length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns?this._columns:(this._columns=this.rows.reduce((function(t,e){return e.forEach((function(e,n){t[n]=o(t[n]||[],[e])})),t}),[]),this._columns)},set:function(t){if(!t.every((function(e){return t[0].length===e.length})))throw new Error("Columns must all be the same length");this.rows=t.reduce((function(t,e){return e.forEach((function(e,n){t[n]=o(t[n]||[],[e])})),t}),[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tiles",{get:function(){return this.rows.reduce((function(t,e){return o(t,e)}),[])},enumerable:!0,configurable:!0}),t.prototype.newRows=function(){var t=this;return Object(i.b)(this.rowCount,(function(){return Object(i.b)(t.colCount,(function(){return t.tileGenerator()}))}))},t}();e.a=a},,function(t,e,n){"use strict";n.r(e);var r=function(t,e,n){void 0===n&&(n=0),requestAnimationFrame((function(){return r(t,e,n+1)})),t.clearRect(0,0,window.innerWidth,window.innerHeight),e(n)},i=r,o=document.createElement("canvas"),a=function(){o.width=window.innerWidth,o.height=window.innerHeight};a(),window.addEventListener("resize",a),document.body.appendChild(o);var s=o.getContext("2d");s||console.error("Canvas '2d' context is not supported.");var l,c=n(2),u=n(1),h=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(e){var n=t.call(this,{type:e.colorIsType&&(e.type||e.color)||e.imgUrlIsType&&(e.type||e.imgUrl)||e.type})||this;return n.width=50,n.height=50,n.color="transparent",n.selected=!1,n.targeted=!1,n.matchedAt=null,n.blank=!1,n._imgUrl="",n.width=e.width||n.width,n.height=e.height||n.height,n.color=e.colorIsType&&e.type||e.color||n.color,n.blank=e.blank||n.blank,n._imgUrl=e.imgUrlIsType&&e.type||e.imgUrl||n._imgUrl,n.applySelectedStyle=e.applySelectedStyle||function(){},n.applyTargetedStyle=e.applyTargetedStyle||function(){},n.applyMatchedStyle=e.applyMatchedStyle||function(){},n}return h(e,t),Object.defineProperty(e.prototype,"matched",{get:function(){return!!this.matchedAt},set:function(t){this.matchedAt=t?this.matchedAt||new Date:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imgUrl",{get:function(){return this._imgUrl},set:function(t){this._imgUrl=t,delete this._image},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"image",{get:function(){if(this._image)return this.image;if(!this.imgUrl)return null;var t=document.createElement("img");return t.src=this.imgUrl,t.width=this.width,t.height=this.height,this._image=t,this._image},enumerable:!0,configurable:!0}),e.prototype.draw=function(t,e,n){this.blank||(t.fillStyle=this.color,this.image?t.drawImage(this.image,e,n):t.fillRect(e,n,this.width,this.height),this.matched?this.applyMatchedStyle(this,{x:e,y:n}):this.selected?this.applySelectedStyle(this,{x:e,y:n}):this.targeted&&this.applyTargetedStyle(this,{x:e,y:n}))},e}(u.a),f=n(0),d=new(function(){function t(){var t=this;this.x=0,this.y=0,this.pressed=!1,this.pressCallbacks=[],this.depressCallbacks=[],this.moveCallbacks=[],this.pressedStartPos={x:this.x,y:this.y},window.addEventListener("mousedown",(function(e){t.populateFromMouseEvent(e),t.pressCallbacks.forEach((function(e){return e(t)}))})),window.addEventListener("mousemove",(function(e){t.populateFromMouseEvent(e),t.moveCallbacks.forEach((function(e){return e(t)}))})),window.addEventListener("mouseup",(function(e){t.depressCallbacks.forEach((function(e){return e(t)})),t.populateFromMouseEvent(e)})),window.addEventListener("touchstart",(function(e){t.populateFromTouchEvent(e),t.pressCallbacks.forEach((function(e){return e(t)}))})),window.addEventListener("touchmove",(function(e){t.populateFromTouchEvent(e),t.moveCallbacks.forEach((function(e){return e(t)}))})),window.addEventListener("touchend",(function(e){t.depressCallbacks.forEach((function(e){return e(t)})),t.populateFromTouchEvent(e)}))}return Object.defineProperty(t.prototype,"dragVector",{get:function(){var t=this.pressedStartPos,e=t.x,n=t.y;return this.pressed?{x:this.x-e,y:this.y-n}:{x:0,y:0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dragDirection",{get:function(){var t=this.dragVector,e=t.x,n=t.y;return 0===e&&0===n?"none":Math.abs(e)>=Math.abs(n)?e<0?"left":"right":n<0?"up":"down"},enumerable:!0,configurable:!0}),t.prototype.onPress=function(t){this.pressCallbacks.push(t)},t.prototype.onDepress=function(t){this.depressCallbacks.push(t)},t.prototype.onMove=function(t){this.moveCallbacks.push(t)},t.prototype.populateFromMouseEvent=function(t){this.x=t.x,this.y=t.y;var e=this.pressed;this.pressed=1===t.buttons,this.pressed&&!e&&(this.pressedStartPos={x:this.x,y:this.y})},t.prototype.populateFromTouchEvent=function(t){var e=t.touches,n=this.pressed;if(0===e.length)this.pressed=!1;else{var r=e[0];this.x=r.clientX,this.y=r.clientY,this.pressed=!0,n||(this.pressedStartPos={x:this.x,y:this.y})}},t}());var g=function(){function t(t){void 0===t&&(t={}),this.value=t.value||1,this.extend=t.extend||!1,this.map=t.map||[[]]}return t.fromLength=function(e,n){var r=void 0===n?{}:n,i=r.value;return new t({value:void 0===i?1:i,extend:!!r.orMore,map:[Object(f.b)(e,(function(){return!0}))]})},Object.defineProperty(t.prototype,"extend",{get:function(){return this._extend&&this.linear},set:function(t){this._extend=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"map",{get:function(){return this._map},set:function(t){delete this._linear;var e=t.reduce((function(t,e){var n=e.length;return n>t?n:t}),0);this._map=t.map((function(t){return Object(f.b)(e,(function(e){return t[e]||!1}))}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"linear",{get:function(){return void 0!==this._linear?this._linear:(this._linear=1===this.map.length&&this.map[0].every((function(t){return t}))||this.map.every((function(t){return 1===t.length&&t[0]})),this._linear)},enumerable:!0,configurable:!0}),t.prototype.match=function(t,e,n,r){if(void 0===n&&(n=0),void 0===r&&(r=this.map),n>3)return[];var i,o=[],a=!1;return r.every((function(n,r){var s=t[r];return!!s&&n.every((function(t,n){if(!t)return!0;var r=s[n];if(!r)return!1;var l=r[e];return a||(i=l,a=!0),l===i&&(o.push(r),!0)}))}))?o:this.match(t,e,n+1,function(t){for(var e=[],n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++){var o=r[i];e[i]=e[i]||[],e[i].unshift(o)}return e}(r))},t}(),y=function(){return[g.fromLength(3,{value:1}),g.fromLength(4,{value:2}),g.fromLength(5,{value:3}),g.fromLength(6,{value:4,orMore:!0}),new g({value:5,map:[[!0,!0,!0],[!0],[!0]]}),new g({value:6,map:[[!0,!0,!0],[!1,!0],[!1,!0]]}),new g({value:7,map:[[!0,!0],[!0,!0]]})]},w=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(){return(v=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},m=function(){return{row:-1,col:-1,tile:null}},b=function(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))},S=function(t){function e(e){var n=t.call(this,v(v({},e),{tileTypes:e.tileTypes||["red","orange","yellow","green","blue"],tileGenerator:function(){return new p({type:this.tileTypes[Math.floor(Object(f.a)(0,this.tileTypes.length))],width:this.tileWidth,height:this.tileHeight,colorIsType:!0,applySelectedStyle:this.applySelectedStyle,applyTargetedStyle:this.applyTargetedStyle,applyMatchedStyle:this.applyMatchedStyle})}}))||this;n.dragStartCallbacks=[],n.dragEndCallbacks=[],n.dragCallbacks=[],n.dragOrigin=m(),n.x=e.x||0,n.y=e.y||0;var r=e.width||50*n.colCount;return n.width=r-r%n.colCount,n.height=e.height||n.width,n.sensitivity=e.sensitivity||25,n.shapes=e.shapes||y(),n.applySelectedStyle=e.applySelectedStyle||function(){},n.applyTargetedStyle=e.applyTargetedStyle||function(){},n.applyMatchedStyle=e.applyMatchedStyle||function(){},n.matchAnimationMs=e.matchAnimationMs||250,d.onPress(n.runDragStartCallbacks.bind(n)),d.onDepress(n.runDragEndCallbacks.bind(n)),d.onMove(n.runDragCallbacks.bind(n)),n.rows=n.newRows(),n}return w(e,t),Object.defineProperty(e.prototype,"tileWidth",{get:function(){return this.width/this.colCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tileHeight",{get:function(){return this.height/this.rowCount},enumerable:!0,configurable:!0}),e.prototype.draw=function(t){var e=this,n=this.checkSettle(),r=this.startedSettlingAt?(new Date).getTime()-this.startedSettlingAt.getTime():0,i=r/100*this.tileHeight,o=r>100;o&&delete this.startedSettlingAt;var a=[];this.rows.forEach((function(r,s){r.forEach((function(r,l){var c=e.x+l*r.width,u=e.y+s*r.height;if(n&&!r.blank){var h={row:s,col:l},p=e.adjacentTile(h,"down");p.tile&&p.tile.blank&&(u+=i,o&&a.push([h,p]))}r.draw(t,c,u)}))})),a.forEach((function(t){var n=t[0],r=t[1];return e.swapTile(n,r)}))},e.prototype.update=function(){var t=this;(this.rows[0]=this.rows[0].map((function(e){return e.blank?t.tileGenerator():e})),this.rows.slice(1).some((function(t){return t.some((function(t){return t.blank}))})))||this.matchShapes().forEach((function(e){e.shape;e.tiles.forEach((function(e){e.matched=!0,setTimeout((function(){e.blank=!0}),t.matchAnimationMs)}))}))},e.prototype.checkSettle=function(){return this.tiles.some((function(t){return t.blank}))?(this.startedSettlingAt||(this.startedSettlingAt=new Date),!0):(delete this.startedSettlingAt,!1)},e.prototype.tileAt=function(t){if("row"in t){var e=t.row,n=t.col,r=this.rows[e][n];return r?{row:e,col:n,tile:r}:m()}var i=t.x-this.x,o=t.y-this.y;if(i>this.width||o>this.height)return m();var a=i/this.width,s=o/this.height,l=Math.floor(s*this.rowCount),c=Math.floor(a*this.colCount);return{row:l,col:c,tile:this.rows[l][c]}},e.prototype.tileCenter=function(t){var e=t.row,n=t.col,r=t.tile;return r?{x:this.x+n*r.height+r.height/2,y:this.y+e*r.width+r.width/2}:{x:-1,y:-1}},e.prototype.swapTile=function(t,e){"string"==typeof e?this.swapTileInDirection(t,e):this.swapTileWithTile(t,e)},e.prototype.onDragStart=function(t){var e=this.dragStartCallbacks.length;return this.dragStartCallbacks.push(t),e},e.prototype.removeDragStartListener=function(t){delete this.dragStartCallbacks[t]},e.prototype.onDragEnd=function(t){var e=this.dragEndCallbacks.length;return this.dragEndCallbacks.push(t),e},e.prototype.removeDragEndListener=function(t){delete this.dragEndCallbacks[t]},e.prototype.onDrag=function(t){var e=this.dragCallbacks.length;return this.dragCallbacks.push(t),e},e.prototype.removeDragListener=function(t){delete this.dragCallbacks[t]},e.prototype.adjacentSpace=function(t,e){var n="row"in t?t:this.tileAt(t),r=n.row,i=n.col;switch(e){case"up":return{row:r-1,col:i};case"down":return{row:r+1,col:i};case"left":return{row:r,col:i-1};case"right":return{row:r,col:i+1};default:return{row:r,col:i}}},e.prototype.adjacentTile=function(t,e){var n=this.adjacentSpace(t,e),r=n.row,i=n.col,o=this.rows[r]&&this.rows[r][i];return o?{row:r,col:i,tile:o}:m()},e.prototype.removeTile=function(t){t.blank=!0},e.prototype.matchShapes=function(){var t=this;return Object(f.b)(this.colCount).reduce((function(e,n){return t.shapes.forEach((function(r){t.rows.forEach((function(i,o){var a=t.rows.slice(o).map((function(t){return t.slice(n)})),s=r.match(a,"type");s.length&&e.push({shape:r,tiles:s})}))})),e}),[])},e.prototype.swapTileWithTile=function(t,e){var n=this.tileAt(t);if(n.tile){var r=this.tileAt(e);r.tile&&(this.rows[r.row][r.col]=n.tile,this.rows[n.row][n.col]=r.tile)}},e.prototype.swapTileInDirection=function(t,e){var n=this.tileAt(t);if(n.tile){var r=this.adjacentTile(n,e);r.tile&&(this.rows[r.row][r.col]=n.tile,this.rows[n.row][n.col]=r.tile)}},e.prototype.clearExistingDragFlags=function(){this.tiles.forEach((function(t){t.selected=!1,t.targeted=!1}))},e.prototype.setDragStartFlags=function(t){this.clearExistingDragFlags(),t.tile.selected=!0,t.tile.targeted=!0},e.prototype.setDragEndFlags=function(){this.clearExistingDragFlags()},e.prototype.setDragFlags=function(t,e){this.clearExistingDragFlags(),t.tile.selected=!0,e.tile.targeted=!0},e.prototype.runDragStartCallbacks=function(t){var e=t.x,n=t.y,r=this.tileAt({x:e,y:n});if(r.tile){this.dragOrigin=r,this.setDragStartFlags(this.dragOrigin);var i=b(t,this.tileCenter(r)),o=t.dragDirection,a=r;this.dragStartCallbacks.forEach((function(s){s({x:e,y:n,distance:i,direction:o,origin:r,destination:a,mouse:t})}))}},e.prototype.runDragEndCallbacks=function(t){var e=this.dragOrigin;if(e.tile){var n=t.x,r=t.y,i=b(t,this.tileCenter(e)),o=i>this.sensitivity?this.adjacentTile(e,t.dragDirection):e,a=o.tile?o:e,s=t.dragDirection;this.setDragEndFlags(),this.dragEndCallbacks.forEach((function(o){o({x:n,y:r,distance:i,direction:s,origin:e,destination:a,mouse:t})})),this.dragOrigin=m()}},e.prototype.runDragCallbacks=function(t){var e=this.dragOrigin;if(e.tile){var n=t.x,r=t.y;if(t.pressed){var i=b(t,this.tileCenter(e)),o=i>this.sensitivity?this.adjacentTile(e,t.dragDirection):e,a=o.tile?o:e,s=t.dragDirection;this.setDragFlags(e,a),this.dragCallbacks.forEach((function(o){o({x:n,y:r,distance:i,direction:s,origin:e,destination:a,mouse:t})}))}}},e}(c.a);window.defaultShapes=y;var C=function(t,e){var n=e.x,r=e.y,i=t.width,o=t.height;s.fillStyle="rgba(255, 255, 255, 0.5)",s.fillRect(n,r,i,o)},E=function(t,e){var n=e.x,r=e.y,i=t.width,o=t.height,a=(new Date).getTime(),l=2+3*Math.sin(a/250%Math.PI);s.fillStyle="rgba(255, 255, 255, 0.9)",s.fillRect(n,r,i,o),s.fillStyle=t.color,s.fillRect(n+l,r+l,i-2*l,o-2*l)},x=function(t,e){var n=e.x,r=e.y,i=t.width,o=t.height,a=t.color;if(t.matchedAt){var l=(new Date).getTime()-t.matchedAt.getTime(),c=l>250?1:l/250,u=c*(i/2),h=c*(o/2);s.fillStyle="#FFF",s.fillRect(n,r,i,o),s.fillStyle=a,s.fillRect(n+u,r+h,i-2*u,o-2*h)}};window.addEventListener("DOMContentLoaded",(function(){var t=new S({width:Math.min(window.innerWidth,window.innerHeight,500),rowCount:10,colCount:10,matchAnimationMs:250,applySelectedStyle:C,applyTargetedStyle:E,applyMatchedStyle:x});t.onDragEnd((function(e){t.swapTile(e.origin,e.destination),t.matchShapes().length||t.swapTile(e.origin,e.destination)})),i(s,(function(e){t.draw(s),t.update()})),window.board=t}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdGllcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGlsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQm9hcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvZ2FtZUxvb3AudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvY2FudmFzLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lL0NhbnZhc1RpbGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvbW91c2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NoYXBlLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lL0NhbnZhc0JvYXJkLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwicmFuZ2UiLCJtaW4iLCJtYXgiLCJtYXhBbmRPck1hcHBlciIsIm1hcHBlciIsInJlYWxNaW4iLCJkaWZmIiwibGlzdCIsIkFycmF5IiwicmFuZCIsIk1hdGgiLCJyYW5kb20iLCJvcHRzIiwidHlwZSIsImFzc2lnbiIsInRoaXMiLCJFcnJvciIsInJvd0NvdW50IiwiY29sQ291bnQiLCJ0aWxlVHlwZXMiLCJ0aWxlQ2xhc3MiLCJ0aWxlR2VuZXJhdG9yIiwicm93cyIsIm5ld1Jvd3MiLCJfcm93cyIsImV2ZXJ5Iiwicm93IiwibGVuZ3RoIiwiX2NvbHVtbnMiLCJyZWR1Y2UiLCJjb2x1bW5zIiwiZm9yRWFjaCIsInRpbGUiLCJpbmRleCIsImNvbHVtbiIsInRpbGVzIiwiZ2FtZUxvb3AiLCJkcmF3IiwibG9vcENvdW50IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2xlYXJSZWN0Iiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3RyZXRjaENhbnZhcyIsIndpZHRoIiwiaGVpZ2h0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImN0eCIsImdldENvbnRleHQiLCJjb25zb2xlIiwiZXJyb3IiLCJjb2xvcklzVHlwZSIsImNvbG9yIiwiaW1nVXJsSXNUeXBlIiwiaW1nVXJsIiwic2VsZWN0ZWQiLCJ0YXJnZXRlZCIsIm1hdGNoZWRBdCIsImJsYW5rIiwiX2ltZ1VybCIsImFwcGx5U2VsZWN0ZWRTdHlsZSIsImFwcGx5VGFyZ2V0ZWRTdHlsZSIsImFwcGx5TWF0Y2hlZFN0eWxlIiwibWF0Y2hlZCIsIkRhdGUiLCJfaW1hZ2UiLCJpbWFnZSIsInNyYyIsIngiLCJ5IiwiZmlsbFN0eWxlIiwiZHJhd0ltYWdlIiwiZmlsbFJlY3QiLCJUaWxlIiwicHJlc3NlZCIsInByZXNzQ2FsbGJhY2tzIiwiZGVwcmVzc0NhbGxiYWNrcyIsIm1vdmVDYWxsYmFja3MiLCJwcmVzc2VkU3RhcnRQb3MiLCJldmVudCIsInBvcHVsYXRlRnJvbU1vdXNlRXZlbnQiLCJjYWxsYmFjayIsInBvcHVsYXRlRnJvbVRvdWNoRXZlbnQiLCJhYnMiLCJvblByZXNzIiwicHVzaCIsIm9uRGVwcmVzcyIsIm9uTW92ZSIsImFscmVhZHlQcmVzc2VkIiwiYnV0dG9ucyIsInRvdWNoZXMiLCJ0b3VjaCIsImNsaWVudFgiLCJjbGllbnRZIiwiZXh0ZW5kIiwibWFwIiwiZnJvbUxlbmd0aCIsIlNoYXBlIiwib3JNb3JlIiwiX2V4dGVuZCIsImxpbmVhciIsIl9tYXAiLCJfbGluZWFyIiwicm93TGVuZ3RoIiwic3BhY2UiLCJtYXRjaCIsImdyaWQiLCJmaWVsZCIsInJvdGF0aW9uIiwic2hhcGVNYXAiLCJtYXRjaFZhbHVlIiwibWF0Y2hWYWx1ZVNldCIsIm1hdGNoZXJSb3ciLCJyb3dJbmRleCIsImdyaWRSb3ciLCJtdXN0TWF0Y2giLCJjb2xJbmRleCIsImdyaWRJdGVtIiwiZ3JpZFZhbHVlIiwibmV3R3JpZCIsIml0ZW0iLCJ1bnNoaWZ0Iiwicm90YXRlIiwiZGVmYXVsdFNoYXBlcyIsImJsYW5rQ2FudmFzVGlsZUluZm8iLCJjb2wiLCJkaXN0YW5jZUJldHdlZW4iLCJvcmlnaW4iLCJkZXN0aW5hdGlvbiIsImR4IiwiZHkiLCJzcXJ0IiwiZmxvb3IiLCJ0aWxlV2lkdGgiLCJ0aWxlSGVpZ2h0IiwiZHJhZ1N0YXJ0Q2FsbGJhY2tzIiwiZHJhZ0VuZENhbGxiYWNrcyIsImRyYWdDYWxsYmFja3MiLCJkcmFnT3JpZ2luIiwicmF3V2lkdGgiLCJzZW5zaXRpdml0eSIsInNoYXBlcyIsIm1hdGNoQW5pbWF0aW9uTXMiLCJydW5EcmFnU3RhcnRDYWxsYmFja3MiLCJydW5EcmFnRW5kQ2FsbGJhY2tzIiwicnVuRHJhZ0NhbGxiYWNrcyIsInNldHRsaW5nIiwiY2hlY2tTZXR0bGUiLCJtc1NpbmNlU2V0dGxlIiwic3RhcnRlZFNldHRsaW5nQXQiLCJnZXRUaW1lIiwiaXRzU3dhcFRpbWVCcnVoIiwidGlsZXNUb1N3YXAiLCJ0aWxlSW5kZXgiLCJwb3NpdGlvbiIsImJlbG93IiwiYWRqYWNlbnRUaWxlIiwic3dhcFRpbGUiLCJ1cGRhdGUiLCJzbGljZSIsInNvbWUiLCJtYXRjaFNoYXBlcyIsInNoYXBlIiwic2V0VGltZW91dCIsInRpbGVBdCIsInBvcyIsImZyYWN0aW9uWCIsImZyYWN0aW9uWSIsInRpbGVDZW50ZXIiLCJ0aWxlSW5mbyIsImZyb20iLCJ0byIsInN3YXBUaWxlSW5EaXJlY3Rpb24iLCJzd2FwVGlsZVdpdGhUaWxlIiwib25EcmFnU3RhcnQiLCJyZW1vdmVEcmFnU3RhcnRMaXN0ZW5lciIsImlkIiwib25EcmFnRW5kIiwicmVtb3ZlRHJhZ0VuZExpc3RlbmVyIiwib25EcmFnIiwicmVtb3ZlRHJhZ0xpc3RlbmVyIiwiYWRqYWNlbnRTcGFjZSIsImRpcmVjdGlvbiIsInJlbW92ZVRpbGUiLCJtZW1vIiwiX3JvdyIsImNsZWFyRXhpc3RpbmdEcmFnRmxhZ3MiLCJzZXREcmFnU3RhcnRGbGFncyIsInNldERyYWdFbmRGbGFncyIsInNldERyYWdGbGFncyIsIm1vdXNlIiwiZGlzdGFuY2UiLCJkcmFnRGlyZWN0aW9uIiwibW92ZVRvIiwiQm9hcmQiLCJtaWxsaXMiLCJzdHJva2VXaWR0aCIsInNpbiIsIlBJIiwibXNTaW5jZU1hdGNoIiwicGVyY2VudERvbmUiLCJob3Jpem9udGFsIiwidmVydGljYWwiLCJib2FyZCIsIl9sb29wQ291bnQiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9B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QUFld0ssTUFBUUEiLCJmaWxlIjoiZ2FtZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA0KTtcbiIsImV4cG9ydCBmdW5jdGlvbiByYW5nZTxUPihtaW46IG51bWJlciwgLi4ubWF4QW5kT3JNYXBwZXI6IFtdKTogbnVtYmVyW107XG5leHBvcnQgZnVuY3Rpb24gcmFuZ2U8VD4obWluOiBudW1iZXIsIC4uLm1heEFuZE9yTWFwcGVyOiBbbnVtYmVyXSk6IG51bWJlcltdO1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlPFQ+KG1pbjogbnVtYmVyLCAuLi5tYXhBbmRPck1hcHBlcjogWyhuOiBudW1iZXIpID0+IFRdKTogVFtdO1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlPFQ+KG1pbjogbnVtYmVyLCAuLi5tYXhBbmRPck1hcHBlcjogW251bWJlciwgKG46IG51bWJlcikgPT4gVF0pOiBUW107XG5leHBvcnQgZnVuY3Rpb24gcmFuZ2U8VD4obWluOiBudW1iZXIsIC4uLm1heEFuZE9yTWFwcGVyOiBbXXxbbnVtYmVyfCgobjogbnVtYmVyKSA9PiBUKV18W251bWJlciwgKG46IG51bWJlcikgPT4gVF0pOiAobnVtYmVyfFQpW10ge1xuICBjb25zdCBtYXggPSB0eXBlb2YgbWF4QW5kT3JNYXBwZXJbMF0gPT09ICdudW1iZXInID8gbWF4QW5kT3JNYXBwZXJbMF0gOiAwO1xuICBjb25zdCBtYXBwZXIgPSB0eXBlb2YgbWF4QW5kT3JNYXBwZXJbMF0gPT09ICdmdW5jdGlvbicgPyBtYXhBbmRPck1hcHBlclswXSA6IG1heEFuZE9yTWFwcGVyWzFdO1xuICBjb25zdCBbcmVhbE1pbiwgcmVhbE1heF0gPSBtaW4gPCBtYXggPyBbbWluLCBtYXhdIDogW21heCwgbWluXTtcbiAgY29uc3QgZGlmZiA9IHJlYWxNYXggLSByZWFsTWluO1xuICBjb25zdCBsaXN0ID0gQXJyYXkoZGlmZik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGlmZjsgaSsrKSBsaXN0W2ldID0gbWFwcGVyID8gbWFwcGVyKGkgKyByZWFsTWluKSA6IGkgKyByZWFsTWluO1xuICByZXR1cm4gbGlzdDtcbn1cblxuZXhwb3J0IGNvbnN0IHJhbmQgPSAobWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgY29uc3QgW3JlYWxNaW4sIHJlYWxNYXhdID0gbWluIDwgbWF4ID8gW21pbiwgbWF4XSA6IFttYXgsIG1pbl07XG4gIGNvbnN0IGRpZmYgPSByZWFsTWF4IC0gcmVhbE1pbjtcbiAgcmV0dXJuIHJlYWxNaW4gKyAoTWF0aC5yYW5kb20oKSAqIGRpZmYpO1xufTtcblxuZXhwb3J0IGNvbnN0IGRhbXBlbiA9IChudW06IG51bWJlciwgYnk6IG51bWJlciwgY2VudGVyID0gMCk6IG51bWJlciA9PiB7XG4gIC8vIG51bWJlciBpcyBhbHJlYWR5IGF0IHRoZSBjZW50ZXJcbiAgaWYgKG51bSA9PT0gY2VudGVyKSByZXR1cm4gY2VudGVyO1xuXG4gIC8vIG51bWJlciBpcyBoaWdoZXIgdGhhbiB0aGUgY2VudGVyOyBzdWJ0cmFjdCBhbmQgZG9uJ3Qgb3ZlcnNob290IHRoZSBjZW50ZXJcbiAgaWYgKG51bSA+IGNlbnRlcikge1xuICAgIGNvbnN0IG5ld051bSA9IG51bSAtIGJ5O1xuICAgIHJldHVybiBuZXdOdW0gPCBjZW50ZXIgPyBjZW50ZXIgOiBuZXdOdW07XG4gIH1cblxuICAvLyBudW1iZXIgaXMgbG93ZXIgdGhhbiB0aGUgY2VudGVyOyBhZGQgYW5kIGRvbid0IG92ZXJzaG9vdCB0aGUgY2VudGVyXG4gIGNvbnN0IG5ld051bSA9IG51bSArIGJ5O1xuICByZXR1cm4gbmV3TnVtID4gY2VudGVyID8gY2VudGVyIDogbmV3TnVtO1xufTtcblxuZXhwb3J0IGNvbnN0IGJvdW5kID0gKG51bTogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICBjb25zdCBbcmVhbE1pbiwgcmVhbE1heF0gPSBtaW4gPCBtYXggPyBbbWluLCBtYXhdIDogW21heCwgbWluXTtcbiAgaWYgKG51bSA8IHJlYWxNaW4pIHJldHVybiByZWFsTWluO1xuICBpZiAobnVtID4gcmVhbE1heCkgcmV0dXJuIHJlYWxNYXg7XG4gIHJldHVybiBudW07XG59O1xuXG5leHBvcnQgY29uc3QgYmV0d2VlbiA9IChudW06IG51bWJlciwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyLCBpbmNsdXNpdmUgPSB0cnVlKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IFtyZWFsTWluLCByZWFsTWF4XSA9IG1pbiA8IG1heCA/IFttaW4sIG1heF0gOiBbbWF4LCBtaW5dO1xuICByZXR1cm4gaW5jbHVzaXZlID8gKG51bSA+PSByZWFsTWluICYmIG51bSA8PSByZWFsTWF4KSA6IChudW0gPiByZWFsTWluICYmIG51bSA8IHJlYWxNYXgpO1xufTtcblxuZXhwb3J0IGNvbnN0IGRpZmZlcmVuY2UgPSAobjogbnVtYmVyLCBtOiBudW1iZXIpOiBudW1iZXIgPT4gTWF0aC5hYnMobiAtIG0pO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsZSB7XG4gIHB1YmxpYyB0eXBlID0gJyc7XG5cbiAgY29uc3RydWN0b3Iob3B0czogUGFydGlhbDxUaWxlPiA9IHt9KSB7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRzKTtcbiAgICBpZiAoIXRoaXMudHlwZSkgdGhyb3cgbmV3IEVycm9yKCdUaWxlcyBtdXN0IGhhdmUgYSB0eXBlLicpO1xuICB9XG59XG4iLCJpbXBvcnQgVGlsZSBmcm9tIFwiLi9UaWxlXCI7XG5pbXBvcnQgeyByYW5nZSB9IGZyb20gXCIuL3V0aWxpdGllc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCb2FyZDxUaWxlQ2xhc3MgPSBUaWxlPiB7XG4gIHB1YmxpYyByb3dDb3VudCA9IDEwO1xuICBwdWJsaWMgY29sQ291bnQgPSAxMDtcbiAgcHVibGljIHRpbGVUeXBlcyA9IFsnYScsICdiJywgJ2MnLCAnZCddO1xuICBwdWJsaWMgdGlsZUNsYXNzID0gVGlsZTtcbiAgcHVibGljIHRpbGVHZW5lcmF0b3I6ICgpID0+IFRpbGVDbGFzcztcbiAgcHJpdmF0ZSBfcm93cyE6IFRpbGVDbGFzc1tdW107XG4gIHByaXZhdGUgX2NvbHVtbnM/OiBUaWxlQ2xhc3NbXVtdO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHsgdGlsZUdlbmVyYXRvcjogKCkgPT4gVGlsZUNsYXNzIH0gJiBQYXJ0aWFsPEJvYXJkPikge1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0cyk7XG4gICAgdGhpcy50aWxlR2VuZXJhdG9yID0gb3B0cy50aWxlR2VuZXJhdG9yO1xuICAgIHRoaXMucm93cyA9IHRoaXMubmV3Um93cygpO1xuICB9XG5cbiAgc2V0IHJvd3Mocm93czogVGlsZUNsYXNzW11bXSkge1xuICAgIGlmICghcm93cy5ldmVyeShyb3cgPT4gcm93c1swXS5sZW5ndGggPT09IHJvdy5sZW5ndGgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jvd3MgbXVzdCBhbGwgYmUgdGhlIHNhbWUgbGVuZ3RoJyk7XG4gICAgfVxuICAgIHRoaXMuX3Jvd3MgPSByb3dzO1xuICAgIGRlbGV0ZSB0aGlzLl9jb2x1bW5zO1xuICAgIHRoaXMucm93Q291bnQgPSByb3dzLmxlbmd0aDtcbiAgICB0aGlzLmNvbENvdW50ID0gcm93c1swXS5sZW5ndGg7XG4gIH1cblxuICBnZXQgcm93cygpOiBUaWxlQ2xhc3NbXVtdIHtcbiAgICByZXR1cm4gdGhpcy5fcm93cztcbiAgfVxuXG4gIHNldCBjb2x1bW5zKGNvbHVtbnM6IFRpbGVDbGFzc1tdW10pIHtcbiAgICBpZiAoIWNvbHVtbnMuZXZlcnkoY29sdW1uID0+IGNvbHVtbnNbMF0ubGVuZ3RoID09PSBjb2x1bW4ubGVuZ3RoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb2x1bW5zIG11c3QgYWxsIGJlIHRoZSBzYW1lIGxlbmd0aCcpO1xuICAgIH1cblxuICAgIHRoaXMucm93cyA9IGNvbHVtbnMucmVkdWNlKChyb3dzLCBjb2x1bW4pID0+IHtcbiAgICAgIGNvbHVtbi5mb3JFYWNoKCh0aWxlLCBpbmRleCkgPT4ge1xuICAgICAgICByb3dzW2luZGV4XSA9IFsuLi4ocm93c1tpbmRleF0gfHwgW10pLCB0aWxlXTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJvd3M7XG4gICAgfSwgW10gYXMgVGlsZUNsYXNzW11bXSk7XG4gIH1cblxuICBnZXQgY29sdW1ucygpOiBUaWxlQ2xhc3NbXVtdIHtcbiAgICBpZiAodGhpcy5fY29sdW1ucykgcmV0dXJuIHRoaXMuX2NvbHVtbnM7XG5cbiAgICB0aGlzLl9jb2x1bW5zID0gdGhpcy5yb3dzLnJlZHVjZSgoY29sdW1ucywgcm93KSA9PiB7XG4gICAgICByb3cuZm9yRWFjaCgodGlsZSwgaW5kZXgpID0+IHtcbiAgICAgICAgY29sdW1uc1tpbmRleF0gPSBbLi4uKGNvbHVtbnNbaW5kZXhdIHx8IFtdKSwgdGlsZV07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjb2x1bW5zO1xuICAgIH0sIFtdIGFzIFRpbGVDbGFzc1tdW10pO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NvbHVtbnM7XG4gIH1cblxuICBnZXQgdGlsZXMoKTogVGlsZUNsYXNzW10ge1xuICAgIHJldHVybiB0aGlzLnJvd3MucmVkdWNlKCh0aWxlcywgcm93KSA9PiBbLi4udGlsZXMsIC4uLnJvd10sIFtdKTtcbiAgfVxuXG4gIG5ld1Jvd3MoKTogVGlsZUNsYXNzW11bXSB7XG4gICAgcmV0dXJuIHJhbmdlKHRoaXMucm93Q291bnQsICgpID0+IHtcbiAgICAgIHJldHVybiByYW5nZSh0aGlzLmNvbENvdW50LCAoKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbGVHZW5lcmF0b3IoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJjb25zdCBnYW1lTG9vcCA9IChjOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGRyYXc6IChsb29wQ291bnQ6IG51bWJlcikgPT4gdm9pZCwgbG9vcENvdW50ID0gMCk6IHZvaWQgPT4ge1xuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gZ2FtZUxvb3AoYywgZHJhdywgbG9vcENvdW50ICsgMSkpO1xuICBjLmNsZWFyUmVjdCgwLCAwLCB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgZHJhdyhsb29wQ291bnQpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2FtZUxvb3A7XG4iLCJjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuY29uc3Qgc3RyZXRjaENhbnZhcyA9ICgpOiB2b2lkID0+IHtcbiAgY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gIGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG59O1xuXG5zdHJldGNoQ2FudmFzKCk7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc3RyZXRjaENhbnZhcyk7XG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNhbnZhcyk7XG5cbmNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpITtcbmlmICghY3R4KSBjb25zb2xlLmVycm9yKFwiQ2FudmFzICcyZCcgY29udGV4dCBpcyBub3Qgc3VwcG9ydGVkLlwiKTtcblxuZXhwb3J0IHsgY3R4IH07XG5leHBvcnQgZGVmYXVsdCBjYW52YXM7XG4iLCJpbXBvcnQgVGlsZSBmcm9tIFwiLi4vVGlsZVwiO1xuaW1wb3J0IHsgQ29vcmRQb3NpdGlvbiB9IGZyb20gXCIuL0NhbnZhc0JvYXJkXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbnZhc1RpbGUgZXh0ZW5kcyBUaWxlIHtcbiAgcHVibGljIHdpZHRoID0gNTA7XG4gIHB1YmxpYyBoZWlnaHQgPSA1MDtcbiAgcHVibGljIGNvbG9yID0gJ3RyYW5zcGFyZW50JztcbiAgcHVibGljIHNlbGVjdGVkID0gZmFsc2U7XG4gIHB1YmxpYyB0YXJnZXRlZCA9IGZhbHNlO1xuICBwdWJsaWMgbWF0Y2hlZEF0ID0gbnVsbCBhcyBEYXRlfG51bGw7XG4gIHB1YmxpYyBibGFuayA9IGZhbHNlO1xuICBwdWJsaWMgYXBwbHlTZWxlY3RlZFN0eWxlOiAodGlsZTogQ2FudmFzVGlsZSwgcG9zOiBDb29yZFBvc2l0aW9uKSA9PiB2b2lkO1xuICBwdWJsaWMgYXBwbHlUYXJnZXRlZFN0eWxlOiAodGlsZTogQ2FudmFzVGlsZSwgcG9zOiBDb29yZFBvc2l0aW9uKSA9PiB2b2lkO1xuICBwdWJsaWMgYXBwbHlNYXRjaGVkU3R5bGU6ICh0aWxlOiBDYW52YXNUaWxlLCBwb3M6IENvb3JkUG9zaXRpb24pID0+IHZvaWQ7XG4gIHByaXZhdGUgX2ltZ1VybCA9ICcnO1xuICBwcml2YXRlIF9pbWFnZT86IEhUTUxJbWFnZUVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czogUGFydGlhbDxUaWxlPiAmIHtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgY29sb3I/OiBzdHJpbmc7XG4gICAgaW1nVXJsPzogc3RyaW5nO1xuICAgIHdpZHRoPzogbnVtYmVyO1xuICAgIGhlaWdodD86IG51bWJlcjtcbiAgICBjb2xvcklzVHlwZT86IGJvb2xlYW47XG4gICAgaW1nVXJsSXNUeXBlPzogYm9vbGVhbjtcbiAgICBibGFuaz86IGJvb2xlYW47XG4gICAgYXBwbHlTZWxlY3RlZFN0eWxlPzogQ2FudmFzVGlsZVsnYXBwbHlTZWxlY3RlZFN0eWxlJ107XG4gICAgYXBwbHlUYXJnZXRlZFN0eWxlPzogQ2FudmFzVGlsZVsnYXBwbHlUYXJnZXRlZFN0eWxlJ107XG4gICAgYXBwbHlNYXRjaGVkU3R5bGU/OiBDYW52YXNUaWxlWydhcHBseU1hdGNoZWRTdHlsZSddO1xuICB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgdHlwZTogKG9wdHMuY29sb3JJc1R5cGUgJiYgKG9wdHMudHlwZSB8fCBvcHRzLmNvbG9yKSlcbiAgICAgICAgfHwgKG9wdHMuaW1nVXJsSXNUeXBlICYmIChvcHRzLnR5cGUgfHwgb3B0cy5pbWdVcmwpKVxuICAgICAgICB8fCBvcHRzLnR5cGVcbiAgICB9KTtcblxuICAgIHRoaXMud2lkdGggPSBvcHRzLndpZHRoIHx8IHRoaXMud2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBvcHRzLmhlaWdodCB8fCB0aGlzLmhlaWdodDtcbiAgICB0aGlzLmNvbG9yID0gKG9wdHMuY29sb3JJc1R5cGUgJiYgb3B0cy50eXBlKSB8fCBvcHRzLmNvbG9yIHx8IHRoaXMuY29sb3I7XG4gICAgdGhpcy5ibGFuayA9IG9wdHMuYmxhbmsgfHwgdGhpcy5ibGFuaztcbiAgICB0aGlzLl9pbWdVcmwgPSAob3B0cy5pbWdVcmxJc1R5cGUgJiYgb3B0cy50eXBlKSB8fCBvcHRzLmltZ1VybCB8fCB0aGlzLl9pbWdVcmw7XG4gICAgdGhpcy5hcHBseVNlbGVjdGVkU3R5bGUgPSBvcHRzLmFwcGx5U2VsZWN0ZWRTdHlsZSB8fCAoKCkgPT4ge30pO1xuICAgIHRoaXMuYXBwbHlUYXJnZXRlZFN0eWxlID0gb3B0cy5hcHBseVRhcmdldGVkU3R5bGUgfHwgKCgpID0+IHt9KTtcbiAgICB0aGlzLmFwcGx5TWF0Y2hlZFN0eWxlID0gb3B0cy5hcHBseU1hdGNoZWRTdHlsZSB8fCAoKCkgPT4ge30pO1xuICB9XG5cbiAgZ2V0IG1hdGNoZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhdGhpcy5tYXRjaGVkQXQ7XG4gIH1cblxuICBzZXQgbWF0Y2hlZChtYXRjaGVkOiBib29sZWFuKSB7XG4gICAgdGhpcy5tYXRjaGVkQXQgPSBtYXRjaGVkID8gKHRoaXMubWF0Y2hlZEF0IHx8IG5ldyBEYXRlKCkpIDogbnVsbDtcbiAgfVxuXG4gIGdldCBpbWdVcmwoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5faW1nVXJsO1xuICB9XG5cbiAgc2V0IGltZ1VybChpbWdVcmw6IHN0cmluZykge1xuICAgIHRoaXMuX2ltZ1VybCA9IGltZ1VybDtcbiAgICBkZWxldGUgdGhpcy5faW1hZ2U7XG4gIH1cblxuICBnZXQgaW1hZ2UoKTogbnVsbHxIVE1MSW1hZ2VFbGVtZW50IHtcbiAgICBpZiAodGhpcy5faW1hZ2UpIHJldHVybiB0aGlzLmltYWdlO1xuICAgIGlmICghdGhpcy5pbWdVcmwpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBpbWFnZS5zcmMgPSB0aGlzLmltZ1VybDtcbiAgICBpbWFnZS53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgaW1hZ2UuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgdGhpcy5faW1hZ2UgPSBpbWFnZTtcblxuICAgIHJldHVybiB0aGlzLl9pbWFnZTtcbiAgfVxuXG4gIGRyYXcoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHg6IG51bWJlciwgeTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuYmxhbmspIHJldHVybjtcblxuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgIGlmICh0aGlzLmltYWdlKSB7XG4gICAgICBjdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIHgsIHkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdHguZmlsbFJlY3QoeCwgeSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm1hdGNoZWQpIHtcbiAgICAgIHRoaXMuYXBwbHlNYXRjaGVkU3R5bGUodGhpcywgeyB4LCB5IH0pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RlZCkge1xuICAgICAgdGhpcy5hcHBseVNlbGVjdGVkU3R5bGUodGhpcywgeyB4LCB5IH0pO1xuICAgIH0gZWxzZSBpZiAodGhpcy50YXJnZXRlZCkge1xuICAgICAgdGhpcy5hcHBseVRhcmdldGVkU3R5bGUodGhpcywgeyB4LCB5IH0pO1xuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIE1vdXNlIHtcbiAgcHVibGljIHggPSAwO1xuICBwdWJsaWMgeSA9IDA7XG4gIHB1YmxpYyBwcmVzc2VkID0gZmFsc2U7XG4gIHB1YmxpYyBwcmVzc2VkU3RhcnRQb3M6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfTtcbiAgcHVibGljIHByZXNzQ2FsbGJhY2tzOiAoKG1vdXNlOiBNb3VzZSkgPT4gdm9pZClbXSA9IFtdO1xuICBwdWJsaWMgZGVwcmVzc0NhbGxiYWNrczogKChtb3VzZTogTW91c2UpID0+IHZvaWQpW10gPSBbXTtcbiAgcHVibGljIG1vdmVDYWxsYmFja3M6ICgobW91c2U6IE1vdXNlKSA9PiB2b2lkKVtdID0gW107XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5wcmVzc2VkU3RhcnRQb3MgPSB7IHg6IHRoaXMueCwgeTogdGhpcy55IH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLnBvcHVsYXRlRnJvbU1vdXNlRXZlbnQoZXZlbnQpO1xuICAgICAgdGhpcy5wcmVzc0NhbGxiYWNrcy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKHRoaXMpKTtcbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLnBvcHVsYXRlRnJvbU1vdXNlRXZlbnQoZXZlbnQpO1xuICAgICAgdGhpcy5tb3ZlQ2FsbGJhY2tzLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2sodGhpcykpO1xuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLmRlcHJlc3NDYWxsYmFja3MuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayh0aGlzKSk7IC8vIHdlIHdhbnQgdGhpcyBvbmUgdG8gaGFwcGVuIGJlZm9yZSB0aGUgcmVzZXRcbiAgICAgIHRoaXMucG9wdWxhdGVGcm9tTW91c2VFdmVudChldmVudCk7XG4gICAgfSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5wb3B1bGF0ZUZyb21Ub3VjaEV2ZW50KGV2ZW50KTtcbiAgICAgIHRoaXMucHJlc3NDYWxsYmFja3MuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayh0aGlzKSk7XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5wb3B1bGF0ZUZyb21Ub3VjaEV2ZW50KGV2ZW50KTtcbiAgICAgIHRoaXMubW92ZUNhbGxiYWNrcy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKHRoaXMpKTtcbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuZGVwcmVzc0NhbGxiYWNrcy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKHRoaXMpKTsgLy8gd2Ugd2FudCB0aGlzIG9uZSB0byBoYXBwZW4gYmVmb3JlIHRoZSByZXNldFxuICAgICAgdGhpcy5wb3B1bGF0ZUZyb21Ub3VjaEV2ZW50KGV2ZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldCBkcmFnVmVjdG9yKCk6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSB7XG4gICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzLnByZXNzZWRTdGFydFBvcztcbiAgICByZXR1cm4gdGhpcy5wcmVzc2VkID8geyB4OiB0aGlzLnggLSB4LCB5OiB0aGlzLnkgLSB5IH0gOiB7IHg6IDAsIHk6IDAgfTtcbiAgfVxuXG4gIGdldCBkcmFnRGlyZWN0aW9uKCk6ICdub25lJ3wndXAnfCdkb3duJ3wnbGVmdCd8J3JpZ2h0JyB7XG4gICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzLmRyYWdWZWN0b3I7XG4gICAgaWYgKHggPT09IDAgJiYgeSA9PT0gMCkgcmV0dXJuICdub25lJztcblxuICAgIGlmIChNYXRoLmFicyh4KSA+PSBNYXRoLmFicyh5KSkge1xuICAgICAgcmV0dXJuIHggPCAwID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHkgPCAwID8gJ3VwJyA6ICdkb3duJztcbiAgICB9XG4gIH1cblxuICBvblByZXNzKGNhbGxiYWNrOiAobW91c2U6IE1vdXNlKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5wcmVzc0NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgfVxuXG4gIG9uRGVwcmVzcyhjYWxsYmFjazogKG1vdXNlOiBNb3VzZSkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMuZGVwcmVzc0NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgfVxuXG4gIG9uTW92ZShjYWxsYmFjazogKG1vdXNlOiBNb3VzZSkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMubW92ZUNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgfVxuXG4gIHBvcHVsYXRlRnJvbU1vdXNlRXZlbnQoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICB0aGlzLnggPSBldmVudC54O1xuICAgIHRoaXMueSA9IGV2ZW50Lnk7XG4gICAgY29uc3QgYWxyZWFkeVByZXNzZWQgPSB0aGlzLnByZXNzZWQ7XG4gICAgdGhpcy5wcmVzc2VkID0gZXZlbnQuYnV0dG9ucyA9PT0gMTtcbiAgICBpZiAodGhpcy5wcmVzc2VkICYmICFhbHJlYWR5UHJlc3NlZCkge1xuICAgICAgdGhpcy5wcmVzc2VkU3RhcnRQb3MgPSB7IHg6IHRoaXMueCwgeTogdGhpcy55IH07XG4gICAgfVxuICB9XG5cbiAgcG9wdWxhdGVGcm9tVG91Y2hFdmVudChldmVudDogVG91Y2hFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IHsgdG91Y2hlcyB9ID0gZXZlbnQ7XG4gICAgY29uc3QgYWxyZWFkeVByZXNzZWQgPSB0aGlzLnByZXNzZWQ7XG4gICAgaWYgKHRvdWNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdG91Y2ggPSB0b3VjaGVzWzBdO1xuICAgICAgdGhpcy54ID0gdG91Y2guY2xpZW50WDtcbiAgICAgIHRoaXMueSA9IHRvdWNoLmNsaWVudFk7XG4gICAgICB0aGlzLnByZXNzZWQgPSB0cnVlO1xuICAgICAgaWYgKCFhbHJlYWR5UHJlc3NlZCkgdGhpcy5wcmVzc2VkU3RhcnRQb3MgPSB7IHg6IHRoaXMueCwgeTogdGhpcy55IH07XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IG1vdXNlID0gbmV3IE1vdXNlKCk7XG5cbmV4cG9ydCBkZWZhdWx0IG1vdXNlO1xuIiwiaW1wb3J0IHsgcmFuZ2UgfSBmcm9tIFwiLi91dGlsaXRpZXNcIjtcblxuZXhwb3J0IHR5cGUgU2hhcGVNYXAgPSBib29sZWFuW11bXTtcblxuZnVuY3Rpb24gcm90YXRlPFQ+KGdyaWQ6IFRbXVtdKTogVFtdW10ge1xuICBjb25zdCBuZXdHcmlkID0gW10gYXMgVFtdW107XG4gIGZvciAobGV0IHJvd0luZGV4ID0gMDsgcm93SW5kZXggPCBncmlkLmxlbmd0aDsgcm93SW5kZXgrKykge1xuICAgIGNvbnN0IHJvdyA9IGdyaWRbcm93SW5kZXhdO1xuICAgIGZvciAobGV0IGNvbEluZGV4ID0gMDsgY29sSW5kZXggPCByb3cubGVuZ3RoOyBjb2xJbmRleCsrKSB7XG4gICAgICBjb25zdCBpdGVtID0gcm93W2NvbEluZGV4XTtcbiAgICAgIG5ld0dyaWRbY29sSW5kZXhdID0gbmV3R3JpZFtjb2xJbmRleF0gfHwgW107XG4gICAgICBuZXdHcmlkW2NvbEluZGV4XS51bnNoaWZ0KGl0ZW0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3R3JpZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hhcGUge1xuICBwdWJsaWMgdmFsdWU6IG51bWJlcjtcbiAgcHJpdmF0ZSBfbWFwITogU2hhcGVNYXA7XG4gIHByaXZhdGUgX2V4dGVuZCE6IGJvb2xlYW47XG4gIHByaXZhdGUgX2xpbmVhciE6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3Iob3B0czogUGFydGlhbDxTaGFwZT4gPSB7fSkge1xuICAgIHRoaXMudmFsdWUgPSBvcHRzLnZhbHVlIHx8IDE7XG4gICAgdGhpcy5leHRlbmQgPSBvcHRzLmV4dGVuZCB8fCBmYWxzZTtcbiAgICB0aGlzLm1hcCA9IG9wdHMubWFwIHx8IFtbXV07XG4gIH1cblxuICBzdGF0aWMgZnJvbUxlbmd0aChsZW5ndGg6IG51bWJlciwgeyB2YWx1ZSA9IDEsIG9yTW9yZSB9OiB7IHZhbHVlPzogbnVtYmVyOyBvck1vcmU/OiBib29sZWFuIH0gPSB7fSk6IFNoYXBlIHtcbiAgICByZXR1cm4gbmV3IFNoYXBlKHtcbiAgICAgIHZhbHVlLFxuICAgICAgZXh0ZW5kOiAhIW9yTW9yZSxcbiAgICAgIG1hcDogW3JhbmdlKGxlbmd0aCwgKCkgPT4gdHJ1ZSldLFxuICAgIH0pO1xuICB9XG5cbiAgZ2V0IGV4dGVuZCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuX2V4dGVuZCAmJiB0aGlzLmxpbmVhciB9XG4gIHNldCBleHRlbmQoZXh0ZW5kOiBib29sZWFuKSB7IHRoaXMuX2V4dGVuZCA9IGV4dGVuZCB9XG5cbiAgZ2V0IG1hcCgpOiBTaGFwZU1hcCB7IHJldHVybiB0aGlzLl9tYXAgfVxuICBzZXQgbWFwKG1hcDogU2hhcGVNYXApIHtcbiAgICBkZWxldGUgdGhpcy5fbGluZWFyO1xuICAgIGNvbnN0IHJvd0xlbmd0aCA9IG1hcC5yZWR1Y2UoKG1heCwgeyBsZW5ndGggfSkgPT4gKGxlbmd0aCA+IG1heCA/IGxlbmd0aCA6IG1heCksIDApO1xuICAgIHRoaXMuX21hcCA9IG1hcC5tYXAoKHJvdykgPT4gcmFuZ2Uocm93TGVuZ3RoLCBpID0+IChyb3dbaV0gfHwgZmFsc2UpKSk7XG4gIH1cblxuICBnZXQgbGluZWFyKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0eXBlb2YgdGhpcy5fbGluZWFyICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIHRoaXMuX2xpbmVhcjtcblxuICAgIHRoaXMuX2xpbmVhciA9ICh0aGlzLm1hcC5sZW5ndGggPT09IDEgJiYgdGhpcy5tYXBbMF0uZXZlcnkoc3BhY2UgPT4gc3BhY2UpKVxuICAgICAgfHwgdGhpcy5tYXAuZXZlcnkocm93ID0+IChyb3cubGVuZ3RoID09PSAxICYmIHJvd1swXSkpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2xpbmVhcjtcbiAgfVxuXG4gIG1hdGNoPE8gZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+PihncmlkOiBPW11bXSwgZmllbGQ6IGtleW9mIE8sIHJvdGF0aW9uID0gMCwgc2hhcGVNYXAgPSB0aGlzLm1hcCk6IE9bXSB7XG4gICAgaWYgKHJvdGF0aW9uID4gMykgcmV0dXJuIFtdO1xuXG4gICAgY29uc3QgbWF0Y2hlZCA9IFtdIGFzIE9bXTtcbiAgICBsZXQgbWF0Y2hWYWx1ZVNldCA9IGZhbHNlO1xuICAgIGxldCBtYXRjaFZhbHVlOiBPW2tleW9mIE9dO1xuXG4gICAgY29uc3QgYWxsTWF0Y2hlZCA9IHNoYXBlTWFwLmV2ZXJ5KChtYXRjaGVyUm93LCByb3dJbmRleCkgPT4ge1xuICAgICAgY29uc3QgZ3JpZFJvdyA9IGdyaWRbcm93SW5kZXhdO1xuICAgICAgaWYgKCFncmlkUm93KSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIHJldHVybiBtYXRjaGVyUm93LmV2ZXJ5KChtdXN0TWF0Y2gsIGNvbEluZGV4KSA9PiB7XG4gICAgICAgIGlmICghbXVzdE1hdGNoKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgICBjb25zdCBncmlkSXRlbSA9IGdyaWRSb3dbY29sSW5kZXhdO1xuICAgICAgICBpZiAoIWdyaWRJdGVtKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgZ3JpZFZhbHVlID0gZ3JpZEl0ZW1bZmllbGRdO1xuICAgICAgICBpZiAoIW1hdGNoVmFsdWVTZXQpIHtcbiAgICAgICAgICBtYXRjaFZhbHVlID0gZ3JpZFZhbHVlO1xuICAgICAgICAgIG1hdGNoVmFsdWVTZXQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdyaWRWYWx1ZSAhPT0gbWF0Y2hWYWx1ZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIG1hdGNoZWQucHVzaChncmlkSXRlbSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYWxsTWF0Y2hlZCA/IG1hdGNoZWQgOiB0aGlzLm1hdGNoKGdyaWQsIGZpZWxkLCByb3RhdGlvbiArIDEsIHJvdGF0ZShzaGFwZU1hcCkpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0U2hhcGVzID0gKCk6IFNoYXBlW10gPT4gW1xuICBTaGFwZS5mcm9tTGVuZ3RoKDMsIHsgdmFsdWU6IDEgfSksXG4gIFNoYXBlLmZyb21MZW5ndGgoNCwgeyB2YWx1ZTogMiB9KSxcbiAgU2hhcGUuZnJvbUxlbmd0aCg1LCB7IHZhbHVlOiAzIH0pLFxuICBTaGFwZS5mcm9tTGVuZ3RoKDYsIHsgdmFsdWU6IDQsIG9yTW9yZTogdHJ1ZSB9KSxcbiAgbmV3IFNoYXBlKHtcbiAgICB2YWx1ZTogNSxcbiAgICBtYXA6IFtcbiAgICAgIFt0cnVlLCB0cnVlLCB0cnVlXSxcbiAgICAgIFt0cnVlXSxcbiAgICAgIFt0cnVlXSxcbiAgICBdLFxuICB9KSxcbiAgbmV3IFNoYXBlKHtcbiAgICB2YWx1ZTogNixcbiAgICBtYXA6IFtcbiAgICAgIFt0cnVlLCB0cnVlLCB0cnVlXSxcbiAgICAgIFtmYWxzZSwgdHJ1ZV0sXG4gICAgICBbZmFsc2UsIHRydWVdLFxuICAgIF0sXG4gIH0pLFxuICBuZXcgU2hhcGUoe1xuICAgIHZhbHVlOiA3LFxuICAgIG1hcDogW1xuICAgICAgW3RydWUsIHRydWVdLFxuICAgICAgW3RydWUsIHRydWVdLFxuICAgIF0sXG4gIH0pLFxuXTtcbiIsImltcG9ydCBCb2FyZCBmcm9tIFwiLi4vQm9hcmRcIjtcbmltcG9ydCBDYW52YXNUaWxlIGZyb20gXCIuL0NhbnZhc1RpbGVcIjtcbmltcG9ydCB7IHJhbmQsIHJhbmdlIH0gZnJvbSBcIi4uL3V0aWxpdGllc1wiO1xuaW1wb3J0IG1vdXNlLCB7IE1vdXNlIH0gZnJvbSBcIi4vbW91c2VcIjtcbmltcG9ydCBTaGFwZSwgeyBkZWZhdWx0U2hhcGVzIH0gZnJvbSBcIi4uL1NoYXBlXCI7XG5cbmV4cG9ydCB0eXBlIFN3YXBEaXJlY3Rpb24gPSAnbm9uZSd8J3VwJ3wnZG93bid8J2xlZnQnfCdyaWdodCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJlc2VudENhbnZhc1RpbGVJbmZvIHtcbiAgcm93OiBudW1iZXI7XG4gIGNvbDogbnVtYmVyO1xuICB0aWxlOiBDYW52YXNUaWxlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJsYW5rQ2FudmFzVGlsZUluZm8ge1xuICByb3c6IC0xO1xuICBjb2w6IC0xO1xuICB0aWxlOiBudWxsO1xufVxuXG5leHBvcnQgdHlwZSBDYW52YXNUaWxlSW5mbyA9IFByZXNlbnRDYW52YXNUaWxlSW5mbyB8IEJsYW5rQ2FudmFzVGlsZUluZm87XG5cbmV4cG9ydCBpbnRlcmZhY2UgQm9hcmREcmFnRXZlbnQge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgZGlzdGFuY2U6IG51bWJlcjtcbiAgZGlyZWN0aW9uOiBTd2FwRGlyZWN0aW9uO1xuICBvcmlnaW46IFByZXNlbnRDYW52YXNUaWxlSW5mbztcbiAgZGVzdGluYXRpb246IFByZXNlbnRDYW52YXNUaWxlSW5mbztcbiAgbW91c2U6IE1vdXNlO1xufVxuXG5leHBvcnQgdHlwZSBCb2FyZERyYWdFdmVudENhbGxiYWNrID0gKGV2ZW50OiBCb2FyZERyYWdFdmVudCkgPT4gdm9pZDtcblxuZXhwb3J0IGludGVyZmFjZSBDb29yZFBvc2l0aW9uIHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JpZFBvc2l0aW9uIHtcbiAgcm93OiBudW1iZXI7XG4gIGNvbDogbnVtYmVyO1xufVxuXG5jb25zdCBibGFua0NhbnZhc1RpbGVJbmZvID0gKCk6IEJsYW5rQ2FudmFzVGlsZUluZm8gPT4gKHsgcm93OiAtMSwgY29sOiAtMSwgdGlsZTogbnVsbCB9KTtcblxuY29uc3QgZGlzdGFuY2VCZXR3ZWVuID0gKG9yaWdpbjogQ29vcmRQb3NpdGlvbiwgZGVzdGluYXRpb246IENvb3JkUG9zaXRpb24pOiBudW1iZXIgPT4ge1xuICBjb25zdCBkeCA9IGRlc3RpbmF0aW9uLnggLSBvcmlnaW4ueDtcbiAgY29uc3QgZHkgPSBkZXN0aW5hdGlvbi55IC0gb3JpZ2luLnk7XG4gIHJldHVybiBNYXRoLnNxcnQoKGR4ICoqIDIpICsgKGR5ICoqIDIpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbnZhc0JvYXJkIGV4dGVuZHMgQm9hcmQ8Q2FudmFzVGlsZT4ge1xuICBwdWJsaWMgeDogbnVtYmVyO1xuICBwdWJsaWMgeTogbnVtYmVyO1xuICBwdWJsaWMgd2lkdGg6IG51bWJlcjtcbiAgcHVibGljIGhlaWdodDogbnVtYmVyO1xuICBwdWJsaWMgc2Vuc2l0aXZpdHk6IG51bWJlcjtcbiAgcHVibGljIGRyYWdTdGFydENhbGxiYWNrczogQm9hcmREcmFnRXZlbnRDYWxsYmFja1tdID0gW107XG4gIHB1YmxpYyBkcmFnRW5kQ2FsbGJhY2tzOiBCb2FyZERyYWdFdmVudENhbGxiYWNrW10gPSBbXTtcbiAgcHVibGljIGRyYWdDYWxsYmFja3M6IEJvYXJkRHJhZ0V2ZW50Q2FsbGJhY2tbXSA9IFtdO1xuICBwdWJsaWMgc2hhcGVzOiBTaGFwZVtdO1xuICBwdWJsaWMgYXBwbHlTZWxlY3RlZFN0eWxlOiBDYW52YXNUaWxlWydhcHBseVNlbGVjdGVkU3R5bGUnXTtcbiAgcHVibGljIGFwcGx5VGFyZ2V0ZWRTdHlsZTogQ2FudmFzVGlsZVsnYXBwbHlUYXJnZXRlZFN0eWxlJ107XG4gIHB1YmxpYyBhcHBseU1hdGNoZWRTdHlsZTogQ2FudmFzVGlsZVsnYXBwbHlNYXRjaGVkU3R5bGUnXTtcbiAgcHVibGljIG1hdGNoQW5pbWF0aW9uTXM6IG51bWJlcjtcbiAgcHJpdmF0ZSBkcmFnT3JpZ2luOiBDYW52YXNUaWxlSW5mbyA9IGJsYW5rQ2FudmFzVGlsZUluZm8oKTtcbiAgcHJpdmF0ZSBzdGFydGVkU2V0dGxpbmdBdD86IERhdGU7XG5cbiAgY29uc3RydWN0b3Iob3B0czogUGFydGlhbDxDYW52YXNCb2FyZD4pIHtcbiAgICBzdXBlcih7XG4gICAgICAuLi5vcHRzLFxuICAgICAgdGlsZVR5cGVzOiBvcHRzLnRpbGVUeXBlcyB8fCBbJ3JlZCcsICdvcmFuZ2UnLCAneWVsbG93JywgJ2dyZWVuJywgJ2JsdWUnXSxcbiAgICAgIHRpbGVHZW5lcmF0b3IoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2FudmFzVGlsZSh7XG4gICAgICAgICAgdHlwZTogdGhpcy50aWxlVHlwZXNbTWF0aC5mbG9vcihyYW5kKDAsIHRoaXMudGlsZVR5cGVzLmxlbmd0aCkpXSxcbiAgICAgICAgICB3aWR0aDogdGhpcy50aWxlV2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiB0aGlzLnRpbGVIZWlnaHQsXG4gICAgICAgICAgY29sb3JJc1R5cGU6IHRydWUsXG4gICAgICAgICAgYXBwbHlTZWxlY3RlZFN0eWxlOiB0aGlzLmFwcGx5U2VsZWN0ZWRTdHlsZSxcbiAgICAgICAgICBhcHBseVRhcmdldGVkU3R5bGU6IHRoaXMuYXBwbHlUYXJnZXRlZFN0eWxlLFxuICAgICAgICAgIGFwcGx5TWF0Y2hlZFN0eWxlOiB0aGlzLmFwcGx5TWF0Y2hlZFN0eWxlLFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLnggPSBvcHRzLnggfHwgMDtcbiAgICB0aGlzLnkgPSBvcHRzLnkgfHwgMDtcbiAgICBjb25zdCByYXdXaWR0aCA9IG9wdHMud2lkdGggfHwgdGhpcy5jb2xDb3VudCAqIDUwO1xuICAgIHRoaXMud2lkdGggPSByYXdXaWR0aCAtIChyYXdXaWR0aCAlIHRoaXMuY29sQ291bnQpO1xuICAgIHRoaXMuaGVpZ2h0ID0gb3B0cy5oZWlnaHQgfHwgdGhpcy53aWR0aDtcbiAgICB0aGlzLnNlbnNpdGl2aXR5ID0gb3B0cy5zZW5zaXRpdml0eSB8fCAyNTtcbiAgICB0aGlzLnNoYXBlcyA9IG9wdHMuc2hhcGVzIHx8IGRlZmF1bHRTaGFwZXMoKTtcbiAgICB0aGlzLmFwcGx5U2VsZWN0ZWRTdHlsZSA9IG9wdHMuYXBwbHlTZWxlY3RlZFN0eWxlIHx8ICgoKSA9PiB7fSk7XG4gICAgdGhpcy5hcHBseVRhcmdldGVkU3R5bGUgPSBvcHRzLmFwcGx5VGFyZ2V0ZWRTdHlsZSB8fCAoKCkgPT4ge30pO1xuICAgIHRoaXMuYXBwbHlNYXRjaGVkU3R5bGUgPSBvcHRzLmFwcGx5TWF0Y2hlZFN0eWxlIHx8ICgoKSA9PiB7fSk7XG4gICAgdGhpcy5tYXRjaEFuaW1hdGlvbk1zID0gb3B0cy5tYXRjaEFuaW1hdGlvbk1zIHx8IDI1MDtcblxuICAgIG1vdXNlLm9uUHJlc3ModGhpcy5ydW5EcmFnU3RhcnRDYWxsYmFja3MuYmluZCh0aGlzKSk7XG4gICAgbW91c2Uub25EZXByZXNzKHRoaXMucnVuRHJhZ0VuZENhbGxiYWNrcy5iaW5kKHRoaXMpKTtcbiAgICBtb3VzZS5vbk1vdmUodGhpcy5ydW5EcmFnQ2FsbGJhY2tzLmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5yb3dzID0gdGhpcy5uZXdSb3dzKCk7XG4gIH1cblxuICBnZXQgdGlsZVdpZHRoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMud2lkdGggLyB0aGlzLmNvbENvdW50O1xuICB9XG5cbiAgZ2V0IHRpbGVIZWlnaHQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5oZWlnaHQgLyB0aGlzLnJvd0NvdW50O1xuICB9XG5cbiAgZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIGNvbnN0IHNldHRsaW5nID0gdGhpcy5jaGVja1NldHRsZSgpO1xuICAgIGNvbnN0IG1zU2luY2VTZXR0bGUgPSB0aGlzLnN0YXJ0ZWRTZXR0bGluZ0F0ID8gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLnN0YXJ0ZWRTZXR0bGluZ0F0LmdldFRpbWUoKSA6IDA7XG4gICAgY29uc3QgZmFsbFRpbWVNcyA9IDEwMDtcbiAgICBjb25zdCBkeSA9IChtc1NpbmNlU2V0dGxlIC8gZmFsbFRpbWVNcykgKiB0aGlzLnRpbGVIZWlnaHQ7XG4gICAgY29uc3QgaXRzU3dhcFRpbWVCcnVoID0gbXNTaW5jZVNldHRsZSA+IGZhbGxUaW1lTXM7XG4gICAgaWYgKGl0c1N3YXBUaW1lQnJ1aCkgZGVsZXRlIHRoaXMuc3RhcnRlZFNldHRsaW5nQXQ7XG5cbiAgICBjb25zdCB0aWxlc1RvU3dhcCA9IFtdIGFzIFtHcmlkUG9zaXRpb24sIEdyaWRQb3NpdGlvbl1bXTtcbiAgICB0aGlzLnJvd3MuZm9yRWFjaCgocm93LCByb3dJbmRleCkgPT4ge1xuICAgICAgcm93LmZvckVhY2goKHRpbGUsIHRpbGVJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB4ID0gdGhpcy54ICsgKHRpbGVJbmRleCAqIHRpbGUud2lkdGgpO1xuICAgICAgICBsZXQgeSA9IHRoaXMueSArIChyb3dJbmRleCAqIHRpbGUuaGVpZ2h0KTtcbiAgICAgICAgaWYgKHNldHRsaW5nICYmICF0aWxlLmJsYW5rKSB7XG4gICAgICAgICAgY29uc3QgcG9zaXRpb24gPSB7IHJvdzogcm93SW5kZXgsIGNvbDogdGlsZUluZGV4IH07XG4gICAgICAgICAgY29uc3QgYmVsb3cgPSB0aGlzLmFkamFjZW50VGlsZShwb3NpdGlvbiwgJ2Rvd24nKTtcbiAgICAgICAgICBpZiAoYmVsb3cudGlsZSAmJiBiZWxvdy50aWxlLmJsYW5rKSB7XG4gICAgICAgICAgICB5ICs9IGR5O1xuICAgICAgICAgICAgaWYgKGl0c1N3YXBUaW1lQnJ1aCkgdGlsZXNUb1N3YXAucHVzaChbcG9zaXRpb24sIGJlbG93XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRpbGUuZHJhdyhjdHgsIHgsIHkpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0aWxlc1RvU3dhcC5mb3JFYWNoKChbb3JpZ2luLCBiZWxvd10pID0+IHRoaXMuc3dhcFRpbGUob3JpZ2luLCBiZWxvdykpO1xuICB9XG5cbiAgdXBkYXRlKCk6IHZvaWQge1xuICAgIHRoaXMucm93c1swXSA9IHRoaXMucm93c1swXS5tYXAodGlsZSA9PiAodGlsZS5ibGFuayA/IHRoaXMudGlsZUdlbmVyYXRvcigpIDogdGlsZSkpO1xuICAgIGNvbnN0IHN0aWxsR29ubmFTZXR0bGUgPSB0aGlzLnJvd3Muc2xpY2UoMSkuc29tZSgocm93KSA9PiByb3cuc29tZSh0aWxlID0+IHRpbGUuYmxhbmspKTtcbiAgICBpZiAoc3RpbGxHb25uYVNldHRsZSkgcmV0dXJuO1xuXG4gICAgY29uc3QgbWF0Y2hlZFNoYXBlcyA9IHRoaXMubWF0Y2hTaGFwZXMoKTtcbiAgICBtYXRjaGVkU2hhcGVzLmZvckVhY2goKHsgc2hhcGUsIHRpbGVzIH0pID0+IHtcbiAgICAgIHRpbGVzLmZvckVhY2godGlsZSA9PiB7XG4gICAgICAgIHRpbGUubWF0Y2hlZCA9IHRydWU7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRpbGUuYmxhbmsgPSB0cnVlO1xuICAgICAgICB9LCB0aGlzLm1hdGNoQW5pbWF0aW9uTXMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBjaGVja1NldHRsZSgpOiBib29sZWFuIHtcbiAgICBjb25zdCBzZXR0bGluZyA9IHRoaXMudGlsZXMuc29tZSh0aWxlID0+IHRpbGUuYmxhbmspO1xuXG4gICAgaWYgKHNldHRsaW5nKSB7XG4gICAgICBpZiAoIXRoaXMuc3RhcnRlZFNldHRsaW5nQXQpIHRoaXMuc3RhcnRlZFNldHRsaW5nQXQgPSBuZXcgRGF0ZSgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZGVsZXRlIHRoaXMuc3RhcnRlZFNldHRsaW5nQXQ7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdGlsZUF0KHBvczogQ29vcmRQb3NpdGlvbnxHcmlkUG9zaXRpb24pOiBDYW52YXNUaWxlSW5mbyB7XG4gICAgaWYgKCdyb3cnIGluIHBvcykge1xuICAgICAgY29uc3QgeyByb3csIGNvbCB9ID0gcG9zO1xuICAgICAgY29uc3QgdGlsZSA9IHRoaXMucm93c1tyb3ddW2NvbF07XG4gICAgICByZXR1cm4gdGlsZSA/IHsgcm93LCBjb2wsIHRpbGUgfSA6IGJsYW5rQ2FudmFzVGlsZUluZm8oKTtcbiAgICB9XG5cbiAgICBjb25zdCB4ID0gcG9zLnggLSB0aGlzLng7XG4gICAgY29uc3QgeSA9IHBvcy55IC0gdGhpcy55O1xuICAgIGlmICh4ID4gdGhpcy53aWR0aCB8fCB5ID4gdGhpcy5oZWlnaHQpIHJldHVybiBibGFua0NhbnZhc1RpbGVJbmZvKCk7XG5cbiAgICBjb25zdCBmcmFjdGlvblggPSB4IC8gdGhpcy53aWR0aDtcbiAgICBjb25zdCBmcmFjdGlvblkgPSB5IC8gdGhpcy5oZWlnaHQ7XG4gICAgY29uc3Qgcm93ID0gTWF0aC5mbG9vcihmcmFjdGlvblkgKiB0aGlzLnJvd0NvdW50KTtcbiAgICBjb25zdCBjb2wgPSBNYXRoLmZsb29yKGZyYWN0aW9uWCAqIHRoaXMuY29sQ291bnQpO1xuICAgIGNvbnN0IHRpbGUgPSB0aGlzLnJvd3Nbcm93XVtjb2xdO1xuICAgIHJldHVybiB7IHJvdywgY29sLCB0aWxlIH07XG4gIH1cblxuICB0aWxlQ2VudGVyKHRpbGVJbmZvOiBDYW52YXNUaWxlSW5mbyk6IENvb3JkUG9zaXRpb24ge1xuICAgIGNvbnN0IHsgcm93LCBjb2wsIHRpbGUgfSA9IHRpbGVJbmZvO1xuICAgIGlmICghdGlsZSkgcmV0dXJuIHsgeDogLTEsIHk6IC0xIH07XG5cbiAgICBjb25zdCB4ID0gdGhpcy54ICsgKGNvbCAqIHRpbGUuaGVpZ2h0KSArICh0aWxlLmhlaWdodCAvIDIpO1xuICAgIGNvbnN0IHkgPSB0aGlzLnkgKyAocm93ICogdGlsZS53aWR0aCkgKyAodGlsZS53aWR0aCAvIDIpO1xuICAgIHJldHVybiB7IHgsIHkgfTtcbiAgfVxuXG4gIHN3YXBUaWxlKGZyb206IENvb3JkUG9zaXRpb258R3JpZFBvc2l0aW9uLCB0bzogU3dhcERpcmVjdGlvbnxDb29yZFBvc2l0aW9ufEdyaWRQb3NpdGlvbik6IHZvaWQge1xuICAgIGlmICh0eXBlb2YgdG8gPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLnN3YXBUaWxlSW5EaXJlY3Rpb24oZnJvbSwgdG8pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN3YXBUaWxlV2l0aFRpbGUoZnJvbSwgdG8pO1xuICAgIH1cbiAgfVxuXG4gIG9uRHJhZ1N0YXJ0KGNhbGxiYWNrOiAoZXZlbnQ6IEJvYXJkRHJhZ0V2ZW50KSA9PiB2b2lkKTogbnVtYmVyIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuZHJhZ1N0YXJ0Q2FsbGJhY2tzLmxlbmd0aDtcbiAgICB0aGlzLmRyYWdTdGFydENhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICByZW1vdmVEcmFnU3RhcnRMaXN0ZW5lcihpZDogbnVtYmVyKTogdm9pZCB7XG4gICAgZGVsZXRlIHRoaXMuZHJhZ1N0YXJ0Q2FsbGJhY2tzW2lkXTtcbiAgfVxuXG4gIG9uRHJhZ0VuZChjYWxsYmFjazogKGV2ZW50OiBCb2FyZERyYWdFdmVudCkgPT4gdm9pZCk6IG51bWJlciB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmRyYWdFbmRDYWxsYmFja3MubGVuZ3RoO1xuICAgIHRoaXMuZHJhZ0VuZENhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICByZW1vdmVEcmFnRW5kTGlzdGVuZXIoaWQ6IG51bWJlcik6IHZvaWQge1xuICAgIGRlbGV0ZSB0aGlzLmRyYWdFbmRDYWxsYmFja3NbaWRdO1xuICB9XG5cbiAgb25EcmFnKGNhbGxiYWNrOiAoZXZlbnQ6IEJvYXJkRHJhZ0V2ZW50KSA9PiB2b2lkKTogbnVtYmVyIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuZHJhZ0NhbGxiYWNrcy5sZW5ndGg7XG4gICAgdGhpcy5kcmFnQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIHJlbW92ZURyYWdMaXN0ZW5lcihpZDogbnVtYmVyKTogdm9pZCB7XG4gICAgZGVsZXRlIHRoaXMuZHJhZ0NhbGxiYWNrc1tpZF07XG4gIH1cblxuICBhZGphY2VudFNwYWNlKG9yaWdpbjogQ29vcmRQb3NpdGlvbnxHcmlkUG9zaXRpb24sIGRpcmVjdGlvbjogU3dhcERpcmVjdGlvbik6IEdyaWRQb3NpdGlvbiB7XG4gICAgY29uc3QgeyByb3csIGNvbCB9ID0gJ3JvdycgaW4gb3JpZ2luID8gb3JpZ2luIDogdGhpcy50aWxlQXQob3JpZ2luKTtcbiAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICAgICAgY2FzZSAndXAnOiByZXR1cm4geyByb3c6IHJvdyAtIDEsIGNvbCB9O1xuICAgICAgY2FzZSAnZG93bic6IHJldHVybiB7IHJvdzogcm93ICsgMSwgY29sIH07XG4gICAgICBjYXNlICdsZWZ0JzogcmV0dXJuIHsgcm93LCBjb2w6IGNvbCAtIDEgfTtcbiAgICAgIGNhc2UgJ3JpZ2h0JzogcmV0dXJuIHsgcm93LCBjb2w6IGNvbCArIDEgfTtcbiAgICAgIGRlZmF1bHQ6IHJldHVybiB7IHJvdywgY29sIH07XG4gICAgfVxuICB9XG5cbiAgYWRqYWNlbnRUaWxlKG9yaWdpbjogQ2FudmFzVGlsZUluZm98Q29vcmRQb3NpdGlvbnxHcmlkUG9zaXRpb24sIGRpcmVjdGlvbjogU3dhcERpcmVjdGlvbik6IENhbnZhc1RpbGVJbmZvIHtcbiAgICBjb25zdCB7IHJvdywgY29sIH0gPSB0aGlzLmFkamFjZW50U3BhY2Uob3JpZ2luLCBkaXJlY3Rpb24pO1xuICAgIGNvbnN0IHRpbGUgPSB0aGlzLnJvd3Nbcm93XSAmJiB0aGlzLnJvd3Nbcm93XVtjb2xdO1xuICAgIHJldHVybiB0aWxlID8geyByb3csIGNvbCwgdGlsZSB9IDogYmxhbmtDYW52YXNUaWxlSW5mbygpO1xuICB9XG5cbiAgcmVtb3ZlVGlsZSh0aWxlOiBDYW52YXNUaWxlKTogdm9pZCB7XG4gICAgdGlsZS5ibGFuayA9IHRydWU7XG4gIH1cblxuICBtYXRjaFNoYXBlcygpOiB7IHNoYXBlOiBTaGFwZTsgdGlsZXM6IENhbnZhc1RpbGVbXSB9W10ge1xuICAgIHJldHVybiByYW5nZSh0aGlzLmNvbENvdW50KS5yZWR1Y2UoKG1lbW8sIGNvbEluZGV4KSA9PiB7XG4gICAgICB0aGlzLnNoYXBlcy5mb3JFYWNoKChzaGFwZSkgPT4ge1xuICAgICAgICB0aGlzLnJvd3MuZm9yRWFjaCgoX3Jvdywgcm93SW5kZXgpID0+IHtcbiAgICAgICAgICBjb25zdCBuZXdHcmlkID0gdGhpcy5yb3dzLnNsaWNlKHJvd0luZGV4KS5tYXAocm93ID0+IHJvdy5zbGljZShjb2xJbmRleCkpO1xuICAgICAgICAgIGNvbnN0IHRpbGVzID0gc2hhcGUubWF0Y2gobmV3R3JpZCwgJ3R5cGUnKTtcbiAgICAgICAgICBpZiAodGlsZXMubGVuZ3RoKSBtZW1vLnB1c2goeyBzaGFwZSwgdGlsZXMgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9LCBbXSBhcyB7IHNoYXBlOiBTaGFwZTsgdGlsZXM6IENhbnZhc1RpbGVbXSB9W10pO1xuICB9XG5cbiAgcHJpdmF0ZSBzd2FwVGlsZVdpdGhUaWxlKGZyb206IENvb3JkUG9zaXRpb258R3JpZFBvc2l0aW9uLCB0bzogQ29vcmRQb3NpdGlvbnxHcmlkUG9zaXRpb24pOiB2b2lkIHtcbiAgICBjb25zdCBvcmlnaW4gPSB0aGlzLnRpbGVBdChmcm9tKTtcbiAgICBpZiAoIW9yaWdpbi50aWxlKSByZXR1cm47XG5cbiAgICBjb25zdCBkZXN0aW5hdGlvbiA9IHRoaXMudGlsZUF0KHRvKTtcbiAgICBpZiAoIWRlc3RpbmF0aW9uLnRpbGUpIHJldHVybjtcblxuICAgIHRoaXMucm93c1tkZXN0aW5hdGlvbi5yb3ddW2Rlc3RpbmF0aW9uLmNvbF0gPSBvcmlnaW4udGlsZTtcbiAgICB0aGlzLnJvd3Nbb3JpZ2luLnJvd11bb3JpZ2luLmNvbF0gPSBkZXN0aW5hdGlvbi50aWxlO1xuICB9XG5cbiAgcHJpdmF0ZSBzd2FwVGlsZUluRGlyZWN0aW9uKGZyb206IENvb3JkUG9zaXRpb258R3JpZFBvc2l0aW9uLCBkaXJlY3Rpb246IFN3YXBEaXJlY3Rpb24pOiB2b2lkIHtcbiAgICBjb25zdCBvcmlnaW4gPSB0aGlzLnRpbGVBdChmcm9tKTtcbiAgICBpZiAoIW9yaWdpbi50aWxlKSByZXR1cm47XG5cbiAgICBjb25zdCBkZXN0aW5hdGlvbiA9IHRoaXMuYWRqYWNlbnRUaWxlKG9yaWdpbiwgZGlyZWN0aW9uKTtcbiAgICBpZiAoIWRlc3RpbmF0aW9uLnRpbGUpIHJldHVybjtcblxuICAgIHRoaXMucm93c1tkZXN0aW5hdGlvbi5yb3ddW2Rlc3RpbmF0aW9uLmNvbF0gPSBvcmlnaW4udGlsZTtcbiAgICB0aGlzLnJvd3Nbb3JpZ2luLnJvd11bb3JpZ2luLmNvbF0gPSBkZXN0aW5hdGlvbi50aWxlO1xuICB9XG5cbiAgcHJpdmF0ZSBjbGVhckV4aXN0aW5nRHJhZ0ZsYWdzKCk6IHZvaWQge1xuICAgIHRoaXMudGlsZXMuZm9yRWFjaCgodGlsZSkgPT4ge1xuICAgICAgdGlsZS5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgdGlsZS50YXJnZXRlZCA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXREcmFnU3RhcnRGbGFncyh0aWxlSW5mbzogUHJlc2VudENhbnZhc1RpbGVJbmZvKTogdm9pZCB7XG4gICAgdGhpcy5jbGVhckV4aXN0aW5nRHJhZ0ZsYWdzKCk7XG4gICAgdGlsZUluZm8udGlsZS5zZWxlY3RlZCA9IHRydWU7XG4gICAgdGlsZUluZm8udGlsZS50YXJnZXRlZCA9IHRydWU7XG4gIH1cblxuICBwcml2YXRlIHNldERyYWdFbmRGbGFncygpOiB2b2lkIHtcbiAgICB0aGlzLmNsZWFyRXhpc3RpbmdEcmFnRmxhZ3MoKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0RHJhZ0ZsYWdzKG9yaWdpbjogUHJlc2VudENhbnZhc1RpbGVJbmZvLCBkZXN0aW5hdGlvbjogUHJlc2VudENhbnZhc1RpbGVJbmZvKTogdm9pZCB7XG4gICAgdGhpcy5jbGVhckV4aXN0aW5nRHJhZ0ZsYWdzKCk7XG4gICAgb3JpZ2luLnRpbGUuc2VsZWN0ZWQgPSB0cnVlO1xuICAgIGRlc3RpbmF0aW9uLnRpbGUudGFyZ2V0ZWQgPSB0cnVlO1xuICB9XG5cbiAgcHJpdmF0ZSBydW5EcmFnU3RhcnRDYWxsYmFja3MobW91c2U6IE1vdXNlKTogdm9pZCB7XG4gICAgY29uc3QgeyB4LCB5IH0gPSBtb3VzZTtcbiAgICBjb25zdCBvcmlnaW4gPSB0aGlzLnRpbGVBdCh7IHgsIHkgfSk7XG4gICAgaWYgKCFvcmlnaW4udGlsZSkgcmV0dXJuO1xuXG4gICAgdGhpcy5kcmFnT3JpZ2luID0gb3JpZ2luO1xuICAgIHRoaXMuc2V0RHJhZ1N0YXJ0RmxhZ3ModGhpcy5kcmFnT3JpZ2luKTtcbiAgICBjb25zdCBkaXN0YW5jZSA9IGRpc3RhbmNlQmV0d2Vlbihtb3VzZSwgdGhpcy50aWxlQ2VudGVyKG9yaWdpbikpO1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IG1vdXNlLmRyYWdEaXJlY3Rpb247XG4gICAgY29uc3QgZGVzdGluYXRpb24gPSBvcmlnaW47XG5cbiAgICB0aGlzLmRyYWdTdGFydENhbGxiYWNrcy5mb3JFYWNoKChjYWxsYmFjaykgPT4ge1xuICAgICAgY2FsbGJhY2soeyB4LCB5LCBkaXN0YW5jZSwgZGlyZWN0aW9uLCBvcmlnaW4sIGRlc3RpbmF0aW9uLCBtb3VzZSB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcnVuRHJhZ0VuZENhbGxiYWNrcyhtb3VzZTogTW91c2UpOiB2b2lkIHtcbiAgICBjb25zdCBvcmlnaW4gPSB0aGlzLmRyYWdPcmlnaW47XG4gICAgaWYgKCFvcmlnaW4udGlsZSkgcmV0dXJuO1xuXG4gICAgY29uc3QgeyB4LCB5IH0gPSBtb3VzZTtcbiAgICBjb25zdCBkaXN0YW5jZSA9IGRpc3RhbmNlQmV0d2Vlbihtb3VzZSwgdGhpcy50aWxlQ2VudGVyKG9yaWdpbikpO1xuICAgIGNvbnN0IG1vdmVUbyA9IGRpc3RhbmNlID4gdGhpcy5zZW5zaXRpdml0eSA/IHRoaXMuYWRqYWNlbnRUaWxlKG9yaWdpbiwgbW91c2UuZHJhZ0RpcmVjdGlvbikgOiBvcmlnaW47XG4gICAgY29uc3QgZGVzdGluYXRpb24gPSBtb3ZlVG8udGlsZSA/IG1vdmVUbyA6IG9yaWdpbjtcbiAgICBjb25zdCBkaXJlY3Rpb24gPSBtb3VzZS5kcmFnRGlyZWN0aW9uO1xuICAgIHRoaXMuc2V0RHJhZ0VuZEZsYWdzKCk7XG5cbiAgICB0aGlzLmRyYWdFbmRDYWxsYmFja3MuZm9yRWFjaCgoY2FsbGJhY2spID0+IHtcbiAgICAgIGNhbGxiYWNrKHsgeCwgeSwgZGlzdGFuY2UsIGRpcmVjdGlvbiwgb3JpZ2luLCBkZXN0aW5hdGlvbiwgbW91c2UgfSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmRyYWdPcmlnaW4gPSBibGFua0NhbnZhc1RpbGVJbmZvKCk7XG4gIH1cblxuICBwcml2YXRlIHJ1bkRyYWdDYWxsYmFja3MobW91c2U6IE1vdXNlKTogdm9pZCB7XG4gICAgY29uc3Qgb3JpZ2luID0gdGhpcy5kcmFnT3JpZ2luO1xuICAgIGlmICghb3JpZ2luLnRpbGUpIHJldHVybjtcblxuICAgIGNvbnN0IHsgeCwgeSwgcHJlc3NlZCB9ID0gbW91c2U7XG4gICAgaWYgKCFwcmVzc2VkKSByZXR1cm47XG5cbiAgICBjb25zdCBkaXN0YW5jZSA9IGRpc3RhbmNlQmV0d2Vlbihtb3VzZSwgdGhpcy50aWxlQ2VudGVyKG9yaWdpbikpO1xuICAgIGNvbnN0IG1vdmVUbyA9IGRpc3RhbmNlID4gdGhpcy5zZW5zaXRpdml0eSA/IHRoaXMuYWRqYWNlbnRUaWxlKG9yaWdpbiwgbW91c2UuZHJhZ0RpcmVjdGlvbikgOiBvcmlnaW47XG4gICAgY29uc3QgZGVzdGluYXRpb24gPSBtb3ZlVG8udGlsZSA/IG1vdmVUbyA6IG9yaWdpbjtcbiAgICBjb25zdCBkaXJlY3Rpb24gPSBtb3VzZS5kcmFnRGlyZWN0aW9uO1xuICAgIHRoaXMuc2V0RHJhZ0ZsYWdzKG9yaWdpbiwgZGVzdGluYXRpb24pO1xuXG4gICAgdGhpcy5kcmFnQ2FsbGJhY2tzLmZvckVhY2goKGNhbGxiYWNrKSA9PiB7XG4gICAgICBjYWxsYmFjayh7IHgsIHksIGRpc3RhbmNlLCBkaXJlY3Rpb24sIG9yaWdpbiwgZGVzdGluYXRpb24sIG1vdXNlIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbih3aW5kb3cgYXMgYW55KS5kZWZhdWx0U2hhcGVzID0gZGVmYXVsdFNoYXBlcztcbiIsImltcG9ydCBnYW1lTG9vcCBmcm9tIFwiLi9nYW1lL2dhbWVMb29wXCI7XG5pbXBvcnQgeyBjdHggfSBmcm9tIFwiLi9nYW1lL2NhbnZhc1wiO1xuaW1wb3J0IENhbnZhc0JvYXJkLCB7IENvb3JkUG9zaXRpb24gfSBmcm9tIFwiLi9nYW1lL0NhbnZhc0JvYXJkXCI7XG5pbXBvcnQgQ2FudmFzVGlsZSBmcm9tIFwiLi9nYW1lL0NhbnZhc1RpbGVcIjtcblxuY29uc3QgTUFUQ0hfQU5JTUFUSU9OX01TID0gMjUwO1xuXG5jb25zdCBhcHBseVNlbGVjdGVkU3R5bGUgPSAodGlsZTogQ2FudmFzVGlsZSwgeyB4LCB5IH06IENvb3JkUG9zaXRpb24pOiB2b2lkID0+IHtcbiAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aWxlO1xuICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC41KSc7XG4gIGN0eC5maWxsUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbn07XG5cbmNvbnN0IGFwcGx5VGFyZ2V0ZWRTdHlsZSA9ICh0aWxlOiBDYW52YXNUaWxlLCB7IHgsIHkgfTogQ29vcmRQb3NpdGlvbik6IHZvaWQgPT4ge1xuICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRpbGU7XG4gIGNvbnN0IG1pbGxpcyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICBjb25zdCBwdWxzZU1zID0gMjUwO1xuICBjb25zdCBtaW5TdHJva2UgPSAyO1xuICBjb25zdCBtYXhTdHJva2UgPSA1O1xuICBjb25zdCBzdHJva2VXaWR0aCA9IG1pblN0cm9rZSArIChNYXRoLnNpbigobWlsbGlzIC8gcHVsc2VNcykgJSBNYXRoLlBJKSAqIChtYXhTdHJva2UgLSBtaW5TdHJva2UpKTtcbiAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOSknO1xuICBjdHguZmlsbFJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gIGN0eC5maWxsU3R5bGUgPSB0aWxlLmNvbG9yO1xuICBjdHguZmlsbFJlY3QoeCArIHN0cm9rZVdpZHRoLCB5ICsgc3Ryb2tlV2lkdGgsIHdpZHRoIC0gKHN0cm9rZVdpZHRoICogMiksIGhlaWdodCAtIChzdHJva2VXaWR0aCAqIDIpKTtcbn07XG5cbmNvbnN0IGFwcGx5TWF0Y2hlZFN0eWxlID0gKHRpbGU6IENhbnZhc1RpbGUsIHsgeCwgeSB9OiBDb29yZFBvc2l0aW9uKTogdm9pZCA9PiB7XG4gIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgY29sb3IgfSA9IHRpbGU7XG4gIGlmICghdGlsZS5tYXRjaGVkQXQpIHJldHVybjtcblxuICBjb25zdCBtc1NpbmNlTWF0Y2ggPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHRpbGUubWF0Y2hlZEF0LmdldFRpbWUoKTtcbiAgY29uc3QgcGVyY2VudERvbmUgPSBtc1NpbmNlTWF0Y2ggPiBNQVRDSF9BTklNQVRJT05fTVMgPyAxIDogbXNTaW5jZU1hdGNoIC8gTUFUQ0hfQU5JTUFUSU9OX01TO1xuICBjb25zdCBob3Jpem9udGFsID0gcGVyY2VudERvbmUgKiAod2lkdGggLyAyKTtcbiAgY29uc3QgdmVydGljYWwgPSBwZXJjZW50RG9uZSAqIChoZWlnaHQgLyAyKTtcbiAgY3R4LmZpbGxTdHlsZSA9ICcjRkZGJztcbiAgY3R4LmZpbGxSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICBjdHguZmlsbFN0eWxlID0gY29sb3I7XG4gIGN0eC5maWxsUmVjdCh4ICsgaG9yaXpvbnRhbCwgeSArIHZlcnRpY2FsLCB3aWR0aCAtIChob3Jpem9udGFsICogMiksIGhlaWdodCAtICh2ZXJ0aWNhbCAqIDIpKTtcbn07XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zdCBib2FyZCA9IG5ldyBDYW52YXNCb2FyZCh7XG4gICAgd2lkdGg6IE1hdGgubWluKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQsIDUwMCksXG4gICAgcm93Q291bnQ6IDEwLFxuICAgIGNvbENvdW50OiAxMCxcbiAgICBtYXRjaEFuaW1hdGlvbk1zOiBNQVRDSF9BTklNQVRJT05fTVMsXG4gICAgYXBwbHlTZWxlY3RlZFN0eWxlLFxuICAgIGFwcGx5VGFyZ2V0ZWRTdHlsZSxcbiAgICBhcHBseU1hdGNoZWRTdHlsZSxcbiAgfSk7XG5cbiAgYm9hcmQub25EcmFnRW5kKChldmVudCkgPT4ge1xuICAgIGJvYXJkLnN3YXBUaWxlKGV2ZW50Lm9yaWdpbiwgZXZlbnQuZGVzdGluYXRpb24pO1xuICAgIGNvbnN0IHNoYXBlcyA9IGJvYXJkLm1hdGNoU2hhcGVzKCk7XG4gICAgaWYgKCFzaGFwZXMubGVuZ3RoKSBib2FyZC5zd2FwVGlsZShldmVudC5vcmlnaW4sIGV2ZW50LmRlc3RpbmF0aW9uKTtcbiAgfSk7XG5cbiAgZ2FtZUxvb3AoY3R4LCAoX2xvb3BDb3VudCkgPT4ge1xuICAgIGJvYXJkLmRyYXcoY3R4KTtcbiAgICBib2FyZC51cGRhdGUoKTtcbiAgfSk7XG5cbiAgKHdpbmRvdyBhcyBhbnkpLmJvYXJkID0gYm9hcmQ7XG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=