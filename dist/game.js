!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";function r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r="number"==typeof e[0]?e[0]:0,i="function"==typeof e[0]?e[0]:e[1],o=t<r?[t,r]:[r,t],a=o[0],s=o[1]-a,l=Array(s),c=0;c<s;c++)l[c]=i?i(c+a):c+a;return l}n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i}));var i=function(t,e){var n=t<e?[t,e]:[e,t],r=n[0],i=n[1]-r;return r+Math.random()*i}},function(t,e,n){"use strict";var r=function(t){if(void 0===t&&(t={}),this.type="",Object.assign(this,t),!this.type)throw new Error("Tiles must have a type.")};e.a=r},function(t,e,n){"use strict";var r=n(1),i=n(0),o=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},a=function(){function t(t){this.rowCount=10,this.colCount=10,this.tileTypes=["a","b","c","d"],this.tileClass=r.a,Object.assign(this,t),this.tileGenerator=t.tileGenerator,this.rows=this.newRows()}return Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows},set:function(t){if(!t.every((function(e){return t[0].length===e.length})))throw new Error("Rows must all be the same length");this._rows=t,delete this._columns,this.rowCount=t.length,this.colCount=t[0].length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns?this._columns:(this._columns=this.rows.reduce((function(t,e){return e.forEach((function(e,n){t[n]=o(t[n]||[],[e])})),t}),[]),this._columns)},set:function(t){if(!t.every((function(e){return t[0].length===e.length})))throw new Error("Columns must all be the same length");this.rows=t.reduce((function(t,e){return e.forEach((function(e,n){t[n]=o(t[n]||[],[e])})),t}),[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tiles",{get:function(){return this.rows.reduce((function(t,e){return o(t,e)}),[])},enumerable:!0,configurable:!0}),t.prototype.newRows=function(){var t=this;return Object(i.b)(this.rowCount,(function(){return Object(i.b)(t.colCount,(function(){return t.tileGenerator()}))}))},t}();e.a=a},,function(t,e,n){"use strict";n.r(e);var r=function(t,e,n){void 0===n&&(n=0),requestAnimationFrame((function(){return r(t,e,n+1)})),t.clearRect(0,0,window.innerWidth,window.innerHeight),e(n)},i=r,o=document.createElement("canvas"),a=function(){o.width=window.innerWidth,o.height=window.innerHeight};a(),window.addEventListener("resize",a),document.body.appendChild(o);var s=o.getContext("2d");s||console.error("Canvas '2d' context is not supported.");var l,c=n(2),u=n(1),h=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(e){var n=t.call(this,{type:e.colorIsType&&(e.type||e.color)||e.imgUrlIsType&&(e.type||e.imgUrl)||e.type})||this;return n.width=50,n.height=50,n.color="transparent",n.selected=!1,n.targeted=!1,n.matchedAt=null,n.blank=!1,n._imgUrl="",n.width=e.width||n.width,n.height=e.height||n.height,n.color=e.colorIsType&&e.type||e.color||n.color,n.blank=e.blank||n.blank,n._imgUrl=e.imgUrlIsType&&e.type||e.imgUrl||n._imgUrl,n.applySelectedStyle=e.applySelectedStyle||function(){},n.applyTargetedStyle=e.applyTargetedStyle||function(){},n.applyMatchedStyle=e.applyMatchedStyle||function(){},n}return h(e,t),Object.defineProperty(e.prototype,"matched",{get:function(){return!!this.matchedAt},set:function(t){this.matchedAt=t?this.matchedAt||new Date:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imgUrl",{get:function(){return this._imgUrl},set:function(t){this._imgUrl=t,delete this._image},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"image",{get:function(){if(this._image)return this.image;if(!this.imgUrl)return null;var t=document.createElement("img");return t.src=this.imgUrl,t.width=this.width,t.height=this.height,this._image=t,this._image},enumerable:!0,configurable:!0}),e.prototype.draw=function(t,e,n){this.blank||(t.fillStyle=this.color,this.image?t.drawImage(this.image,e,n):t.fillRect(e,n,this.width,this.height),this.matched?this.applyMatchedStyle(this,{x:e,y:n}):this.selected?this.applySelectedStyle(this,{x:e,y:n}):this.targeted&&this.applyTargetedStyle(this,{x:e,y:n}))},e}(u.a),f=n(0),d=new(function(){function t(){var t=this;this.x=0,this.y=0,this.pressed=!1,this.pressCallbacks=[],this.depressCallbacks=[],this.moveCallbacks=[],this.pressedStartPos={x:this.x,y:this.y},window.addEventListener("mousedown",(function(e){t.populateFromMouseEvent(e),t.pressCallbacks.forEach((function(e){return e(t)}))})),window.addEventListener("mousemove",(function(e){t.populateFromMouseEvent(e),t.moveCallbacks.forEach((function(e){return e(t)}))})),window.addEventListener("mouseup",(function(e){t.depressCallbacks.forEach((function(e){return e(t)})),t.populateFromMouseEvent(e)})),window.addEventListener("touchstart",(function(e){t.populateFromTouchEvent(e),t.pressCallbacks.forEach((function(e){return e(t)}))})),window.addEventListener("touchmove",(function(e){t.populateFromTouchEvent(e),t.moveCallbacks.forEach((function(e){return e(t)}))})),window.addEventListener("touchend",(function(e){t.depressCallbacks.forEach((function(e){return e(t)})),t.populateFromTouchEvent(e)}))}return Object.defineProperty(t.prototype,"dragVector",{get:function(){var t=this.pressedStartPos,e=t.x,n=t.y;return this.pressed?{x:this.x-e,y:this.y-n}:{x:0,y:0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dragDirection",{get:function(){var t=this.dragVector,e=t.x,n=t.y;return 0===e&&0===n?"none":Math.abs(e)>=Math.abs(n)?e<0?"left":"right":n<0?"up":"down"},enumerable:!0,configurable:!0}),t.prototype.onPress=function(t){this.pressCallbacks.push(t)},t.prototype.onDepress=function(t){this.depressCallbacks.push(t)},t.prototype.onMove=function(t){this.moveCallbacks.push(t)},t.prototype.populateFromMouseEvent=function(t){this.x=t.x,this.y=t.y;var e=this.pressed;this.pressed=1===t.buttons,this.pressed&&!e&&(this.pressedStartPos={x:this.x,y:this.y})},t.prototype.populateFromTouchEvent=function(t){var e=t.touches,n=this.pressed;if(0===e.length)this.pressed=!1;else{var r=e[0];this.x=r.clientX,this.y=r.clientY,this.pressed=!0,n||(this.pressedStartPos={x:this.x,y:this.y})}},t}());var g=function(){function t(t){void 0===t&&(t={}),this.value=t.value||1,this.extend=t.extend||!1,this.map=t.map||[[]]}return t.fromLength=function(e,n){var r=void 0===n?{}:n,i=r.value;return new t({value:void 0===i?1:i,extend:!!r.orMore,map:[Object(f.b)(e,(function(){return!0}))]})},Object.defineProperty(t.prototype,"extend",{get:function(){return this._extend&&this.linear},set:function(t){this._extend=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"map",{get:function(){return this._map},set:function(t){delete this._linear;var e=t.reduce((function(t,e){var n=e.length;return n>t?n:t}),0);this._map=t.map((function(t){return Object(f.b)(e,(function(e){return t[e]||!1}))}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"linear",{get:function(){return void 0!==this._linear?this._linear:(this._linear=1===this.map.length&&this.map[0].every((function(t){return t}))||this.map.every((function(t){return 1===t.length&&t[0]})),this._linear)},enumerable:!0,configurable:!0}),t.prototype.match=function(t,e,n,r){if(void 0===n&&(n=0),void 0===r&&(r=this.map),n>3)return[];var i,o=[],a=!1;return r.every((function(n,r){var s=t[r];return!!s&&n.every((function(t,n){if(!t)return!0;var r=s[n];if(!r)return!1;var l=r[e];return a||(i=l,a=!0),l===i&&(o.push(r),!0)}))}))?o:this.match(t,e,n+1,function(t){for(var e=[],n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++){var o=r[i];e[i]=e[i]||[],e[i].unshift(o)}return e}(r))},t}(),y=function(){return[g.fromLength(3,{value:1}),g.fromLength(4,{value:2}),g.fromLength(5,{value:3}),g.fromLength(6,{value:4,orMore:!0}),new g({value:5,map:[[!0,!0,!0],[!0],[!0]]}),new g({value:6,map:[[!0,!0,!0],[!1,!0],[!1,!0]]}),new g({value:7,map:[[!0,!0],[!0,!0]]})]},w=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(){return(v=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},m=function(){return{row:-1,col:-1,tile:null}},b=function(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))},S=function(t){function e(e){var n=t.call(this,v(v({},e),{tileTypes:e.tileTypes||["red","orange","yellow","green","blue"],tileGenerator:function(){return new p({type:this.tileTypes[Math.floor(Object(f.a)(0,this.tileTypes.length))],width:this.tileWidth,height:this.tileHeight,colorIsType:!0,applySelectedStyle:this.applySelectedStyle,applyTargetedStyle:this.applyTargetedStyle,applyMatchedStyle:this.applyMatchedStyle})}}))||this;return n.dragStartCallbacks=[],n.dragEndCallbacks=[],n.dragCallbacks=[],n.dragOrigin=m(),n.x=e.x||0,n.y=e.y||0,n.width=Math.floor(e.width||50*n.colCount),n.height=e.height||n.width,n.sensitivity=e.sensitivity||25,n.shapes=e.shapes||y(),n.applySelectedStyle=e.applySelectedStyle||function(){},n.applyTargetedStyle=e.applyTargetedStyle||function(){},n.applyMatchedStyle=e.applyMatchedStyle||function(){},n.matchAnimationMs=e.matchAnimationMs||250,d.onPress(n.runDragStartCallbacks.bind(n)),d.onDepress(n.runDragEndCallbacks.bind(n)),d.onMove(n.runDragCallbacks.bind(n)),n.rows=n.newRows(),n}return w(e,t),Object.defineProperty(e.prototype,"tileWidth",{get:function(){return this.width/this.colCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tileHeight",{get:function(){return this.height/this.rowCount},enumerable:!0,configurable:!0}),e.prototype.draw=function(t){var e=this,n=this.checkSettle(),r=this.startedSettlingAt?(new Date).getTime()-this.startedSettlingAt.getTime():0,i=r/100*this.tileHeight,o=r>100;o&&delete this.startedSettlingAt;var a=[];this.rows.forEach((function(r,s){r.forEach((function(r,l){var c=e.x+l*r.width,u=e.y+s*r.height;if(n&&!r.blank){var h={row:s,col:l},p=e.adjacentTile(h,"down");p.tile&&p.tile.blank&&(u+=i,o&&a.push([h,p]))}r.draw(t,c,u)}))})),a.forEach((function(t){var n=t[0],r=t[1];return e.swapTile(n,r)}))},e.prototype.update=function(){var t=this;(this.rows[0]=this.rows[0].map((function(e){return e.blank?t.tileGenerator():e})),this.rows.slice(1).some((function(t){return t.some((function(t){return t.blank}))})))||this.matchShapes().forEach((function(e){e.shape;e.tiles.forEach((function(e){e.matched=!0,setTimeout((function(){e.blank=!0}),t.matchAnimationMs)}))}))},e.prototype.checkSettle=function(){return this.tiles.some((function(t){return t.blank}))?(this.startedSettlingAt||(this.startedSettlingAt=new Date),!0):(delete this.startedSettlingAt,!1)},e.prototype.tileAt=function(t){if("row"in t){var e=t.row,n=t.col,r=this.rows[e][n];return r?{row:e,col:n,tile:r}:m()}var i=t.x-this.x,o=t.y-this.y;if(i>this.width||o>this.height)return m();var a=i/this.width,s=o/this.height,l=Math.floor(s*this.rowCount),c=Math.floor(a*this.colCount);return{row:l,col:c,tile:this.rows[l][c]}},e.prototype.tileCenter=function(t){var e=t.row,n=t.col,r=t.tile;return r?{x:this.x+n*r.height+r.height/2,y:this.y+e*r.width+r.width/2}:{x:-1,y:-1}},e.prototype.swapTile=function(t,e){"string"==typeof e?this.swapTileInDirection(t,e):this.swapTileWithTile(t,e)},e.prototype.onDragStart=function(t){var e=this.dragStartCallbacks.length;return this.dragStartCallbacks.push(t),e},e.prototype.removeDragStartListener=function(t){delete this.dragStartCallbacks[t]},e.prototype.onDragEnd=function(t){var e=this.dragEndCallbacks.length;return this.dragEndCallbacks.push(t),e},e.prototype.removeDragEndListener=function(t){delete this.dragEndCallbacks[t]},e.prototype.onDrag=function(t){var e=this.dragCallbacks.length;return this.dragCallbacks.push(t),e},e.prototype.removeDragListener=function(t){delete this.dragCallbacks[t]},e.prototype.adjacentSpace=function(t,e){var n="row"in t?t:this.tileAt(t),r=n.row,i=n.col;switch(e){case"up":return{row:r-1,col:i};case"down":return{row:r+1,col:i};case"left":return{row:r,col:i-1};case"right":return{row:r,col:i+1};default:return{row:r,col:i}}},e.prototype.adjacentTile=function(t,e){var n=this.adjacentSpace(t,e),r=n.row,i=n.col,o=this.rows[r]&&this.rows[r][i];return o?{row:r,col:i,tile:o}:m()},e.prototype.removeTile=function(t){t.blank=!0},e.prototype.matchShapes=function(){var t=this;return Object(f.b)(this.colCount).reduce((function(e,n){return t.shapes.forEach((function(r){t.rows.forEach((function(i,o){var a=t.rows.slice(o).map((function(t){return t.slice(n)})),s=r.match(a,"type");s.length&&e.push({shape:r,tiles:s})}))})),e}),[])},e.prototype.swapTileWithTile=function(t,e){var n=this.tileAt(t);if(n.tile){var r=this.tileAt(e);r.tile&&(this.rows[r.row][r.col]=n.tile,this.rows[n.row][n.col]=r.tile)}},e.prototype.swapTileInDirection=function(t,e){var n=this.tileAt(t);if(n.tile){var r=this.adjacentTile(n,e);r.tile&&(this.rows[r.row][r.col]=n.tile,this.rows[n.row][n.col]=r.tile)}},e.prototype.clearExistingDragFlags=function(){this.tiles.forEach((function(t){t.selected=!1,t.targeted=!1}))},e.prototype.setDragStartFlags=function(t){this.clearExistingDragFlags(),t.tile.selected=!0,t.tile.targeted=!0},e.prototype.setDragEndFlags=function(){this.clearExistingDragFlags()},e.prototype.setDragFlags=function(t,e){this.clearExistingDragFlags(),t.tile.selected=!0,e.tile.targeted=!0},e.prototype.runDragStartCallbacks=function(t){var e=t.x,n=t.y,r=this.tileAt({x:e,y:n});if(r.tile){this.dragOrigin=r,this.setDragStartFlags(this.dragOrigin);var i=b(t,this.tileCenter(r)),o=t.dragDirection,a=r;this.dragStartCallbacks.forEach((function(s){s({x:e,y:n,distance:i,direction:o,origin:r,destination:a,mouse:t})}))}},e.prototype.runDragEndCallbacks=function(t){var e=this.dragOrigin;if(e.tile){var n=t.x,r=t.y,i=b(t,this.tileCenter(e)),o=i>this.sensitivity?this.adjacentTile(e,t.dragDirection):e,a=o.tile?o:e,s=t.dragDirection;this.setDragEndFlags(),this.dragEndCallbacks.forEach((function(o){o({x:n,y:r,distance:i,direction:s,origin:e,destination:a,mouse:t})})),this.dragOrigin=m()}},e.prototype.runDragCallbacks=function(t){var e=this.dragOrigin;if(e.tile){var n=t.x,r=t.y;if(t.pressed){var i=b(t,this.tileCenter(e)),o=i>this.sensitivity?this.adjacentTile(e,t.dragDirection):e,a=o.tile?o:e,s=t.dragDirection;this.setDragFlags(e,a),this.dragCallbacks.forEach((function(o){o({x:n,y:r,distance:i,direction:s,origin:e,destination:a,mouse:t})}))}}},e}(c.a);window.defaultShapes=y;var C=function(t,e){var n=e.x,r=e.y,i=t.width,o=t.height;s.fillStyle="rgba(255, 255, 255, 0.5)",s.fillRect(n,r,i,o)},E=function(t,e){var n=e.x,r=e.y,i=t.width,o=t.height,a=(new Date).getTime(),l=2+3*Math.sin(a/250%Math.PI);s.fillStyle="rgba(255, 255, 255, 0.9)",s.fillRect(n,r,i,o),s.fillStyle=t.color,s.fillRect(n+l,r+l,i-2*l,o-2*l)},x=function(t,e){var n=e.x,r=e.y,i=t.width,o=t.height,a=t.color;if(t.matchedAt){var l=(new Date).getTime()-t.matchedAt.getTime(),c=l>250?1:l/250,u=c*(i/2),h=c*(o/2);s.fillStyle="#FFF",s.fillRect(n,r,i,o),s.fillStyle=a,s.fillRect(n+u,r+h,i-2*u,o-2*h)}};window.addEventListener("DOMContentLoaded",(function(){var t=new S({width:Math.min(window.innerWidth,window.innerHeight,500),rowCount:10,colCount:10,matchAnimationMs:250,applySelectedStyle:C,applyTargetedStyle:E,applyMatchedStyle:x});t.onDragEnd((function(e){t.swapTile(e.origin,e.destination),t.matchShapes().length||t.swapTile(e.origin,e.destination)})),i(s,(function(e){t.draw(s),t.update()})),window.board=t}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdGllcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGlsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQm9hcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvZ2FtZUxvb3AudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvY2FudmFzLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lL0NhbnZhc1RpbGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvbW91c2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NoYXBlLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lL0NhbnZhc0JvYXJkLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwicmFuZ2UiLCJtaW4iLCJtYXgiLCJtYXhBbmRPck1hcHBlciIsIm1hcHBlciIsInJlYWxNaW4iLCJkaWZmIiwibGlzdCIsIkFycmF5IiwicmFuZCIsIk1hdGgiLCJyYW5kb20iLCJvcHRzIiwidHlwZSIsImFzc2lnbiIsInRoaXMiLCJFcnJvciIsInJvd0NvdW50IiwiY29sQ291bnQiLCJ0aWxlVHlwZXMiLCJ0aWxlQ2xhc3MiLCJ0aWxlR2VuZXJhdG9yIiwicm93cyIsIm5ld1Jvd3MiLCJfcm93cyIsImV2ZXJ5Iiwicm93IiwibGVuZ3RoIiwiX2NvbHVtbnMiLCJyZWR1Y2UiLCJjb2x1bW5zIiwiZm9yRWFjaCIsInRpbGUiLCJpbmRleCIsImNvbHVtbiIsInRpbGVzIiwiZ2FtZUxvb3AiLCJkcmF3IiwibG9vcENvdW50IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2xlYXJSZWN0Iiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3RyZXRjaENhbnZhcyIsIndpZHRoIiwiaGVpZ2h0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImN0eCIsImdldENvbnRleHQiLCJjb25zb2xlIiwiZXJyb3IiLCJjb2xvcklzVHlwZSIsImNvbG9yIiwiaW1nVXJsSXNUeXBlIiwiaW1nVXJsIiwic2VsZWN0ZWQiLCJ0YXJnZXRlZCIsIm1hdGNoZWRBdCIsImJsYW5rIiwiX2ltZ1VybCIsImFwcGx5U2VsZWN0ZWRTdHlsZSIsImFwcGx5VGFyZ2V0ZWRTdHlsZSIsImFwcGx5TWF0Y2hlZFN0eWxlIiwibWF0Y2hlZCIsIkRhdGUiLCJfaW1hZ2UiLCJpbWFnZSIsInNyYyIsIngiLCJ5IiwiZmlsbFN0eWxlIiwiZHJhd0ltYWdlIiwiZmlsbFJlY3QiLCJUaWxlIiwicHJlc3NlZCIsInByZXNzQ2FsbGJhY2tzIiwiZGVwcmVzc0NhbGxiYWNrcyIsIm1vdmVDYWxsYmFja3MiLCJwcmVzc2VkU3RhcnRQb3MiLCJldmVudCIsInBvcHVsYXRlRnJvbU1vdXNlRXZlbnQiLCJjYWxsYmFjayIsInBvcHVsYXRlRnJvbVRvdWNoRXZlbnQiLCJhYnMiLCJvblByZXNzIiwicHVzaCIsIm9uRGVwcmVzcyIsIm9uTW92ZSIsImFscmVhZHlQcmVzc2VkIiwiYnV0dG9ucyIsInRvdWNoZXMiLCJ0b3VjaCIsImNsaWVudFgiLCJjbGllbnRZIiwiZXh0ZW5kIiwibWFwIiwiZnJvbUxlbmd0aCIsIlNoYXBlIiwib3JNb3JlIiwiX2V4dGVuZCIsImxpbmVhciIsIl9tYXAiLCJfbGluZWFyIiwicm93TGVuZ3RoIiwic3BhY2UiLCJtYXRjaCIsImdyaWQiLCJmaWVsZCIsInJvdGF0aW9uIiwic2hhcGVNYXAiLCJtYXRjaFZhbHVlIiwibWF0Y2hWYWx1ZVNldCIsIm1hdGNoZXJSb3ciLCJyb3dJbmRleCIsImdyaWRSb3ciLCJtdXN0TWF0Y2giLCJjb2xJbmRleCIsImdyaWRJdGVtIiwiZ3JpZFZhbHVlIiwibmV3R3JpZCIsIml0ZW0iLCJ1bnNoaWZ0Iiwicm90YXRlIiwiZGVmYXVsdFNoYXBlcyIsImJsYW5rQ2FudmFzVGlsZUluZm8iLCJjb2wiLCJkaXN0YW5jZUJldHdlZW4iLCJvcmlnaW4iLCJkZXN0aW5hdGlvbiIsImR4IiwiZHkiLCJzcXJ0IiwiZmxvb3IiLCJ0aWxlV2lkdGgiLCJ0aWxlSGVpZ2h0IiwiZHJhZ1N0YXJ0Q2FsbGJhY2tzIiwiZHJhZ0VuZENhbGxiYWNrcyIsImRyYWdDYWxsYmFja3MiLCJkcmFnT3JpZ2luIiwic2Vuc2l0aXZpdHkiLCJzaGFwZXMiLCJtYXRjaEFuaW1hdGlvbk1zIiwicnVuRHJhZ1N0YXJ0Q2FsbGJhY2tzIiwicnVuRHJhZ0VuZENhbGxiYWNrcyIsInJ1bkRyYWdDYWxsYmFja3MiLCJzZXR0bGluZyIsImNoZWNrU2V0dGxlIiwibXNTaW5jZVNldHRsZSIsInN0YXJ0ZWRTZXR0bGluZ0F0IiwiZ2V0VGltZSIsIml0c1N3YXBUaW1lQnJ1aCIsInRpbGVzVG9Td2FwIiwidGlsZUluZGV4IiwicG9zaXRpb24iLCJiZWxvdyIsImFkamFjZW50VGlsZSIsInN3YXBUaWxlIiwidXBkYXRlIiwic2xpY2UiLCJzb21lIiwibWF0Y2hTaGFwZXMiLCJzaGFwZSIsInNldFRpbWVvdXQiLCJ0aWxlQXQiLCJwb3MiLCJmcmFjdGlvblgiLCJmcmFjdGlvblkiLCJ0aWxlQ2VudGVyIiwidGlsZUluZm8iLCJmcm9tIiwidG8iLCJzd2FwVGlsZUluRGlyZWN0aW9uIiwic3dhcFRpbGVXaXRoVGlsZSIsIm9uRHJhZ1N0YXJ0IiwicmVtb3ZlRHJhZ1N0YXJ0TGlzdGVuZXIiLCJpZCIsIm9uRHJhZ0VuZCIsInJlbW92ZURyYWdFbmRMaXN0ZW5lciIsIm9uRHJhZyIsInJlbW92ZURyYWdMaXN0ZW5lciIsImFkamFjZW50U3BhY2UiLCJkaXJlY3Rpb24iLCJyZW1vdmVUaWxlIiwibWVtbyIsIl9yb3ciLCJjbGVhckV4aXN0aW5nRHJhZ0ZsYWdzIiwic2V0RHJhZ1N0YXJ0RmxhZ3MiLCJzZXREcmFnRW5kRmxhZ3MiLCJzZXREcmFnRmxhZ3MiLCJtb3VzZSIsImRpc3RhbmNlIiwiZHJhZ0RpcmVjdGlvbiIsIm1vdmVUbyIsIkJvYXJkIiwibWlsbGlzIiwic3Ryb2tlV2lkdGgiLCJzaW4iLCJQSSIsIm1zU2luY2VNYXRjaCIsInBlcmNlbnREb25lIiwiaG9yaXpvbnRhbCIsInZlcnRpY2FsIiwiYm9hcmQiLCJfbG9vcENvdW50Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixF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Y2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNCk7XG4iLCJleHBvcnQgZnVuY3Rpb24gcmFuZ2U8VD4obWluOiBudW1iZXIsIC4uLm1heEFuZE9yTWFwcGVyOiBbXSk6IG51bWJlcltdO1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlPFQ+KG1pbjogbnVtYmVyLCAuLi5tYXhBbmRPck1hcHBlcjogW251bWJlcl0pOiBudW1iZXJbXTtcbmV4cG9ydCBmdW5jdGlvbiByYW5nZTxUPihtaW46IG51bWJlciwgLi4ubWF4QW5kT3JNYXBwZXI6IFsobjogbnVtYmVyKSA9PiBUXSk6IFRbXTtcbmV4cG9ydCBmdW5jdGlvbiByYW5nZTxUPihtaW46IG51bWJlciwgLi4ubWF4QW5kT3JNYXBwZXI6IFtudW1iZXIsIChuOiBudW1iZXIpID0+IFRdKTogVFtdO1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlPFQ+KG1pbjogbnVtYmVyLCAuLi5tYXhBbmRPck1hcHBlcjogW118W251bWJlcnwoKG46IG51bWJlcikgPT4gVCldfFtudW1iZXIsIChuOiBudW1iZXIpID0+IFRdKTogKG51bWJlcnxUKVtdIHtcbiAgY29uc3QgbWF4ID0gdHlwZW9mIG1heEFuZE9yTWFwcGVyWzBdID09PSAnbnVtYmVyJyA/IG1heEFuZE9yTWFwcGVyWzBdIDogMDtcbiAgY29uc3QgbWFwcGVyID0gdHlwZW9mIG1heEFuZE9yTWFwcGVyWzBdID09PSAnZnVuY3Rpb24nID8gbWF4QW5kT3JNYXBwZXJbMF0gOiBtYXhBbmRPck1hcHBlclsxXTtcbiAgY29uc3QgW3JlYWxNaW4sIHJlYWxNYXhdID0gbWluIDwgbWF4ID8gW21pbiwgbWF4XSA6IFttYXgsIG1pbl07XG4gIGNvbnN0IGRpZmYgPSByZWFsTWF4IC0gcmVhbE1pbjtcbiAgY29uc3QgbGlzdCA9IEFycmF5KGRpZmYpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGRpZmY7IGkrKykgbGlzdFtpXSA9IG1hcHBlciA/IG1hcHBlcihpICsgcmVhbE1pbikgOiBpICsgcmVhbE1pbjtcbiAgcmV0dXJuIGxpc3Q7XG59XG5cbmV4cG9ydCBjb25zdCByYW5kID0gKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciA9PiB7XG4gIGNvbnN0IFtyZWFsTWluLCByZWFsTWF4XSA9IG1pbiA8IG1heCA/IFttaW4sIG1heF0gOiBbbWF4LCBtaW5dO1xuICBjb25zdCBkaWZmID0gcmVhbE1heCAtIHJlYWxNaW47XG4gIHJldHVybiByZWFsTWluICsgKE1hdGgucmFuZG9tKCkgKiBkaWZmKTtcbn07XG5cbmV4cG9ydCBjb25zdCBkYW1wZW4gPSAobnVtOiBudW1iZXIsIGJ5OiBudW1iZXIsIGNlbnRlciA9IDApOiBudW1iZXIgPT4ge1xuICAvLyBudW1iZXIgaXMgYWxyZWFkeSBhdCB0aGUgY2VudGVyXG4gIGlmIChudW0gPT09IGNlbnRlcikgcmV0dXJuIGNlbnRlcjtcblxuICAvLyBudW1iZXIgaXMgaGlnaGVyIHRoYW4gdGhlIGNlbnRlcjsgc3VidHJhY3QgYW5kIGRvbid0IG92ZXJzaG9vdCB0aGUgY2VudGVyXG4gIGlmIChudW0gPiBjZW50ZXIpIHtcbiAgICBjb25zdCBuZXdOdW0gPSBudW0gLSBieTtcbiAgICByZXR1cm4gbmV3TnVtIDwgY2VudGVyID8gY2VudGVyIDogbmV3TnVtO1xuICB9XG5cbiAgLy8gbnVtYmVyIGlzIGxvd2VyIHRoYW4gdGhlIGNlbnRlcjsgYWRkIGFuZCBkb24ndCBvdmVyc2hvb3QgdGhlIGNlbnRlclxuICBjb25zdCBuZXdOdW0gPSBudW0gKyBieTtcbiAgcmV0dXJuIG5ld051bSA+IGNlbnRlciA/IGNlbnRlciA6IG5ld051bTtcbn07XG5cbmV4cG9ydCBjb25zdCBib3VuZCA9IChudW06IG51bWJlciwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgY29uc3QgW3JlYWxNaW4sIHJlYWxNYXhdID0gbWluIDwgbWF4ID8gW21pbiwgbWF4XSA6IFttYXgsIG1pbl07XG4gIGlmIChudW0gPCByZWFsTWluKSByZXR1cm4gcmVhbE1pbjtcbiAgaWYgKG51bSA+IHJlYWxNYXgpIHJldHVybiByZWFsTWF4O1xuICByZXR1cm4gbnVtO1xufTtcblxuZXhwb3J0IGNvbnN0IGJldHdlZW4gPSAobnVtOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciwgaW5jbHVzaXZlID0gdHJ1ZSk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBbcmVhbE1pbiwgcmVhbE1heF0gPSBtaW4gPCBtYXggPyBbbWluLCBtYXhdIDogW21heCwgbWluXTtcbiAgcmV0dXJuIGluY2x1c2l2ZSA/IChudW0gPj0gcmVhbE1pbiAmJiBudW0gPD0gcmVhbE1heCkgOiAobnVtID4gcmVhbE1pbiAmJiBudW0gPCByZWFsTWF4KTtcbn07XG5cbmV4cG9ydCBjb25zdCBkaWZmZXJlbmNlID0gKG46IG51bWJlciwgbTogbnVtYmVyKTogbnVtYmVyID0+IE1hdGguYWJzKG4gLSBtKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbGUge1xuICBwdWJsaWMgdHlwZSA9ICcnO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IFBhcnRpYWw8VGlsZT4gPSB7fSkge1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0cyk7XG4gICAgaWYgKCF0aGlzLnR5cGUpIHRocm93IG5ldyBFcnJvcignVGlsZXMgbXVzdCBoYXZlIGEgdHlwZS4nKTtcbiAgfVxufVxuIiwiaW1wb3J0IFRpbGUgZnJvbSBcIi4vVGlsZVwiO1xuaW1wb3J0IHsgcmFuZ2UgfSBmcm9tIFwiLi91dGlsaXRpZXNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQm9hcmQ8VGlsZUNsYXNzID0gVGlsZT4ge1xuICBwdWJsaWMgcm93Q291bnQgPSAxMDtcbiAgcHVibGljIGNvbENvdW50ID0gMTA7XG4gIHB1YmxpYyB0aWxlVHlwZXMgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcbiAgcHVibGljIHRpbGVDbGFzcyA9IFRpbGU7XG4gIHB1YmxpYyB0aWxlR2VuZXJhdG9yOiAoKSA9PiBUaWxlQ2xhc3M7XG4gIHByaXZhdGUgX3Jvd3MhOiBUaWxlQ2xhc3NbXVtdO1xuICBwcml2YXRlIF9jb2x1bW5zPzogVGlsZUNsYXNzW11bXTtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7IHRpbGVHZW5lcmF0b3I6ICgpID0+IFRpbGVDbGFzcyB9ICYgUGFydGlhbDxCb2FyZD4pIHtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdHMpO1xuICAgIHRoaXMudGlsZUdlbmVyYXRvciA9IG9wdHMudGlsZUdlbmVyYXRvcjtcbiAgICB0aGlzLnJvd3MgPSB0aGlzLm5ld1Jvd3MoKTtcbiAgfVxuXG4gIHNldCByb3dzKHJvd3M6IFRpbGVDbGFzc1tdW10pIHtcbiAgICBpZiAoIXJvd3MuZXZlcnkocm93ID0+IHJvd3NbMF0ubGVuZ3RoID09PSByb3cubGVuZ3RoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSb3dzIG11c3QgYWxsIGJlIHRoZSBzYW1lIGxlbmd0aCcpO1xuICAgIH1cbiAgICB0aGlzLl9yb3dzID0gcm93cztcbiAgICBkZWxldGUgdGhpcy5fY29sdW1ucztcbiAgICB0aGlzLnJvd0NvdW50ID0gcm93cy5sZW5ndGg7XG4gICAgdGhpcy5jb2xDb3VudCA9IHJvd3NbMF0ubGVuZ3RoO1xuICB9XG5cbiAgZ2V0IHJvd3MoKTogVGlsZUNsYXNzW11bXSB7XG4gICAgcmV0dXJuIHRoaXMuX3Jvd3M7XG4gIH1cblxuICBzZXQgY29sdW1ucyhjb2x1bW5zOiBUaWxlQ2xhc3NbXVtdKSB7XG4gICAgaWYgKCFjb2x1bW5zLmV2ZXJ5KGNvbHVtbiA9PiBjb2x1bW5zWzBdLmxlbmd0aCA9PT0gY29sdW1uLmxlbmd0aCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ29sdW1ucyBtdXN0IGFsbCBiZSB0aGUgc2FtZSBsZW5ndGgnKTtcbiAgICB9XG5cbiAgICB0aGlzLnJvd3MgPSBjb2x1bW5zLnJlZHVjZSgocm93cywgY29sdW1uKSA9PiB7XG4gICAgICBjb2x1bW4uZm9yRWFjaCgodGlsZSwgaW5kZXgpID0+IHtcbiAgICAgICAgcm93c1tpbmRleF0gPSBbLi4uKHJvd3NbaW5kZXhdIHx8IFtdKSwgdGlsZV07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByb3dzO1xuICAgIH0sIFtdIGFzIFRpbGVDbGFzc1tdW10pO1xuICB9XG5cbiAgZ2V0IGNvbHVtbnMoKTogVGlsZUNsYXNzW11bXSB7XG4gICAgaWYgKHRoaXMuX2NvbHVtbnMpIHJldHVybiB0aGlzLl9jb2x1bW5zO1xuXG4gICAgdGhpcy5fY29sdW1ucyA9IHRoaXMucm93cy5yZWR1Y2UoKGNvbHVtbnMsIHJvdykgPT4ge1xuICAgICAgcm93LmZvckVhY2goKHRpbGUsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbHVtbnNbaW5kZXhdID0gWy4uLihjb2x1bW5zW2luZGV4XSB8fCBbXSksIHRpbGVdO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gY29sdW1ucztcbiAgICB9LCBbXSBhcyBUaWxlQ2xhc3NbXVtdKTtcblxuICAgIHJldHVybiB0aGlzLl9jb2x1bW5zO1xuICB9XG5cbiAgZ2V0IHRpbGVzKCk6IFRpbGVDbGFzc1tdIHtcbiAgICByZXR1cm4gdGhpcy5yb3dzLnJlZHVjZSgodGlsZXMsIHJvdykgPT4gWy4uLnRpbGVzLCAuLi5yb3ddLCBbXSk7XG4gIH1cblxuICBuZXdSb3dzKCk6IFRpbGVDbGFzc1tdW10ge1xuICAgIHJldHVybiByYW5nZSh0aGlzLnJvd0NvdW50LCAoKSA9PiB7XG4gICAgICByZXR1cm4gcmFuZ2UodGhpcy5jb2xDb3VudCwgKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy50aWxlR2VuZXJhdG9yKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuIiwiY29uc3QgZ2FtZUxvb3AgPSAoYzogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBkcmF3OiAobG9vcENvdW50OiBudW1iZXIpID0+IHZvaWQsIGxvb3BDb3VudCA9IDApOiB2b2lkID0+IHtcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IGdhbWVMb29wKGMsIGRyYXcsIGxvb3BDb3VudCArIDEpKTtcbiAgYy5jbGVhclJlY3QoMCwgMCwgd2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gIGRyYXcobG9vcENvdW50KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGdhbWVMb29wO1xuIiwiY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbmNvbnN0IHN0cmV0Y2hDYW52YXMgPSAoKTogdm9pZCA9PiB7XG4gIGNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICBjYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xufTtcblxuc3RyZXRjaENhbnZhcygpO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN0cmV0Y2hDYW52YXMpO1xuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpO1xuXG5jb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKSE7XG5pZiAoIWN0eCkgY29uc29sZS5lcnJvcihcIkNhbnZhcyAnMmQnIGNvbnRleHQgaXMgbm90IHN1cHBvcnRlZC5cIik7XG5cbmV4cG9ydCB7IGN0eCB9O1xuZXhwb3J0IGRlZmF1bHQgY2FudmFzO1xuIiwiaW1wb3J0IFRpbGUgZnJvbSBcIi4uL1RpbGVcIjtcbmltcG9ydCB7IENvb3JkUG9zaXRpb24gfSBmcm9tIFwiLi9DYW52YXNCb2FyZFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXNUaWxlIGV4dGVuZHMgVGlsZSB7XG4gIHB1YmxpYyB3aWR0aCA9IDUwO1xuICBwdWJsaWMgaGVpZ2h0ID0gNTA7XG4gIHB1YmxpYyBjb2xvciA9ICd0cmFuc3BhcmVudCc7XG4gIHB1YmxpYyBzZWxlY3RlZCA9IGZhbHNlO1xuICBwdWJsaWMgdGFyZ2V0ZWQgPSBmYWxzZTtcbiAgcHVibGljIG1hdGNoZWRBdCA9IG51bGwgYXMgRGF0ZXxudWxsO1xuICBwdWJsaWMgYmxhbmsgPSBmYWxzZTtcbiAgcHVibGljIGFwcGx5U2VsZWN0ZWRTdHlsZTogKHRpbGU6IENhbnZhc1RpbGUsIHBvczogQ29vcmRQb3NpdGlvbikgPT4gdm9pZDtcbiAgcHVibGljIGFwcGx5VGFyZ2V0ZWRTdHlsZTogKHRpbGU6IENhbnZhc1RpbGUsIHBvczogQ29vcmRQb3NpdGlvbikgPT4gdm9pZDtcbiAgcHVibGljIGFwcGx5TWF0Y2hlZFN0eWxlOiAodGlsZTogQ2FudmFzVGlsZSwgcG9zOiBDb29yZFBvc2l0aW9uKSA9PiB2b2lkO1xuICBwcml2YXRlIF9pbWdVcmwgPSAnJztcbiAgcHJpdmF0ZSBfaW1hZ2U/OiBIVE1MSW1hZ2VFbGVtZW50O1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IFBhcnRpYWw8VGlsZT4gJiB7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGNvbG9yPzogc3RyaW5nO1xuICAgIGltZ1VybD86IHN0cmluZztcbiAgICB3aWR0aD86IG51bWJlcjtcbiAgICBoZWlnaHQ/OiBudW1iZXI7XG4gICAgY29sb3JJc1R5cGU/OiBib29sZWFuO1xuICAgIGltZ1VybElzVHlwZT86IGJvb2xlYW47XG4gICAgYmxhbms/OiBib29sZWFuO1xuICAgIGFwcGx5U2VsZWN0ZWRTdHlsZT86IENhbnZhc1RpbGVbJ2FwcGx5U2VsZWN0ZWRTdHlsZSddO1xuICAgIGFwcGx5VGFyZ2V0ZWRTdHlsZT86IENhbnZhc1RpbGVbJ2FwcGx5VGFyZ2V0ZWRTdHlsZSddO1xuICAgIGFwcGx5TWF0Y2hlZFN0eWxlPzogQ2FudmFzVGlsZVsnYXBwbHlNYXRjaGVkU3R5bGUnXTtcbiAgfSkge1xuICAgIHN1cGVyKHtcbiAgICAgIHR5cGU6IChvcHRzLmNvbG9ySXNUeXBlICYmIChvcHRzLnR5cGUgfHwgb3B0cy5jb2xvcikpXG4gICAgICAgIHx8IChvcHRzLmltZ1VybElzVHlwZSAmJiAob3B0cy50eXBlIHx8IG9wdHMuaW1nVXJsKSlcbiAgICAgICAgfHwgb3B0cy50eXBlXG4gICAgfSk7XG5cbiAgICB0aGlzLndpZHRoID0gb3B0cy53aWR0aCB8fCB0aGlzLndpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gb3B0cy5oZWlnaHQgfHwgdGhpcy5oZWlnaHQ7XG4gICAgdGhpcy5jb2xvciA9IChvcHRzLmNvbG9ySXNUeXBlICYmIG9wdHMudHlwZSkgfHwgb3B0cy5jb2xvciB8fCB0aGlzLmNvbG9yO1xuICAgIHRoaXMuYmxhbmsgPSBvcHRzLmJsYW5rIHx8IHRoaXMuYmxhbms7XG4gICAgdGhpcy5faW1nVXJsID0gKG9wdHMuaW1nVXJsSXNUeXBlICYmIG9wdHMudHlwZSkgfHwgb3B0cy5pbWdVcmwgfHwgdGhpcy5faW1nVXJsO1xuICAgIHRoaXMuYXBwbHlTZWxlY3RlZFN0eWxlID0gb3B0cy5hcHBseVNlbGVjdGVkU3R5bGUgfHwgKCgpID0+IHt9KTtcbiAgICB0aGlzLmFwcGx5VGFyZ2V0ZWRTdHlsZSA9IG9wdHMuYXBwbHlUYXJnZXRlZFN0eWxlIHx8ICgoKSA9PiB7fSk7XG4gICAgdGhpcy5hcHBseU1hdGNoZWRTdHlsZSA9IG9wdHMuYXBwbHlNYXRjaGVkU3R5bGUgfHwgKCgpID0+IHt9KTtcbiAgfVxuXG4gIGdldCBtYXRjaGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXRoaXMubWF0Y2hlZEF0O1xuICB9XG5cbiAgc2V0IG1hdGNoZWQobWF0Y2hlZDogYm9vbGVhbikge1xuICAgIHRoaXMubWF0Y2hlZEF0ID0gbWF0Y2hlZCA/ICh0aGlzLm1hdGNoZWRBdCB8fCBuZXcgRGF0ZSgpKSA6IG51bGw7XG4gIH1cblxuICBnZXQgaW1nVXJsKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2ltZ1VybDtcbiAgfVxuXG4gIHNldCBpbWdVcmwoaW1nVXJsOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9pbWdVcmwgPSBpbWdVcmw7XG4gICAgZGVsZXRlIHRoaXMuX2ltYWdlO1xuICB9XG5cbiAgZ2V0IGltYWdlKCk6IG51bGx8SFRNTEltYWdlRWxlbWVudCB7XG4gICAgaWYgKHRoaXMuX2ltYWdlKSByZXR1cm4gdGhpcy5pbWFnZTtcbiAgICBpZiAoIXRoaXMuaW1nVXJsKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgaW1hZ2Uuc3JjID0gdGhpcy5pbWdVcmw7XG4gICAgaW1hZ2Uud2lkdGggPSB0aGlzLndpZHRoO1xuICAgIGltYWdlLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuICAgIHRoaXMuX2ltYWdlID0gaW1hZ2U7XG5cbiAgICByZXR1cm4gdGhpcy5faW1hZ2U7XG4gIH1cblxuICBkcmF3KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLmJsYW5rKSByZXR1cm47XG5cbiAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcbiAgICBpZiAodGhpcy5pbWFnZSkge1xuICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLmltYWdlLCB4LCB5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3R4LmZpbGxSZWN0KHgsIHksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5tYXRjaGVkKSB7XG4gICAgICB0aGlzLmFwcGx5TWF0Y2hlZFN0eWxlKHRoaXMsIHsgeCwgeSB9KTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc2VsZWN0ZWQpIHtcbiAgICAgIHRoaXMuYXBwbHlTZWxlY3RlZFN0eWxlKHRoaXMsIHsgeCwgeSB9KTtcbiAgICB9IGVsc2UgaWYgKHRoaXMudGFyZ2V0ZWQpIHtcbiAgICAgIHRoaXMuYXBwbHlUYXJnZXRlZFN0eWxlKHRoaXMsIHsgeCwgeSB9KTtcbiAgICB9XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBNb3VzZSB7XG4gIHB1YmxpYyB4ID0gMDtcbiAgcHVibGljIHkgPSAwO1xuICBwdWJsaWMgcHJlc3NlZCA9IGZhbHNlO1xuICBwdWJsaWMgcHJlc3NlZFN0YXJ0UG9zOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH07XG4gIHB1YmxpYyBwcmVzc0NhbGxiYWNrczogKChtb3VzZTogTW91c2UpID0+IHZvaWQpW10gPSBbXTtcbiAgcHVibGljIGRlcHJlc3NDYWxsYmFja3M6ICgobW91c2U6IE1vdXNlKSA9PiB2b2lkKVtdID0gW107XG4gIHB1YmxpYyBtb3ZlQ2FsbGJhY2tzOiAoKG1vdXNlOiBNb3VzZSkgPT4gdm9pZClbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucHJlc3NlZFN0YXJ0UG9zID0geyB4OiB0aGlzLngsIHk6IHRoaXMueSB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5wb3B1bGF0ZUZyb21Nb3VzZUV2ZW50KGV2ZW50KTtcbiAgICAgIHRoaXMucHJlc3NDYWxsYmFja3MuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayh0aGlzKSk7XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5wb3B1bGF0ZUZyb21Nb3VzZUV2ZW50KGV2ZW50KTtcbiAgICAgIHRoaXMubW92ZUNhbGxiYWNrcy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKHRoaXMpKTtcbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5kZXByZXNzQ2FsbGJhY2tzLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2sodGhpcykpOyAvLyB3ZSB3YW50IHRoaXMgb25lIHRvIGhhcHBlbiBiZWZvcmUgdGhlIHJlc2V0XG4gICAgICB0aGlzLnBvcHVsYXRlRnJvbU1vdXNlRXZlbnQoZXZlbnQpO1xuICAgIH0pO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMucG9wdWxhdGVGcm9tVG91Y2hFdmVudChldmVudCk7XG4gICAgICB0aGlzLnByZXNzQ2FsbGJhY2tzLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2sodGhpcykpO1xuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMucG9wdWxhdGVGcm9tVG91Y2hFdmVudChldmVudCk7XG4gICAgICB0aGlzLm1vdmVDYWxsYmFja3MuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayh0aGlzKSk7XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLmRlcHJlc3NDYWxsYmFja3MuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayh0aGlzKSk7IC8vIHdlIHdhbnQgdGhpcyBvbmUgdG8gaGFwcGVuIGJlZm9yZSB0aGUgcmVzZXRcbiAgICAgIHRoaXMucG9wdWxhdGVGcm9tVG91Y2hFdmVudChldmVudCk7XG4gICAgfSk7XG4gIH1cblxuICBnZXQgZHJhZ1ZlY3RvcigpOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0ge1xuICAgIGNvbnN0IHsgeCwgeSB9ID0gdGhpcy5wcmVzc2VkU3RhcnRQb3M7XG4gICAgcmV0dXJuIHRoaXMucHJlc3NlZCA/IHsgeDogdGhpcy54IC0geCwgeTogdGhpcy55IC0geSB9IDogeyB4OiAwLCB5OiAwIH07XG4gIH1cblxuICBnZXQgZHJhZ0RpcmVjdGlvbigpOiAnbm9uZSd8J3VwJ3wnZG93bid8J2xlZnQnfCdyaWdodCcge1xuICAgIGNvbnN0IHsgeCwgeSB9ID0gdGhpcy5kcmFnVmVjdG9yO1xuICAgIGlmICh4ID09PSAwICYmIHkgPT09IDApIHJldHVybiAnbm9uZSc7XG5cbiAgICBpZiAoTWF0aC5hYnMoeCkgPj0gTWF0aC5hYnMoeSkpIHtcbiAgICAgIHJldHVybiB4IDwgMCA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB5IDwgMCA/ICd1cCcgOiAnZG93bic7XG4gICAgfVxuICB9XG5cbiAgb25QcmVzcyhjYWxsYmFjazogKG1vdXNlOiBNb3VzZSkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMucHJlc3NDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gIH1cblxuICBvbkRlcHJlc3MoY2FsbGJhY2s6IChtb3VzZTogTW91c2UpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLmRlcHJlc3NDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gIH1cblxuICBvbk1vdmUoY2FsbGJhY2s6IChtb3VzZTogTW91c2UpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLm1vdmVDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gIH1cblxuICBwb3B1bGF0ZUZyb21Nb3VzZUV2ZW50KGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgdGhpcy54ID0gZXZlbnQueDtcbiAgICB0aGlzLnkgPSBldmVudC55O1xuICAgIGNvbnN0IGFscmVhZHlQcmVzc2VkID0gdGhpcy5wcmVzc2VkO1xuICAgIHRoaXMucHJlc3NlZCA9IGV2ZW50LmJ1dHRvbnMgPT09IDE7XG4gICAgaWYgKHRoaXMucHJlc3NlZCAmJiAhYWxyZWFkeVByZXNzZWQpIHtcbiAgICAgIHRoaXMucHJlc3NlZFN0YXJ0UG9zID0geyB4OiB0aGlzLngsIHk6IHRoaXMueSB9O1xuICAgIH1cbiAgfVxuXG4gIHBvcHVsYXRlRnJvbVRvdWNoRXZlbnQoZXZlbnQ6IFRvdWNoRXZlbnQpOiB2b2lkIHtcbiAgICBjb25zdCB7IHRvdWNoZXMgfSA9IGV2ZW50O1xuICAgIGNvbnN0IGFscmVhZHlQcmVzc2VkID0gdGhpcy5wcmVzc2VkO1xuICAgIGlmICh0b3VjaGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRvdWNoID0gdG91Y2hlc1swXTtcbiAgICAgIHRoaXMueCA9IHRvdWNoLmNsaWVudFg7XG4gICAgICB0aGlzLnkgPSB0b3VjaC5jbGllbnRZO1xuICAgICAgdGhpcy5wcmVzc2VkID0gdHJ1ZTtcbiAgICAgIGlmICghYWxyZWFkeVByZXNzZWQpIHRoaXMucHJlc3NlZFN0YXJ0UG9zID0geyB4OiB0aGlzLngsIHk6IHRoaXMueSB9O1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBtb3VzZSA9IG5ldyBNb3VzZSgpO1xuXG5leHBvcnQgZGVmYXVsdCBtb3VzZTtcbiIsImltcG9ydCB7IHJhbmdlIH0gZnJvbSBcIi4vdXRpbGl0aWVzXCI7XG5cbmV4cG9ydCB0eXBlIFNoYXBlTWFwID0gYm9vbGVhbltdW107XG5cbmZ1bmN0aW9uIHJvdGF0ZTxUPihncmlkOiBUW11bXSk6IFRbXVtdIHtcbiAgY29uc3QgbmV3R3JpZCA9IFtdIGFzIFRbXVtdO1xuICBmb3IgKGxldCByb3dJbmRleCA9IDA7IHJvd0luZGV4IDwgZ3JpZC5sZW5ndGg7IHJvd0luZGV4KyspIHtcbiAgICBjb25zdCByb3cgPSBncmlkW3Jvd0luZGV4XTtcbiAgICBmb3IgKGxldCBjb2xJbmRleCA9IDA7IGNvbEluZGV4IDwgcm93Lmxlbmd0aDsgY29sSW5kZXgrKykge1xuICAgICAgY29uc3QgaXRlbSA9IHJvd1tjb2xJbmRleF07XG4gICAgICBuZXdHcmlkW2NvbEluZGV4XSA9IG5ld0dyaWRbY29sSW5kZXhdIHx8IFtdO1xuICAgICAgbmV3R3JpZFtjb2xJbmRleF0udW5zaGlmdChpdGVtKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ld0dyaWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNoYXBlIHtcbiAgcHVibGljIHZhbHVlOiBudW1iZXI7XG4gIHByaXZhdGUgX21hcCE6IFNoYXBlTWFwO1xuICBwcml2YXRlIF9leHRlbmQhOiBib29sZWFuO1xuICBwcml2YXRlIF9saW5lYXIhOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IFBhcnRpYWw8U2hhcGU+ID0ge30pIHtcbiAgICB0aGlzLnZhbHVlID0gb3B0cy52YWx1ZSB8fCAxO1xuICAgIHRoaXMuZXh0ZW5kID0gb3B0cy5leHRlbmQgfHwgZmFsc2U7XG4gICAgdGhpcy5tYXAgPSBvcHRzLm1hcCB8fCBbW11dO1xuICB9XG5cbiAgc3RhdGljIGZyb21MZW5ndGgobGVuZ3RoOiBudW1iZXIsIHsgdmFsdWUgPSAxLCBvck1vcmUgfTogeyB2YWx1ZT86IG51bWJlcjsgb3JNb3JlPzogYm9vbGVhbiB9ID0ge30pOiBTaGFwZSB7XG4gICAgcmV0dXJuIG5ldyBTaGFwZSh7XG4gICAgICB2YWx1ZSxcbiAgICAgIGV4dGVuZDogISFvck1vcmUsXG4gICAgICBtYXA6IFtyYW5nZShsZW5ndGgsICgpID0+IHRydWUpXSxcbiAgICB9KTtcbiAgfVxuXG4gIGdldCBleHRlbmQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLl9leHRlbmQgJiYgdGhpcy5saW5lYXIgfVxuICBzZXQgZXh0ZW5kKGV4dGVuZDogYm9vbGVhbikgeyB0aGlzLl9leHRlbmQgPSBleHRlbmQgfVxuXG4gIGdldCBtYXAoKTogU2hhcGVNYXAgeyByZXR1cm4gdGhpcy5fbWFwIH1cbiAgc2V0IG1hcChtYXA6IFNoYXBlTWFwKSB7XG4gICAgZGVsZXRlIHRoaXMuX2xpbmVhcjtcbiAgICBjb25zdCByb3dMZW5ndGggPSBtYXAucmVkdWNlKChtYXgsIHsgbGVuZ3RoIH0pID0+IChsZW5ndGggPiBtYXggPyBsZW5ndGggOiBtYXgpLCAwKTtcbiAgICB0aGlzLl9tYXAgPSBtYXAubWFwKChyb3cpID0+IHJhbmdlKHJvd0xlbmd0aCwgaSA9PiAocm93W2ldIHx8IGZhbHNlKSkpO1xuICB9XG5cbiAgZ2V0IGxpbmVhcigpOiBib29sZWFuIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuX2xpbmVhciAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiB0aGlzLl9saW5lYXI7XG5cbiAgICB0aGlzLl9saW5lYXIgPSAodGhpcy5tYXAubGVuZ3RoID09PSAxICYmIHRoaXMubWFwWzBdLmV2ZXJ5KHNwYWNlID0+IHNwYWNlKSlcbiAgICAgIHx8IHRoaXMubWFwLmV2ZXJ5KHJvdyA9PiAocm93Lmxlbmd0aCA9PT0gMSAmJiByb3dbMF0pKTtcblxuICAgIHJldHVybiB0aGlzLl9saW5lYXI7XG4gIH1cblxuICBtYXRjaDxPIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55Pj4oZ3JpZDogT1tdW10sIGZpZWxkOiBrZXlvZiBPLCByb3RhdGlvbiA9IDAsIHNoYXBlTWFwID0gdGhpcy5tYXApOiBPW10ge1xuICAgIGlmIChyb3RhdGlvbiA+IDMpIHJldHVybiBbXTtcblxuICAgIGNvbnN0IG1hdGNoZWQgPSBbXSBhcyBPW107XG4gICAgbGV0IG1hdGNoVmFsdWVTZXQgPSBmYWxzZTtcbiAgICBsZXQgbWF0Y2hWYWx1ZTogT1trZXlvZiBPXTtcblxuICAgIGNvbnN0IGFsbE1hdGNoZWQgPSBzaGFwZU1hcC5ldmVyeSgobWF0Y2hlclJvdywgcm93SW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGdyaWRSb3cgPSBncmlkW3Jvd0luZGV4XTtcbiAgICAgIGlmICghZ3JpZFJvdykgcmV0dXJuIGZhbHNlO1xuXG4gICAgICByZXR1cm4gbWF0Y2hlclJvdy5ldmVyeSgobXVzdE1hdGNoLCBjb2xJbmRleCkgPT4ge1xuICAgICAgICBpZiAoIW11c3RNYXRjaCkgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgY29uc3QgZ3JpZEl0ZW0gPSBncmlkUm93W2NvbEluZGV4XTtcbiAgICAgICAgaWYgKCFncmlkSXRlbSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IGdyaWRWYWx1ZSA9IGdyaWRJdGVtW2ZpZWxkXTtcbiAgICAgICAgaWYgKCFtYXRjaFZhbHVlU2V0KSB7XG4gICAgICAgICAgbWF0Y2hWYWx1ZSA9IGdyaWRWYWx1ZTtcbiAgICAgICAgICBtYXRjaFZhbHVlU2V0ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChncmlkVmFsdWUgIT09IG1hdGNoVmFsdWUpIHJldHVybiBmYWxzZTtcblxuICAgICAgICBtYXRjaGVkLnB1c2goZ3JpZEl0ZW0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGFsbE1hdGNoZWQgPyBtYXRjaGVkIDogdGhpcy5tYXRjaChncmlkLCBmaWVsZCwgcm90YXRpb24gKyAxLCByb3RhdGUoc2hhcGVNYXApKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZGVmYXVsdFNoYXBlcyA9ICgpOiBTaGFwZVtdID0+IFtcbiAgU2hhcGUuZnJvbUxlbmd0aCgzLCB7IHZhbHVlOiAxIH0pLFxuICBTaGFwZS5mcm9tTGVuZ3RoKDQsIHsgdmFsdWU6IDIgfSksXG4gIFNoYXBlLmZyb21MZW5ndGgoNSwgeyB2YWx1ZTogMyB9KSxcbiAgU2hhcGUuZnJvbUxlbmd0aCg2LCB7IHZhbHVlOiA0LCBvck1vcmU6IHRydWUgfSksXG4gIG5ldyBTaGFwZSh7XG4gICAgdmFsdWU6IDUsXG4gICAgbWFwOiBbXG4gICAgICBbdHJ1ZSwgdHJ1ZSwgdHJ1ZV0sXG4gICAgICBbdHJ1ZV0sXG4gICAgICBbdHJ1ZV0sXG4gICAgXSxcbiAgfSksXG4gIG5ldyBTaGFwZSh7XG4gICAgdmFsdWU6IDYsXG4gICAgbWFwOiBbXG4gICAgICBbdHJ1ZSwgdHJ1ZSwgdHJ1ZV0sXG4gICAgICBbZmFsc2UsIHRydWVdLFxuICAgICAgW2ZhbHNlLCB0cnVlXSxcbiAgICBdLFxuICB9KSxcbiAgbmV3IFNoYXBlKHtcbiAgICB2YWx1ZTogNyxcbiAgICBtYXA6IFtcbiAgICAgIFt0cnVlLCB0cnVlXSxcbiAgICAgIFt0cnVlLCB0cnVlXSxcbiAgICBdLFxuICB9KSxcbl07XG4iLCJpbXBvcnQgQm9hcmQgZnJvbSBcIi4uL0JvYXJkXCI7XG5pbXBvcnQgQ2FudmFzVGlsZSBmcm9tIFwiLi9DYW52YXNUaWxlXCI7XG5pbXBvcnQgeyByYW5kLCByYW5nZSB9IGZyb20gXCIuLi91dGlsaXRpZXNcIjtcbmltcG9ydCBtb3VzZSwgeyBNb3VzZSB9IGZyb20gXCIuL21vdXNlXCI7XG5pbXBvcnQgU2hhcGUsIHsgZGVmYXVsdFNoYXBlcyB9IGZyb20gXCIuLi9TaGFwZVwiO1xuXG5leHBvcnQgdHlwZSBTd2FwRGlyZWN0aW9uID0gJ25vbmUnfCd1cCd8J2Rvd24nfCdsZWZ0J3wncmlnaHQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFByZXNlbnRDYW52YXNUaWxlSW5mbyB7XG4gIHJvdzogbnVtYmVyO1xuICBjb2w6IG51bWJlcjtcbiAgdGlsZTogQ2FudmFzVGlsZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCbGFua0NhbnZhc1RpbGVJbmZvIHtcbiAgcm93OiAtMTtcbiAgY29sOiAtMTtcbiAgdGlsZTogbnVsbDtcbn1cblxuZXhwb3J0IHR5cGUgQ2FudmFzVGlsZUluZm8gPSBQcmVzZW50Q2FudmFzVGlsZUluZm8gfCBCbGFua0NhbnZhc1RpbGVJbmZvO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJvYXJkRHJhZ0V2ZW50IHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIGRpc3RhbmNlOiBudW1iZXI7XG4gIGRpcmVjdGlvbjogU3dhcERpcmVjdGlvbjtcbiAgb3JpZ2luOiBQcmVzZW50Q2FudmFzVGlsZUluZm87XG4gIGRlc3RpbmF0aW9uOiBQcmVzZW50Q2FudmFzVGlsZUluZm87XG4gIG1vdXNlOiBNb3VzZTtcbn1cblxuZXhwb3J0IHR5cGUgQm9hcmREcmFnRXZlbnRDYWxsYmFjayA9IChldmVudDogQm9hcmREcmFnRXZlbnQpID0+IHZvaWQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29vcmRQb3NpdGlvbiB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdyaWRQb3NpdGlvbiB7XG4gIHJvdzogbnVtYmVyO1xuICBjb2w6IG51bWJlcjtcbn1cblxuY29uc3QgYmxhbmtDYW52YXNUaWxlSW5mbyA9ICgpOiBCbGFua0NhbnZhc1RpbGVJbmZvID0+ICh7IHJvdzogLTEsIGNvbDogLTEsIHRpbGU6IG51bGwgfSk7XG5cbmNvbnN0IGRpc3RhbmNlQmV0d2VlbiA9IChvcmlnaW46IENvb3JkUG9zaXRpb24sIGRlc3RpbmF0aW9uOiBDb29yZFBvc2l0aW9uKTogbnVtYmVyID0+IHtcbiAgY29uc3QgZHggPSBkZXN0aW5hdGlvbi54IC0gb3JpZ2luLng7XG4gIGNvbnN0IGR5ID0gZGVzdGluYXRpb24ueSAtIG9yaWdpbi55O1xuICByZXR1cm4gTWF0aC5zcXJ0KChkeCAqKiAyKSArIChkeSAqKiAyKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXNCb2FyZCBleHRlbmRzIEJvYXJkPENhbnZhc1RpbGU+IHtcbiAgcHVibGljIHg6IG51bWJlcjtcbiAgcHVibGljIHk6IG51bWJlcjtcbiAgcHVibGljIHdpZHRoOiBudW1iZXI7XG4gIHB1YmxpYyBoZWlnaHQ6IG51bWJlcjtcbiAgcHVibGljIHNlbnNpdGl2aXR5OiBudW1iZXI7XG4gIHB1YmxpYyBkcmFnU3RhcnRDYWxsYmFja3M6IEJvYXJkRHJhZ0V2ZW50Q2FsbGJhY2tbXSA9IFtdO1xuICBwdWJsaWMgZHJhZ0VuZENhbGxiYWNrczogQm9hcmREcmFnRXZlbnRDYWxsYmFja1tdID0gW107XG4gIHB1YmxpYyBkcmFnQ2FsbGJhY2tzOiBCb2FyZERyYWdFdmVudENhbGxiYWNrW10gPSBbXTtcbiAgcHVibGljIHNoYXBlczogU2hhcGVbXTtcbiAgcHVibGljIGFwcGx5U2VsZWN0ZWRTdHlsZTogQ2FudmFzVGlsZVsnYXBwbHlTZWxlY3RlZFN0eWxlJ107XG4gIHB1YmxpYyBhcHBseVRhcmdldGVkU3R5bGU6IENhbnZhc1RpbGVbJ2FwcGx5VGFyZ2V0ZWRTdHlsZSddO1xuICBwdWJsaWMgYXBwbHlNYXRjaGVkU3R5bGU6IENhbnZhc1RpbGVbJ2FwcGx5TWF0Y2hlZFN0eWxlJ107XG4gIHB1YmxpYyBtYXRjaEFuaW1hdGlvbk1zOiBudW1iZXI7XG4gIHByaXZhdGUgZHJhZ09yaWdpbjogQ2FudmFzVGlsZUluZm8gPSBibGFua0NhbnZhc1RpbGVJbmZvKCk7XG4gIHByaXZhdGUgc3RhcnRlZFNldHRsaW5nQXQ/OiBEYXRlO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IFBhcnRpYWw8Q2FudmFzQm9hcmQ+KSB7XG4gICAgc3VwZXIoe1xuICAgICAgLi4ub3B0cyxcbiAgICAgIHRpbGVUeXBlczogb3B0cy50aWxlVHlwZXMgfHwgWydyZWQnLCAnb3JhbmdlJywgJ3llbGxvdycsICdncmVlbicsICdibHVlJ10sXG4gICAgICB0aWxlR2VuZXJhdG9yKCkge1xuICAgICAgICByZXR1cm4gbmV3IENhbnZhc1RpbGUoe1xuICAgICAgICAgIHR5cGU6IHRoaXMudGlsZVR5cGVzW01hdGguZmxvb3IocmFuZCgwLCB0aGlzLnRpbGVUeXBlcy5sZW5ndGgpKV0sXG4gICAgICAgICAgd2lkdGg6IHRoaXMudGlsZVdpZHRoLFxuICAgICAgICAgIGhlaWdodDogdGhpcy50aWxlSGVpZ2h0LFxuICAgICAgICAgIGNvbG9ySXNUeXBlOiB0cnVlLFxuICAgICAgICAgIGFwcGx5U2VsZWN0ZWRTdHlsZTogdGhpcy5hcHBseVNlbGVjdGVkU3R5bGUsXG4gICAgICAgICAgYXBwbHlUYXJnZXRlZFN0eWxlOiB0aGlzLmFwcGx5VGFyZ2V0ZWRTdHlsZSxcbiAgICAgICAgICBhcHBseU1hdGNoZWRTdHlsZTogdGhpcy5hcHBseU1hdGNoZWRTdHlsZSxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy54ID0gb3B0cy54IHx8IDA7XG4gICAgdGhpcy55ID0gb3B0cy55IHx8IDA7XG4gICAgdGhpcy53aWR0aCA9IE1hdGguZmxvb3Iob3B0cy53aWR0aCB8fCB0aGlzLmNvbENvdW50ICogNTApO1xuICAgIHRoaXMuaGVpZ2h0ID0gb3B0cy5oZWlnaHQgfHwgdGhpcy53aWR0aDtcbiAgICB0aGlzLnNlbnNpdGl2aXR5ID0gb3B0cy5zZW5zaXRpdml0eSB8fCAyNTtcbiAgICB0aGlzLnNoYXBlcyA9IG9wdHMuc2hhcGVzIHx8IGRlZmF1bHRTaGFwZXMoKTtcbiAgICB0aGlzLmFwcGx5U2VsZWN0ZWRTdHlsZSA9IG9wdHMuYXBwbHlTZWxlY3RlZFN0eWxlIHx8ICgoKSA9PiB7fSk7XG4gICAgdGhpcy5hcHBseVRhcmdldGVkU3R5bGUgPSBvcHRzLmFwcGx5VGFyZ2V0ZWRTdHlsZSB8fCAoKCkgPT4ge30pO1xuICAgIHRoaXMuYXBwbHlNYXRjaGVkU3R5bGUgPSBvcHRzLmFwcGx5TWF0Y2hlZFN0eWxlIHx8ICgoKSA9PiB7fSk7XG4gICAgdGhpcy5tYXRjaEFuaW1hdGlvbk1zID0gb3B0cy5tYXRjaEFuaW1hdGlvbk1zIHx8IDI1MDtcblxuICAgIG1vdXNlLm9uUHJlc3ModGhpcy5ydW5EcmFnU3RhcnRDYWxsYmFja3MuYmluZCh0aGlzKSk7XG4gICAgbW91c2Uub25EZXByZXNzKHRoaXMucnVuRHJhZ0VuZENhbGxiYWNrcy5iaW5kKHRoaXMpKTtcbiAgICBtb3VzZS5vbk1vdmUodGhpcy5ydW5EcmFnQ2FsbGJhY2tzLmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5yb3dzID0gdGhpcy5uZXdSb3dzKCk7XG4gIH1cblxuICBnZXQgdGlsZVdpZHRoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMud2lkdGggLyB0aGlzLmNvbENvdW50O1xuICB9XG5cbiAgZ2V0IHRpbGVIZWlnaHQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5oZWlnaHQgLyB0aGlzLnJvd0NvdW50O1xuICB9XG5cbiAgZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIGNvbnN0IHNldHRsaW5nID0gdGhpcy5jaGVja1NldHRsZSgpO1xuICAgIGNvbnN0IG1zU2luY2VTZXR0bGUgPSB0aGlzLnN0YXJ0ZWRTZXR0bGluZ0F0ID8gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLnN0YXJ0ZWRTZXR0bGluZ0F0LmdldFRpbWUoKSA6IDA7XG4gICAgY29uc3QgZmFsbFRpbWVNcyA9IDEwMDtcbiAgICBjb25zdCBkeSA9IChtc1NpbmNlU2V0dGxlIC8gZmFsbFRpbWVNcykgKiB0aGlzLnRpbGVIZWlnaHQ7XG4gICAgY29uc3QgaXRzU3dhcFRpbWVCcnVoID0gbXNTaW5jZVNldHRsZSA+IGZhbGxUaW1lTXM7XG4gICAgaWYgKGl0c1N3YXBUaW1lQnJ1aCkgZGVsZXRlIHRoaXMuc3RhcnRlZFNldHRsaW5nQXQ7XG5cbiAgICBjb25zdCB0aWxlc1RvU3dhcCA9IFtdIGFzIFtHcmlkUG9zaXRpb24sIEdyaWRQb3NpdGlvbl1bXTtcbiAgICB0aGlzLnJvd3MuZm9yRWFjaCgocm93LCByb3dJbmRleCkgPT4ge1xuICAgICAgcm93LmZvckVhY2goKHRpbGUsIHRpbGVJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB4ID0gdGhpcy54ICsgKHRpbGVJbmRleCAqIHRpbGUud2lkdGgpO1xuICAgICAgICBsZXQgeSA9IHRoaXMueSArIChyb3dJbmRleCAqIHRpbGUuaGVpZ2h0KTtcbiAgICAgICAgaWYgKHNldHRsaW5nICYmICF0aWxlLmJsYW5rKSB7XG4gICAgICAgICAgY29uc3QgcG9zaXRpb24gPSB7IHJvdzogcm93SW5kZXgsIGNvbDogdGlsZUluZGV4IH07XG4gICAgICAgICAgY29uc3QgYmVsb3cgPSB0aGlzLmFkamFjZW50VGlsZShwb3NpdGlvbiwgJ2Rvd24nKTtcbiAgICAgICAgICBpZiAoYmVsb3cudGlsZSAmJiBiZWxvdy50aWxlLmJsYW5rKSB7XG4gICAgICAgICAgICB5ICs9IGR5O1xuICAgICAgICAgICAgaWYgKGl0c1N3YXBUaW1lQnJ1aCkgdGlsZXNUb1N3YXAucHVzaChbcG9zaXRpb24sIGJlbG93XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRpbGUuZHJhdyhjdHgsIHgsIHkpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0aWxlc1RvU3dhcC5mb3JFYWNoKChbb3JpZ2luLCBiZWxvd10pID0+IHRoaXMuc3dhcFRpbGUob3JpZ2luLCBiZWxvdykpO1xuICB9XG5cbiAgdXBkYXRlKCk6IHZvaWQge1xuICAgIHRoaXMucm93c1swXSA9IHRoaXMucm93c1swXS5tYXAodGlsZSA9PiAodGlsZS5ibGFuayA/IHRoaXMudGlsZUdlbmVyYXRvcigpIDogdGlsZSkpO1xuICAgIGNvbnN0IHN0aWxsR29ubmFTZXR0bGUgPSB0aGlzLnJvd3Muc2xpY2UoMSkuc29tZSgocm93KSA9PiByb3cuc29tZSh0aWxlID0+IHRpbGUuYmxhbmspKTtcbiAgICBpZiAoc3RpbGxHb25uYVNldHRsZSkgcmV0dXJuO1xuXG4gICAgY29uc3QgbWF0Y2hlZFNoYXBlcyA9IHRoaXMubWF0Y2hTaGFwZXMoKTtcbiAgICBtYXRjaGVkU2hhcGVzLmZvckVhY2goKHsgc2hhcGUsIHRpbGVzIH0pID0+IHtcbiAgICAgIHRpbGVzLmZvckVhY2godGlsZSA9PiB7XG4gICAgICAgIHRpbGUubWF0Y2hlZCA9IHRydWU7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRpbGUuYmxhbmsgPSB0cnVlO1xuICAgICAgICB9LCB0aGlzLm1hdGNoQW5pbWF0aW9uTXMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBjaGVja1NldHRsZSgpOiBib29sZWFuIHtcbiAgICBjb25zdCBzZXR0bGluZyA9IHRoaXMudGlsZXMuc29tZSh0aWxlID0+IHRpbGUuYmxhbmspO1xuXG4gICAgaWYgKHNldHRsaW5nKSB7XG4gICAgICBpZiAoIXRoaXMuc3RhcnRlZFNldHRsaW5nQXQpIHRoaXMuc3RhcnRlZFNldHRsaW5nQXQgPSBuZXcgRGF0ZSgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZGVsZXRlIHRoaXMuc3RhcnRlZFNldHRsaW5nQXQ7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdGlsZUF0KHBvczogQ29vcmRQb3NpdGlvbnxHcmlkUG9zaXRpb24pOiBDYW52YXNUaWxlSW5mbyB7XG4gICAgaWYgKCdyb3cnIGluIHBvcykge1xuICAgICAgY29uc3QgeyByb3csIGNvbCB9ID0gcG9zO1xuICAgICAgY29uc3QgdGlsZSA9IHRoaXMucm93c1tyb3ddW2NvbF07XG4gICAgICByZXR1cm4gdGlsZSA/IHsgcm93LCBjb2wsIHRpbGUgfSA6IGJsYW5rQ2FudmFzVGlsZUluZm8oKTtcbiAgICB9XG5cbiAgICBjb25zdCB4ID0gcG9zLnggLSB0aGlzLng7XG4gICAgY29uc3QgeSA9IHBvcy55IC0gdGhpcy55O1xuICAgIGlmICh4ID4gdGhpcy53aWR0aCB8fCB5ID4gdGhpcy5oZWlnaHQpIHJldHVybiBibGFua0NhbnZhc1RpbGVJbmZvKCk7XG5cbiAgICBjb25zdCBmcmFjdGlvblggPSB4IC8gdGhpcy53aWR0aDtcbiAgICBjb25zdCBmcmFjdGlvblkgPSB5IC8gdGhpcy5oZWlnaHQ7XG4gICAgY29uc3Qgcm93ID0gTWF0aC5mbG9vcihmcmFjdGlvblkgKiB0aGlzLnJvd0NvdW50KTtcbiAgICBjb25zdCBjb2wgPSBNYXRoLmZsb29yKGZyYWN0aW9uWCAqIHRoaXMuY29sQ291bnQpO1xuICAgIGNvbnN0IHRpbGUgPSB0aGlzLnJvd3Nbcm93XVtjb2xdO1xuICAgIHJldHVybiB7IHJvdywgY29sLCB0aWxlIH07XG4gIH1cblxuICB0aWxlQ2VudGVyKHRpbGVJbmZvOiBDYW52YXNUaWxlSW5mbyk6IENvb3JkUG9zaXRpb24ge1xuICAgIGNvbnN0IHsgcm93LCBjb2wsIHRpbGUgfSA9IHRpbGVJbmZvO1xuICAgIGlmICghdGlsZSkgcmV0dXJuIHsgeDogLTEsIHk6IC0xIH07XG5cbiAgICBjb25zdCB4ID0gdGhpcy54ICsgKGNvbCAqIHRpbGUuaGVpZ2h0KSArICh0aWxlLmhlaWdodCAvIDIpO1xuICAgIGNvbnN0IHkgPSB0aGlzLnkgKyAocm93ICogdGlsZS53aWR0aCkgKyAodGlsZS53aWR0aCAvIDIpO1xuICAgIHJldHVybiB7IHgsIHkgfTtcbiAgfVxuXG4gIHN3YXBUaWxlKGZyb206IENvb3JkUG9zaXRpb258R3JpZFBvc2l0aW9uLCB0bzogU3dhcERpcmVjdGlvbnxDb29yZFBvc2l0aW9ufEdyaWRQb3NpdGlvbik6IHZvaWQge1xuICAgIGlmICh0eXBlb2YgdG8gPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLnN3YXBUaWxlSW5EaXJlY3Rpb24oZnJvbSwgdG8pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN3YXBUaWxlV2l0aFRpbGUoZnJvbSwgdG8pO1xuICAgIH1cbiAgfVxuXG4gIG9uRHJhZ1N0YXJ0KGNhbGxiYWNrOiAoZXZlbnQ6IEJvYXJkRHJhZ0V2ZW50KSA9PiB2b2lkKTogbnVtYmVyIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuZHJhZ1N0YXJ0Q2FsbGJhY2tzLmxlbmd0aDtcbiAgICB0aGlzLmRyYWdTdGFydENhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICByZW1vdmVEcmFnU3RhcnRMaXN0ZW5lcihpZDogbnVtYmVyKTogdm9pZCB7XG4gICAgZGVsZXRlIHRoaXMuZHJhZ1N0YXJ0Q2FsbGJhY2tzW2lkXTtcbiAgfVxuXG4gIG9uRHJhZ0VuZChjYWxsYmFjazogKGV2ZW50OiBCb2FyZERyYWdFdmVudCkgPT4gdm9pZCk6IG51bWJlciB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmRyYWdFbmRDYWxsYmFja3MubGVuZ3RoO1xuICAgIHRoaXMuZHJhZ0VuZENhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICByZW1vdmVEcmFnRW5kTGlzdGVuZXIoaWQ6IG51bWJlcik6IHZvaWQge1xuICAgIGRlbGV0ZSB0aGlzLmRyYWdFbmRDYWxsYmFja3NbaWRdO1xuICB9XG5cbiAgb25EcmFnKGNhbGxiYWNrOiAoZXZlbnQ6IEJvYXJkRHJhZ0V2ZW50KSA9PiB2b2lkKTogbnVtYmVyIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuZHJhZ0NhbGxiYWNrcy5sZW5ndGg7XG4gICAgdGhpcy5kcmFnQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIHJlbW92ZURyYWdMaXN0ZW5lcihpZDogbnVtYmVyKTogdm9pZCB7XG4gICAgZGVsZXRlIHRoaXMuZHJhZ0NhbGxiYWNrc1tpZF07XG4gIH1cblxuICBhZGphY2VudFNwYWNlKG9yaWdpbjogQ29vcmRQb3NpdGlvbnxHcmlkUG9zaXRpb24sIGRpcmVjdGlvbjogU3dhcERpcmVjdGlvbik6IEdyaWRQb3NpdGlvbiB7XG4gICAgY29uc3QgeyByb3csIGNvbCB9ID0gJ3JvdycgaW4gb3JpZ2luID8gb3JpZ2luIDogdGhpcy50aWxlQXQob3JpZ2luKTtcbiAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICAgICAgY2FzZSAndXAnOiByZXR1cm4geyByb3c6IHJvdyAtIDEsIGNvbCB9O1xuICAgICAgY2FzZSAnZG93bic6IHJldHVybiB7IHJvdzogcm93ICsgMSwgY29sIH07XG4gICAgICBjYXNlICdsZWZ0JzogcmV0dXJuIHsgcm93LCBjb2w6IGNvbCAtIDEgfTtcbiAgICAgIGNhc2UgJ3JpZ2h0JzogcmV0dXJuIHsgcm93LCBjb2w6IGNvbCArIDEgfTtcbiAgICAgIGRlZmF1bHQ6IHJldHVybiB7IHJvdywgY29sIH07XG4gICAgfVxuICB9XG5cbiAgYWRqYWNlbnRUaWxlKG9yaWdpbjogQ2FudmFzVGlsZUluZm98Q29vcmRQb3NpdGlvbnxHcmlkUG9zaXRpb24sIGRpcmVjdGlvbjogU3dhcERpcmVjdGlvbik6IENhbnZhc1RpbGVJbmZvIHtcbiAgICBjb25zdCB7IHJvdywgY29sIH0gPSB0aGlzLmFkamFjZW50U3BhY2Uob3JpZ2luLCBkaXJlY3Rpb24pO1xuICAgIGNvbnN0IHRpbGUgPSB0aGlzLnJvd3Nbcm93XSAmJiB0aGlzLnJvd3Nbcm93XVtjb2xdO1xuICAgIHJldHVybiB0aWxlID8geyByb3csIGNvbCwgdGlsZSB9IDogYmxhbmtDYW52YXNUaWxlSW5mbygpO1xuICB9XG5cbiAgcmVtb3ZlVGlsZSh0aWxlOiBDYW52YXNUaWxlKTogdm9pZCB7XG4gICAgdGlsZS5ibGFuayA9IHRydWU7XG4gIH1cblxuICBtYXRjaFNoYXBlcygpOiB7IHNoYXBlOiBTaGFwZTsgdGlsZXM6IENhbnZhc1RpbGVbXSB9W10ge1xuICAgIHJldHVybiByYW5nZSh0aGlzLmNvbENvdW50KS5yZWR1Y2UoKG1lbW8sIGNvbEluZGV4KSA9PiB7XG4gICAgICB0aGlzLnNoYXBlcy5mb3JFYWNoKChzaGFwZSkgPT4ge1xuICAgICAgICB0aGlzLnJvd3MuZm9yRWFjaCgoX3Jvdywgcm93SW5kZXgpID0+IHtcbiAgICAgICAgICBjb25zdCBuZXdHcmlkID0gdGhpcy5yb3dzLnNsaWNlKHJvd0luZGV4KS5tYXAocm93ID0+IHJvdy5zbGljZShjb2xJbmRleCkpO1xuICAgICAgICAgIGNvbnN0IHRpbGVzID0gc2hhcGUubWF0Y2gobmV3R3JpZCwgJ3R5cGUnKTtcbiAgICAgICAgICBpZiAodGlsZXMubGVuZ3RoKSBtZW1vLnB1c2goeyBzaGFwZSwgdGlsZXMgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9LCBbXSBhcyB7IHNoYXBlOiBTaGFwZTsgdGlsZXM6IENhbnZhc1RpbGVbXSB9W10pO1xuICB9XG5cbiAgcHJpdmF0ZSBzd2FwVGlsZVdpdGhUaWxlKGZyb206IENvb3JkUG9zaXRpb258R3JpZFBvc2l0aW9uLCB0bzogQ29vcmRQb3NpdGlvbnxHcmlkUG9zaXRpb24pOiB2b2lkIHtcbiAgICBjb25zdCBvcmlnaW4gPSB0aGlzLnRpbGVBdChmcm9tKTtcbiAgICBpZiAoIW9yaWdpbi50aWxlKSByZXR1cm47XG5cbiAgICBjb25zdCBkZXN0aW5hdGlvbiA9IHRoaXMudGlsZUF0KHRvKTtcbiAgICBpZiAoIWRlc3RpbmF0aW9uLnRpbGUpIHJldHVybjtcblxuICAgIHRoaXMucm93c1tkZXN0aW5hdGlvbi5yb3ddW2Rlc3RpbmF0aW9uLmNvbF0gPSBvcmlnaW4udGlsZTtcbiAgICB0aGlzLnJvd3Nbb3JpZ2luLnJvd11bb3JpZ2luLmNvbF0gPSBkZXN0aW5hdGlvbi50aWxlO1xuICB9XG5cbiAgcHJpdmF0ZSBzd2FwVGlsZUluRGlyZWN0aW9uKGZyb206IENvb3JkUG9zaXRpb258R3JpZFBvc2l0aW9uLCBkaXJlY3Rpb246IFN3YXBEaXJlY3Rpb24pOiB2b2lkIHtcbiAgICBjb25zdCBvcmlnaW4gPSB0aGlzLnRpbGVBdChmcm9tKTtcbiAgICBpZiAoIW9yaWdpbi50aWxlKSByZXR1cm47XG5cbiAgICBjb25zdCBkZXN0aW5hdGlvbiA9IHRoaXMuYWRqYWNlbnRUaWxlKG9yaWdpbiwgZGlyZWN0aW9uKTtcbiAgICBpZiAoIWRlc3RpbmF0aW9uLnRpbGUpIHJldHVybjtcblxuICAgIHRoaXMucm93c1tkZXN0aW5hdGlvbi5yb3ddW2Rlc3RpbmF0aW9uLmNvbF0gPSBvcmlnaW4udGlsZTtcbiAgICB0aGlzLnJvd3Nbb3JpZ2luLnJvd11bb3JpZ2luLmNvbF0gPSBkZXN0aW5hdGlvbi50aWxlO1xuICB9XG5cbiAgcHJpdmF0ZSBjbGVhckV4aXN0aW5nRHJhZ0ZsYWdzKCk6IHZvaWQge1xuICAgIHRoaXMudGlsZXMuZm9yRWFjaCgodGlsZSkgPT4ge1xuICAgICAgdGlsZS5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgdGlsZS50YXJnZXRlZCA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXREcmFnU3RhcnRGbGFncyh0aWxlSW5mbzogUHJlc2VudENhbnZhc1RpbGVJbmZvKTogdm9pZCB7XG4gICAgdGhpcy5jbGVhckV4aXN0aW5nRHJhZ0ZsYWdzKCk7XG4gICAgdGlsZUluZm8udGlsZS5zZWxlY3RlZCA9IHRydWU7XG4gICAgdGlsZUluZm8udGlsZS50YXJnZXRlZCA9IHRydWU7XG4gIH1cblxuICBwcml2YXRlIHNldERyYWdFbmRGbGFncygpOiB2b2lkIHtcbiAgICB0aGlzLmNsZWFyRXhpc3RpbmdEcmFnRmxhZ3MoKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0RHJhZ0ZsYWdzKG9yaWdpbjogUHJlc2VudENhbnZhc1RpbGVJbmZvLCBkZXN0aW5hdGlvbjogUHJlc2VudENhbnZhc1RpbGVJbmZvKTogdm9pZCB7XG4gICAgdGhpcy5jbGVhckV4aXN0aW5nRHJhZ0ZsYWdzKCk7XG4gICAgb3JpZ2luLnRpbGUuc2VsZWN0ZWQgPSB0cnVlO1xuICAgIGRlc3RpbmF0aW9uLnRpbGUudGFyZ2V0ZWQgPSB0cnVlO1xuICB9XG5cbiAgcHJpdmF0ZSBydW5EcmFnU3RhcnRDYWxsYmFja3MobW91c2U6IE1vdXNlKTogdm9pZCB7XG4gICAgY29uc3QgeyB4LCB5IH0gPSBtb3VzZTtcbiAgICBjb25zdCBvcmlnaW4gPSB0aGlzLnRpbGVBdCh7IHgsIHkgfSk7XG4gICAgaWYgKCFvcmlnaW4udGlsZSkgcmV0dXJuO1xuXG4gICAgdGhpcy5kcmFnT3JpZ2luID0gb3JpZ2luO1xuICAgIHRoaXMuc2V0RHJhZ1N0YXJ0RmxhZ3ModGhpcy5kcmFnT3JpZ2luKTtcbiAgICBjb25zdCBkaXN0YW5jZSA9IGRpc3RhbmNlQmV0d2Vlbihtb3VzZSwgdGhpcy50aWxlQ2VudGVyKG9yaWdpbikpO1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IG1vdXNlLmRyYWdEaXJlY3Rpb247XG4gICAgY29uc3QgZGVzdGluYXRpb24gPSBvcmlnaW47XG5cbiAgICB0aGlzLmRyYWdTdGFydENhbGxiYWNrcy5mb3JFYWNoKChjYWxsYmFjaykgPT4ge1xuICAgICAgY2FsbGJhY2soeyB4LCB5LCBkaXN0YW5jZSwgZGlyZWN0aW9uLCBvcmlnaW4sIGRlc3RpbmF0aW9uLCBtb3VzZSB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcnVuRHJhZ0VuZENhbGxiYWNrcyhtb3VzZTogTW91c2UpOiB2b2lkIHtcbiAgICBjb25zdCBvcmlnaW4gPSB0aGlzLmRyYWdPcmlnaW47XG4gICAgaWYgKCFvcmlnaW4udGlsZSkgcmV0dXJuO1xuXG4gICAgY29uc3QgeyB4LCB5IH0gPSBtb3VzZTtcbiAgICBjb25zdCBkaXN0YW5jZSA9IGRpc3RhbmNlQmV0d2Vlbihtb3VzZSwgdGhpcy50aWxlQ2VudGVyKG9yaWdpbikpO1xuICAgIGNvbnN0IG1vdmVUbyA9IGRpc3RhbmNlID4gdGhpcy5zZW5zaXRpdml0eSA/IHRoaXMuYWRqYWNlbnRUaWxlKG9yaWdpbiwgbW91c2UuZHJhZ0RpcmVjdGlvbikgOiBvcmlnaW47XG4gICAgY29uc3QgZGVzdGluYXRpb24gPSBtb3ZlVG8udGlsZSA/IG1vdmVUbyA6IG9yaWdpbjtcbiAgICBjb25zdCBkaXJlY3Rpb24gPSBtb3VzZS5kcmFnRGlyZWN0aW9uO1xuICAgIHRoaXMuc2V0RHJhZ0VuZEZsYWdzKCk7XG5cbiAgICB0aGlzLmRyYWdFbmRDYWxsYmFja3MuZm9yRWFjaCgoY2FsbGJhY2spID0+IHtcbiAgICAgIGNhbGxiYWNrKHsgeCwgeSwgZGlzdGFuY2UsIGRpcmVjdGlvbiwgb3JpZ2luLCBkZXN0aW5hdGlvbiwgbW91c2UgfSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmRyYWdPcmlnaW4gPSBibGFua0NhbnZhc1RpbGVJbmZvKCk7XG4gIH1cblxuICBwcml2YXRlIHJ1bkRyYWdDYWxsYmFja3MobW91c2U6IE1vdXNlKTogdm9pZCB7XG4gICAgY29uc3Qgb3JpZ2luID0gdGhpcy5kcmFnT3JpZ2luO1xuICAgIGlmICghb3JpZ2luLnRpbGUpIHJldHVybjtcblxuICAgIGNvbnN0IHsgeCwgeSwgcHJlc3NlZCB9ID0gbW91c2U7XG4gICAgaWYgKCFwcmVzc2VkKSByZXR1cm47XG5cbiAgICBjb25zdCBkaXN0YW5jZSA9IGRpc3RhbmNlQmV0d2Vlbihtb3VzZSwgdGhpcy50aWxlQ2VudGVyKG9yaWdpbikpO1xuICAgIGNvbnN0IG1vdmVUbyA9IGRpc3RhbmNlID4gdGhpcy5zZW5zaXRpdml0eSA/IHRoaXMuYWRqYWNlbnRUaWxlKG9yaWdpbiwgbW91c2UuZHJhZ0RpcmVjdGlvbikgOiBvcmlnaW47XG4gICAgY29uc3QgZGVzdGluYXRpb24gPSBtb3ZlVG8udGlsZSA/IG1vdmVUbyA6IG9yaWdpbjtcbiAgICBjb25zdCBkaXJlY3Rpb24gPSBtb3VzZS5kcmFnRGlyZWN0aW9uO1xuICAgIHRoaXMuc2V0RHJhZ0ZsYWdzKG9yaWdpbiwgZGVzdGluYXRpb24pO1xuXG4gICAgdGhpcy5kcmFnQ2FsbGJhY2tzLmZvckVhY2goKGNhbGxiYWNrKSA9PiB7XG4gICAgICBjYWxsYmFjayh7IHgsIHksIGRpc3RhbmNlLCBkaXJlY3Rpb24sIG9yaWdpbiwgZGVzdGluYXRpb24sIG1vdXNlIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbih3aW5kb3cgYXMgYW55KS5kZWZhdWx0U2hhcGVzID0gZGVmYXVsdFNoYXBlcztcbiIsImltcG9ydCBnYW1lTG9vcCBmcm9tIFwiLi9nYW1lL2dhbWVMb29wXCI7XG5pbXBvcnQgeyBjdHggfSBmcm9tIFwiLi9nYW1lL2NhbnZhc1wiO1xuaW1wb3J0IENhbnZhc0JvYXJkLCB7IENvb3JkUG9zaXRpb24gfSBmcm9tIFwiLi9nYW1lL0NhbnZhc0JvYXJkXCI7XG5pbXBvcnQgQ2FudmFzVGlsZSBmcm9tIFwiLi9nYW1lL0NhbnZhc1RpbGVcIjtcblxuY29uc3QgTUFUQ0hfQU5JTUFUSU9OX01TID0gMjUwO1xuXG5jb25zdCBhcHBseVNlbGVjdGVkU3R5bGUgPSAodGlsZTogQ2FudmFzVGlsZSwgeyB4LCB5IH06IENvb3JkUG9zaXRpb24pOiB2b2lkID0+IHtcbiAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aWxlO1xuICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC41KSc7XG4gIGN0eC5maWxsUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbn07XG5cbmNvbnN0IGFwcGx5VGFyZ2V0ZWRTdHlsZSA9ICh0aWxlOiBDYW52YXNUaWxlLCB7IHgsIHkgfTogQ29vcmRQb3NpdGlvbik6IHZvaWQgPT4ge1xuICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRpbGU7XG4gIGNvbnN0IG1pbGxpcyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICBjb25zdCBwdWxzZU1zID0gMjUwO1xuICBjb25zdCBtaW5TdHJva2UgPSAyO1xuICBjb25zdCBtYXhTdHJva2UgPSA1O1xuICBjb25zdCBzdHJva2VXaWR0aCA9IG1pblN0cm9rZSArIChNYXRoLnNpbigobWlsbGlzIC8gcHVsc2VNcykgJSBNYXRoLlBJKSAqIChtYXhTdHJva2UgLSBtaW5TdHJva2UpKTtcbiAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOSknO1xuICBjdHguZmlsbFJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gIGN0eC5maWxsU3R5bGUgPSB0aWxlLmNvbG9yO1xuICBjdHguZmlsbFJlY3QoeCArIHN0cm9rZVdpZHRoLCB5ICsgc3Ryb2tlV2lkdGgsIHdpZHRoIC0gKHN0cm9rZVdpZHRoICogMiksIGhlaWdodCAtIChzdHJva2VXaWR0aCAqIDIpKTtcbn07XG5cbmNvbnN0IGFwcGx5TWF0Y2hlZFN0eWxlID0gKHRpbGU6IENhbnZhc1RpbGUsIHsgeCwgeSB9OiBDb29yZFBvc2l0aW9uKTogdm9pZCA9PiB7XG4gIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgY29sb3IgfSA9IHRpbGU7XG4gIGlmICghdGlsZS5tYXRjaGVkQXQpIHJldHVybjtcblxuICBjb25zdCBtc1NpbmNlTWF0Y2ggPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHRpbGUubWF0Y2hlZEF0LmdldFRpbWUoKTtcbiAgY29uc3QgcGVyY2VudERvbmUgPSBtc1NpbmNlTWF0Y2ggPiBNQVRDSF9BTklNQVRJT05fTVMgPyAxIDogbXNTaW5jZU1hdGNoIC8gTUFUQ0hfQU5JTUFUSU9OX01TO1xuICBjb25zdCBob3Jpem9udGFsID0gcGVyY2VudERvbmUgKiAod2lkdGggLyAyKTtcbiAgY29uc3QgdmVydGljYWwgPSBwZXJjZW50RG9uZSAqIChoZWlnaHQgLyAyKTtcbiAgY3R4LmZpbGxTdHlsZSA9ICcjRkZGJztcbiAgY3R4LmZpbGxSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICBjdHguZmlsbFN0eWxlID0gY29sb3I7XG4gIGN0eC5maWxsUmVjdCh4ICsgaG9yaXpvbnRhbCwgeSArIHZlcnRpY2FsLCB3aWR0aCAtIChob3Jpem9udGFsICogMiksIGhlaWdodCAtICh2ZXJ0aWNhbCAqIDIpKTtcbn07XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zdCBib2FyZCA9IG5ldyBDYW52YXNCb2FyZCh7XG4gICAgd2lkdGg6IE1hdGgubWluKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQsIDUwMCksXG4gICAgcm93Q291bnQ6IDEwLFxuICAgIGNvbENvdW50OiAxMCxcbiAgICBtYXRjaEFuaW1hdGlvbk1zOiBNQVRDSF9BTklNQVRJT05fTVMsXG4gICAgYXBwbHlTZWxlY3RlZFN0eWxlLFxuICAgIGFwcGx5VGFyZ2V0ZWRTdHlsZSxcbiAgICBhcHBseU1hdGNoZWRTdHlsZSxcbiAgfSk7XG5cbiAgYm9hcmQub25EcmFnRW5kKChldmVudCkgPT4ge1xuICAgIGJvYXJkLnN3YXBUaWxlKGV2ZW50Lm9yaWdpbiwgZXZlbnQuZGVzdGluYXRpb24pO1xuICAgIGNvbnN0IHNoYXBlcyA9IGJvYXJkLm1hdGNoU2hhcGVzKCk7XG4gICAgaWYgKCFzaGFwZXMubGVuZ3RoKSBib2FyZC5zd2FwVGlsZShldmVudC5vcmlnaW4sIGV2ZW50LmRlc3RpbmF0aW9uKTtcbiAgfSk7XG5cbiAgZ2FtZUxvb3AoY3R4LCAoX2xvb3BDb3VudCkgPT4ge1xuICAgIGJvYXJkLmRyYXcoY3R4KTtcbiAgICBib2FyZC51cGRhdGUoKTtcbiAgfSk7XG5cbiAgKHdpbmRvdyBhcyBhbnkpLmJvYXJkID0gYm9hcmQ7XG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=