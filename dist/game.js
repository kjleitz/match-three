!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";function r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r="number"==typeof e[0]?e[0]:0,i="function"==typeof e[0]?e[0]:e[1],o=t<r?[t,r]:[r,t],a=o[0],s=o[1]-a,l=Array(s),c=0;c<s;c++)l[c]=i?i(c+a):c+a;return l}n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i}));var i=function(t,e){var n=t<e?[t,e]:[e,t],r=n[0],i=n[1]-r;return r+Math.random()*i}},function(t,e,n){"use strict";var r=function(t){if(void 0===t&&(t={}),this.type="",Object.assign(this,t),!this.type)throw new Error("Tiles must have a type.")};e.a=r},function(t,e,n){"use strict";var r=n(1),i=n(0),o=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},a=function(){function t(t){this.rowCount=10,this.colCount=10,this.tileTypes=["a","b","c","d"],this.tileClass=r.a,Object.assign(this,t),this.tileGenerator=t.tileGenerator,this.rows=this.newRows()}return Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows},set:function(t){if(!t.every((function(e){return t[0].length===e.length})))throw new Error("Rows must all be the same length");this._rows=t,delete this._columns,this.rowCount=t.length,this.colCount=t[0].length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns?this._columns:(this._columns=this.rows.reduce((function(t,e){return e.forEach((function(e,n){t[n]=o(t[n]||[],[e])})),t}),[]),this._columns)},set:function(t){if(!t.every((function(e){return t[0].length===e.length})))throw new Error("Columns must all be the same length");this.rows=t.reduce((function(t,e){return e.forEach((function(e,n){t[n]=o(t[n]||[],[e])})),t}),[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tiles",{get:function(){return this.rows.reduce((function(t,e){return o(t,e)}),[])},enumerable:!0,configurable:!0}),t.prototype.newRows=function(){var t=this;return Object(i.b)(this.rowCount,(function(){return Object(i.b)(t.colCount,(function(){return t.tileGenerator()}))}))},t}();e.a=a},,function(t,e,n){"use strict";n.r(e);var r=function(t,e,n){void 0===n&&(n=0),requestAnimationFrame((function(){return r(t,e,n+1)})),t.clearRect(0,0,window.innerWidth,window.innerHeight),e(n)},i=r,o=document.createElement("canvas"),a=function(){o.width=window.innerWidth,o.height=window.innerHeight};a(),window.addEventListener("resize",a),document.body.appendChild(o);var s=o.getContext("2d");s||console.error("Canvas '2d' context is not supported.");var l,c=n(2),u=n(1),h=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(e){var n=t.call(this,{type:e.colorIsType&&(e.type||e.color)||e.imgUrlIsType&&(e.type||e.imgUrl)||e.type})||this;return n.width=50,n.height=50,n.color="transparent",n.selected=!1,n.targeted=!1,n.matchedAt=null,n.blank=!1,n._imgUrl="",n.width=e.width||n.width,n.height=e.height||n.height,n.color=e.colorIsType&&e.type||e.color||n.color,n.blank=e.blank||n.blank,n._imgUrl=e.imgUrlIsType&&e.type||e.imgUrl||n._imgUrl,n.applySelectedStyle=e.applySelectedStyle||function(){},n.applyTargetedStyle=e.applyTargetedStyle||function(){},n.applyMatchedStyle=e.applyMatchedStyle||function(){},n}return h(e,t),Object.defineProperty(e.prototype,"matched",{get:function(){return!!this.matchedAt},set:function(t){this.matchedAt=t?this.matchedAt||new Date:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imgUrl",{get:function(){return this._imgUrl},set:function(t){this._imgUrl=t,delete this._image},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"image",{get:function(){if(this._image)return this.image;if(!this.imgUrl)return null;var t=document.createElement("img");return t.src=this.imgUrl,t.width=this.width,t.height=this.height,this._image=t,this._image},enumerable:!0,configurable:!0}),e.prototype.draw=function(t,e,n){this.blank||(t.fillStyle=this.color,this.image?t.drawImage(this.image,e,n):t.fillRect(e,n,this.width,this.height),this.matched?this.applyMatchedStyle(this,{x:e,y:n}):this.selected?this.applySelectedStyle(this,{x:e,y:n}):this.targeted&&this.applyTargetedStyle(this,{x:e,y:n}))},e}(u.a),f=n(0),d=new(function(){function t(){var t=this;this.x=0,this.y=0,this.pressed=!1,this.pressCallbacks=[],this.depressCallbacks=[],this.moveCallbacks=[],this.pressedStartPos={x:this.x,y:this.y},window.addEventListener("mousedown",(function(e){t.populateFromMouseEvent(e),t.pressCallbacks.forEach((function(e){return e(t)}))})),window.addEventListener("mousemove",(function(e){t.populateFromMouseEvent(e),t.moveCallbacks.forEach((function(e){return e(t)}))})),window.addEventListener("mouseup",(function(e){t.depressCallbacks.forEach((function(e){return e(t)})),t.populateFromMouseEvent(e)})),window.addEventListener("touchstart",(function(e){t.populateFromTouchEvent(e),t.pressCallbacks.forEach((function(e){return e(t)}))})),window.addEventListener("touchmove",(function(e){t.populateFromTouchEvent(e),t.moveCallbacks.forEach((function(e){return e(t)}))})),window.addEventListener("touchend",(function(e){t.depressCallbacks.forEach((function(e){return e(t)})),t.populateFromTouchEvent(e)}))}return Object.defineProperty(t.prototype,"dragVector",{get:function(){var t=this.pressedStartPos,e=t.x,n=t.y;return this.pressed?{x:this.x-e,y:this.y-n}:{x:0,y:0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dragDirection",{get:function(){var t=this.dragVector,e=t.x,n=t.y;return 0===e&&0===n?"none":Math.abs(e)>=Math.abs(n)?e<0?"left":"right":n<0?"up":"down"},enumerable:!0,configurable:!0}),t.prototype.onPress=function(t){this.pressCallbacks.push(t)},t.prototype.onDepress=function(t){this.depressCallbacks.push(t)},t.prototype.onMove=function(t){this.moveCallbacks.push(t)},t.prototype.populateFromMouseEvent=function(t){this.x=t.x,this.y=t.y;var e=this.pressed;this.pressed=1===t.buttons,this.pressed&&!e&&(this.pressedStartPos={x:this.x,y:this.y})},t.prototype.populateFromTouchEvent=function(t){var e=t.touches,n=this.pressed;if(0===e.length)this.pressed=!1;else{var r=e[0];this.x=r.clientX,this.y=r.clientY,this.pressed=!0,n||(this.pressedStartPos={x:this.x,y:this.y})}},t}());var g=function(){function t(t){void 0===t&&(t={}),this.value=t.value||1,this.extend=t.extend||!1,this.map=t.map||[[]]}return t.fromLength=function(e,n){var r=void 0===n?{}:n,i=r.value;return new t({value:void 0===i?1:i,extend:!!r.orMore,map:[Object(f.b)(e,(function(){return!0}))]})},Object.defineProperty(t.prototype,"extend",{get:function(){return this._extend&&this.linear},set:function(t){this._extend=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"map",{get:function(){return this._map},set:function(t){delete this._linear;var e=t.reduce((function(t,e){var n=e.length;return n>t?n:t}),0);this._map=t.map((function(t){return Object(f.b)(e,(function(e){return t[e]||!1}))}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"linear",{get:function(){return void 0!==this._linear?this._linear:(this._linear=1===this.map.length&&this.map[0].every((function(t){return t}))||this.map.every((function(t){return 1===t.length&&t[0]})),this._linear)},enumerable:!0,configurable:!0}),t.prototype.match=function(t,e,n,r){if(void 0===n&&(n=0),void 0===r&&(r=this.map),n>3)return[];var i,o=[],a=!1;return r.every((function(n,r){var s=t[r];return!!s&&n.every((function(t,n){if(!t)return!0;var r=s[n];if(!r)return!1;var l=r[e];return a||(i=l,a=!0),l===i&&(o.push(r),!0)}))}))?o:this.match(t,e,n+1,function(t){for(var e=[],n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++){var o=r[i];e[i]=e[i]||[],e[i].unshift(o)}return e}(r))},t}(),y=function(){return[g.fromLength(3,{value:1}),g.fromLength(4,{value:2}),g.fromLength(5,{value:3}),g.fromLength(6,{value:4,orMore:!0}),new g({value:5,map:[[!0,!0,!0],[!0],[!0]]}),new g({value:6,map:[[!0,!0,!0],[!1,!0],[!1,!0]]}),new g({value:7,map:[[!0,!0],[!0,!0]]})]},w=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(){return(v=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},m=function(){return{row:-1,col:-1,tile:null}},b=function(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))},S=function(t){function e(e){var n=t.call(this,v(v({},e),{tileTypes:e.tileTypes||["red","orange","yellow","green","blue"],tileGenerator:function(){return new p({type:this.tileTypes[Math.floor(Object(f.a)(0,this.tileTypes.length))],width:this.tileWidth,height:this.tileHeight,colorIsType:!0,applySelectedStyle:this.applySelectedStyle,applyTargetedStyle:this.applyTargetedStyle,applyMatchedStyle:this.applyMatchedStyle})}}))||this;return n.dragStartCallbacks=[],n.dragEndCallbacks=[],n.dragCallbacks=[],n.dragOrigin=m(),n.x=e.x||0,n.y=e.y||0,n.width=e.width||50*n.colCount,n.height=e.height||n.width,n.sensitivity=e.sensitivity||25,n.shapes=e.shapes||y(),n.applySelectedStyle=e.applySelectedStyle||function(){},n.applyTargetedStyle=e.applyTargetedStyle||function(){},n.applyMatchedStyle=e.applyMatchedStyle||function(){},n.matchAnimationMs=e.matchAnimationMs||250,d.onPress(n.runDragStartCallbacks.bind(n)),d.onDepress(n.runDragEndCallbacks.bind(n)),d.onMove(n.runDragCallbacks.bind(n)),n.rows=n.newRows(),n}return w(e,t),Object.defineProperty(e.prototype,"tileWidth",{get:function(){return this.width/this.colCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tileHeight",{get:function(){return this.height/this.rowCount},enumerable:!0,configurable:!0}),e.prototype.draw=function(t){var e=this,n=this.checkSettle(),r=this.startedSettlingAt?(new Date).getTime()-this.startedSettlingAt.getTime():0,i=r/100*this.tileHeight,o=r>100;o&&delete this.startedSettlingAt;var a=[];this.rows.forEach((function(r,s){r.forEach((function(r,l){var c=e.x+l*r.width,u=e.y+s*r.height;if(n&&!r.blank){var h={row:s,col:l},p=e.adjacentTile(h,"down");p.tile&&p.tile.blank&&(u+=i,o&&a.push([h,p]))}r.draw(t,c,u)}))})),a.forEach((function(t){var n=t[0],r=t[1];return e.swapTile(n,r)}))},e.prototype.update=function(){var t=this;(this.rows[0]=this.rows[0].map((function(e){return e.blank?t.tileGenerator():e})),this.rows.slice(1).some((function(t){return t.some((function(t){return t.blank}))})))||this.matchShapes().forEach((function(e){e.shape;e.tiles.forEach((function(e){e.matched=!0,setTimeout((function(){e.blank=!0}),t.matchAnimationMs)}))}))},e.prototype.checkSettle=function(){return this.tiles.some((function(t){return t.blank}))?(this.startedSettlingAt||(this.startedSettlingAt=new Date),!0):(delete this.startedSettlingAt,!1)},e.prototype.tileAt=function(t){if("row"in t){var e=t.row,n=t.col,r=this.rows[e][n];return r?{row:e,col:n,tile:r}:m()}var i=t.x-this.x,o=t.y-this.y;if(i>this.width||o>this.height)return m();var a=i/this.width,s=o/this.height,l=Math.floor(s*this.rowCount),c=Math.floor(a*this.colCount);return{row:l,col:c,tile:this.rows[l][c]}},e.prototype.tileCenter=function(t){var e=t.row,n=t.col,r=t.tile;return r?{x:this.x+n*r.height+r.height/2,y:this.y+e*r.width+r.width/2}:{x:-1,y:-1}},e.prototype.swapTile=function(t,e){"string"==typeof e?this.swapTileInDirection(t,e):this.swapTileWithTile(t,e)},e.prototype.onDragStart=function(t){var e=this.dragStartCallbacks.length;return this.dragStartCallbacks.push(t),e},e.prototype.removeDragStartListener=function(t){delete this.dragStartCallbacks[t]},e.prototype.onDragEnd=function(t){var e=this.dragEndCallbacks.length;return this.dragEndCallbacks.push(t),e},e.prototype.removeDragEndListener=function(t){delete this.dragEndCallbacks[t]},e.prototype.onDrag=function(t){var e=this.dragCallbacks.length;return this.dragCallbacks.push(t),e},e.prototype.removeDragListener=function(t){delete this.dragCallbacks[t]},e.prototype.adjacentSpace=function(t,e){var n="row"in t?t:this.tileAt(t),r=n.row,i=n.col;switch(e){case"up":return{row:r-1,col:i};case"down":return{row:r+1,col:i};case"left":return{row:r,col:i-1};case"right":return{row:r,col:i+1};default:return{row:r,col:i}}},e.prototype.adjacentTile=function(t,e){var n=this.adjacentSpace(t,e),r=n.row,i=n.col,o=this.rows[r]&&this.rows[r][i];return o?{row:r,col:i,tile:o}:m()},e.prototype.removeTile=function(t){t.blank=!0},e.prototype.matchShapes=function(){var t=this;return Object(f.b)(this.colCount).reduce((function(e,n){return t.shapes.forEach((function(r){t.rows.forEach((function(i,o){var a=t.rows.slice(o).map((function(t){return t.slice(n)})),s=r.match(a,"type");s.length&&e.push({shape:r,tiles:s})}))})),e}),[])},e.prototype.swapTileWithTile=function(t,e){var n=this.tileAt(t);if(n.tile){var r=this.tileAt(e);r.tile&&(this.rows[r.row][r.col]=n.tile,this.rows[n.row][n.col]=r.tile)}},e.prototype.swapTileInDirection=function(t,e){var n=this.tileAt(t);if(n.tile){var r=this.adjacentTile(n,e);r.tile&&(this.rows[r.row][r.col]=n.tile,this.rows[n.row][n.col]=r.tile)}},e.prototype.clearExistingDragFlags=function(){this.tiles.forEach((function(t){t.selected=!1,t.targeted=!1}))},e.prototype.setDragStartFlags=function(t){this.clearExistingDragFlags(),t.tile.selected=!0,t.tile.targeted=!0},e.prototype.setDragEndFlags=function(){this.clearExistingDragFlags()},e.prototype.setDragFlags=function(t,e){this.clearExistingDragFlags(),t.tile.selected=!0,e.tile.targeted=!0},e.prototype.runDragStartCallbacks=function(t){var e=t.x,n=t.y,r=this.tileAt({x:e,y:n});if(r.tile){this.dragOrigin=r,this.setDragStartFlags(this.dragOrigin);var i=b(t,this.tileCenter(r)),o=t.dragDirection,a=r;this.dragStartCallbacks.forEach((function(s){s({x:e,y:n,distance:i,direction:o,origin:r,destination:a,mouse:t})}))}},e.prototype.runDragEndCallbacks=function(t){var e=this.dragOrigin;if(e.tile){var n=t.x,r=t.y,i=b(t,this.tileCenter(e)),o=i>this.sensitivity?this.adjacentTile(e,t.dragDirection):e,a=o.tile?o:e,s=t.dragDirection;this.setDragEndFlags(),this.dragEndCallbacks.forEach((function(o){o({x:n,y:r,distance:i,direction:s,origin:e,destination:a,mouse:t})})),this.dragOrigin=m()}},e.prototype.runDragCallbacks=function(t){var e=this.dragOrigin;if(e.tile){var n=t.x,r=t.y;if(t.pressed){var i=b(t,this.tileCenter(e)),o=i>this.sensitivity?this.adjacentTile(e,t.dragDirection):e,a=o.tile?o:e,s=t.dragDirection;this.setDragFlags(e,a),this.dragCallbacks.forEach((function(o){o({x:n,y:r,distance:i,direction:s,origin:e,destination:a,mouse:t})}))}}},e}(c.a);window.defaultShapes=y;var C=function(t,e){var n=e.x,r=e.y,i=t.width,o=t.height;s.fillStyle="rgba(255, 255, 255, 0.5)",s.fillRect(n,r,i,o)},E=function(t,e){var n=e.x,r=e.y,i=t.width,o=t.height,a=(new Date).getTime(),l=2+3*Math.sin(a/250%Math.PI);s.fillStyle="rgba(255, 255, 255, 0.9)",s.fillRect(n,r,i,o),s.fillStyle=t.color,s.fillRect(n+l,r+l,i-2*l,o-2*l)},x=function(t,e){var n=e.x,r=e.y,i=t.width,o=t.height,a=t.color;if(t.matchedAt){var l=(new Date).getTime()-t.matchedAt.getTime(),c=l>250?1:l/250,u=c*(i/2),h=c*(o/2);s.fillStyle="#FFF",s.fillRect(n,r,i,o),s.fillStyle=a,s.fillRect(n+u,r+h,i-2*u,o-2*h)}};window.addEventListener("DOMContentLoaded",(function(){var t=new S({width:Math.min(window.innerWidth,500),rowCount:10,colCount:10,matchAnimationMs:250,applySelectedStyle:C,applyTargetedStyle:E,applyMatchedStyle:x});t.onDragEnd((function(e){t.swapTile(e.origin,e.destination),t.matchShapes().length||t.swapTile(e.origin,e.destination)})),i(s,(function(e){t.draw(s),t.update()})),window.board=t}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdGllcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGlsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQm9hcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvZ2FtZUxvb3AudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvY2FudmFzLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lL0NhbnZhc1RpbGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvbW91c2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NoYXBlLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lL0NhbnZhc0JvYXJkLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwicmFuZ2UiLCJtaW4iLCJtYXgiLCJtYXhBbmRPck1hcHBlciIsIm1hcHBlciIsInJlYWxNaW4iLCJkaWZmIiwibGlzdCIsIkFycmF5IiwicmFuZCIsIk1hdGgiLCJyYW5kb20iLCJvcHRzIiwidHlwZSIsImFzc2lnbiIsInRoaXMiLCJFcnJvciIsInJvd0NvdW50IiwiY29sQ291bnQiLCJ0aWxlVHlwZXMiLCJ0aWxlQ2xhc3MiLCJ0aWxlR2VuZXJhdG9yIiwicm93cyIsIm5ld1Jvd3MiLCJfcm93cyIsImV2ZXJ5Iiwicm93IiwibGVuZ3RoIiwiX2NvbHVtbnMiLCJyZWR1Y2UiLCJjb2x1bW5zIiwiZm9yRWFjaCIsInRpbGUiLCJpbmRleCIsImNvbHVtbiIsInRpbGVzIiwiZ2FtZUxvb3AiLCJkcmF3IiwibG9vcENvdW50IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2xlYXJSZWN0Iiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3RyZXRjaENhbnZhcyIsIndpZHRoIiwiaGVpZ2h0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImN0eCIsImdldENvbnRleHQiLCJjb25zb2xlIiwiZXJyb3IiLCJjb2xvcklzVHlwZSIsImNvbG9yIiwiaW1nVXJsSXNUeXBlIiwiaW1nVXJsIiwic2VsZWN0ZWQiLCJ0YXJnZXRlZCIsIm1hdGNoZWRBdCIsImJsYW5rIiwiX2ltZ1VybCIsImFwcGx5U2VsZWN0ZWRTdHlsZSIsImFwcGx5VGFyZ2V0ZWRTdHlsZSIsImFwcGx5TWF0Y2hlZFN0eWxlIiwibWF0Y2hlZCIsIkRhdGUiLCJfaW1hZ2UiLCJpbWFnZSIsInNyYyIsIngiLCJ5IiwiZmlsbFN0eWxlIiwiZHJhd0ltYWdlIiwiZmlsbFJlY3QiLCJUaWxlIiwicHJlc3NlZCIsInByZXNzQ2FsbGJhY2tzIiwiZGVwcmVzc0NhbGxiYWNrcyIsIm1vdmVDYWxsYmFja3MiLCJwcmVzc2VkU3RhcnRQb3MiLCJldmVudCIsInBvcHVsYXRlRnJvbU1vdXNlRXZlbnQiLCJjYWxsYmFjayIsInBvcHVsYXRlRnJvbVRvdWNoRXZlbnQiLCJhYnMiLCJvblByZXNzIiwicHVzaCIsIm9uRGVwcmVzcyIsIm9uTW92ZSIsImFscmVhZHlQcmVzc2VkIiwiYnV0dG9ucyIsInRvdWNoZXMiLCJ0b3VjaCIsImNsaWVudFgiLCJjbGllbnRZIiwiZXh0ZW5kIiwibWFwIiwiZnJvbUxlbmd0aCIsIlNoYXBlIiwib3JNb3JlIiwiX2V4dGVuZCIsImxpbmVhciIsIl9tYXAiLCJfbGluZWFyIiwicm93TGVuZ3RoIiwic3BhY2UiLCJtYXRjaCIsImdyaWQiLCJmaWVsZCIsInJvdGF0aW9uIiwic2hhcGVNYXAiLCJtYXRjaFZhbHVlIiwibWF0Y2hWYWx1ZVNldCIsIm1hdGNoZXJSb3ciLCJyb3dJbmRleCIsImdyaWRSb3ciLCJtdXN0TWF0Y2giLCJjb2xJbmRleCIsImdyaWRJdGVtIiwiZ3JpZFZhbHVlIiwibmV3R3JpZCIsIml0ZW0iLCJ1bnNoaWZ0Iiwicm90YXRlIiwiZGVmYXVsdFNoYXBlcyIsImJsYW5rQ2FudmFzVGlsZUluZm8iLCJjb2wiLCJkaXN0YW5jZUJldHdlZW4iLCJvcmlnaW4iLCJkZXN0aW5hdGlvbiIsImR4IiwiZHkiLCJzcXJ0IiwiZmxvb3IiLCJ0aWxlV2lkdGgiLCJ0aWxlSGVpZ2h0IiwiZHJhZ1N0YXJ0Q2FsbGJhY2tzIiwiZHJhZ0VuZENhbGxiYWNrcyIsImRyYWdDYWxsYmFja3MiLCJkcmFnT3JpZ2luIiwic2Vuc2l0aXZpdHkiLCJzaGFwZXMiLCJtYXRjaEFuaW1hdGlvbk1zIiwicnVuRHJhZ1N0YXJ0Q2FsbGJhY2tzIiwicnVuRHJhZ0VuZENhbGxiYWNrcyIsInJ1bkRyYWdDYWxsYmFja3MiLCJzZXR0bGluZyIsImNoZWNrU2V0dGxlIiwibXNTaW5jZVNldHRsZSIsInN0YXJ0ZWRTZXR0bGluZ0F0IiwiZ2V0VGltZSIsIml0c1N3YXBUaW1lQnJ1aCIsInRpbGVzVG9Td2FwIiwidGlsZUluZGV4IiwicG9zaXRpb24iLCJiZWxvdyIsImFkamFjZW50VGlsZSIsInN3YXBUaWxlIiwidXBkYXRlIiwic2xpY2UiLCJzb21lIiwibWF0Y2hTaGFwZXMiLCJzaGFwZSIsInNldFRpbWVvdXQiLCJ0aWxlQXQiLCJwb3MiLCJmcmFjdGlvblgiLCJmcmFjdGlvblkiLCJ0aWxlQ2VudGVyIiwidGlsZUluZm8iLCJmcm9tIiwidG8iLCJzd2FwVGlsZUluRGlyZWN0aW9uIiwic3dhcFRpbGVXaXRoVGlsZSIsIm9uRHJhZ1N0YXJ0IiwicmVtb3ZlRHJhZ1N0YXJ0TGlzdGVuZXIiLCJpZCIsIm9uRHJhZ0VuZCIsInJlbW92ZURyYWdFbmRMaXN0ZW5lciIsIm9uRHJhZyIsInJlbW92ZURyYWdMaXN0ZW5lciIsImFkamFjZW50U3BhY2UiLCJkaXJlY3Rpb24iLCJyZW1vdmVUaWxlIiwibWVtbyIsIl9yb3ciLCJjbGVhckV4aXN0aW5nRHJhZ0ZsYWdzIiwic2V0RHJhZ1N0YXJ0RmxhZ3MiLCJzZXREcmFnRW5kRmxhZ3MiLCJzZXREcmFnRmxhZ3MiLCJtb3VzZSIsImRpc3RhbmNlIiwiZHJhZ0RpcmVjdGlvbiIsIm1vdmVUbyIsIkJvYXJkIiwibWlsbGlzIiwic3Ryb2tlV2lkdGgiLCJzaW4iLCJQSSIsIm1zU2luY2VNYXRjaCIsInBlcmNlbnREb25lIiwiaG9yaXpvbnRhbCIsInZlcnRpY2FsIiwiYm9hcmQiLCJfbG9vcENvdW50Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixF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ZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDQpO1xuIiwiZXhwb3J0IGZ1bmN0aW9uIHJhbmdlPFQ+KG1pbjogbnVtYmVyLCAuLi5tYXhBbmRPck1hcHBlcjogW10pOiBudW1iZXJbXTtcbmV4cG9ydCBmdW5jdGlvbiByYW5nZTxUPihtaW46IG51bWJlciwgLi4ubWF4QW5kT3JNYXBwZXI6IFtudW1iZXJdKTogbnVtYmVyW107XG5leHBvcnQgZnVuY3Rpb24gcmFuZ2U8VD4obWluOiBudW1iZXIsIC4uLm1heEFuZE9yTWFwcGVyOiBbKG46IG51bWJlcikgPT4gVF0pOiBUW107XG5leHBvcnQgZnVuY3Rpb24gcmFuZ2U8VD4obWluOiBudW1iZXIsIC4uLm1heEFuZE9yTWFwcGVyOiBbbnVtYmVyLCAobjogbnVtYmVyKSA9PiBUXSk6IFRbXTtcbmV4cG9ydCBmdW5jdGlvbiByYW5nZTxUPihtaW46IG51bWJlciwgLi4ubWF4QW5kT3JNYXBwZXI6IFtdfFtudW1iZXJ8KChuOiBudW1iZXIpID0+IFQpXXxbbnVtYmVyLCAobjogbnVtYmVyKSA9PiBUXSk6IChudW1iZXJ8VClbXSB7XG4gIGNvbnN0IG1heCA9IHR5cGVvZiBtYXhBbmRPck1hcHBlclswXSA9PT0gJ251bWJlcicgPyBtYXhBbmRPck1hcHBlclswXSA6IDA7XG4gIGNvbnN0IG1hcHBlciA9IHR5cGVvZiBtYXhBbmRPck1hcHBlclswXSA9PT0gJ2Z1bmN0aW9uJyA/IG1heEFuZE9yTWFwcGVyWzBdIDogbWF4QW5kT3JNYXBwZXJbMV07XG4gIGNvbnN0IFtyZWFsTWluLCByZWFsTWF4XSA9IG1pbiA8IG1heCA/IFttaW4sIG1heF0gOiBbbWF4LCBtaW5dO1xuICBjb25zdCBkaWZmID0gcmVhbE1heCAtIHJlYWxNaW47XG4gIGNvbnN0IGxpc3QgPSBBcnJheShkaWZmKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaWZmOyBpKyspIGxpc3RbaV0gPSBtYXBwZXIgPyBtYXBwZXIoaSArIHJlYWxNaW4pIDogaSArIHJlYWxNaW47XG4gIHJldHVybiBsaXN0O1xufVxuXG5leHBvcnQgY29uc3QgcmFuZCA9IChtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICBjb25zdCBbcmVhbE1pbiwgcmVhbE1heF0gPSBtaW4gPCBtYXggPyBbbWluLCBtYXhdIDogW21heCwgbWluXTtcbiAgY29uc3QgZGlmZiA9IHJlYWxNYXggLSByZWFsTWluO1xuICByZXR1cm4gcmVhbE1pbiArIChNYXRoLnJhbmRvbSgpICogZGlmZik7XG59O1xuXG5leHBvcnQgY29uc3QgZGFtcGVuID0gKG51bTogbnVtYmVyLCBieTogbnVtYmVyLCBjZW50ZXIgPSAwKTogbnVtYmVyID0+IHtcbiAgLy8gbnVtYmVyIGlzIGFscmVhZHkgYXQgdGhlIGNlbnRlclxuICBpZiAobnVtID09PSBjZW50ZXIpIHJldHVybiBjZW50ZXI7XG5cbiAgLy8gbnVtYmVyIGlzIGhpZ2hlciB0aGFuIHRoZSBjZW50ZXI7IHN1YnRyYWN0IGFuZCBkb24ndCBvdmVyc2hvb3QgdGhlIGNlbnRlclxuICBpZiAobnVtID4gY2VudGVyKSB7XG4gICAgY29uc3QgbmV3TnVtID0gbnVtIC0gYnk7XG4gICAgcmV0dXJuIG5ld051bSA8IGNlbnRlciA/IGNlbnRlciA6IG5ld051bTtcbiAgfVxuXG4gIC8vIG51bWJlciBpcyBsb3dlciB0aGFuIHRoZSBjZW50ZXI7IGFkZCBhbmQgZG9uJ3Qgb3ZlcnNob290IHRoZSBjZW50ZXJcbiAgY29uc3QgbmV3TnVtID0gbnVtICsgYnk7XG4gIHJldHVybiBuZXdOdW0gPiBjZW50ZXIgPyBjZW50ZXIgOiBuZXdOdW07XG59O1xuXG5leHBvcnQgY29uc3QgYm91bmQgPSAobnVtOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciA9PiB7XG4gIGNvbnN0IFtyZWFsTWluLCByZWFsTWF4XSA9IG1pbiA8IG1heCA/IFttaW4sIG1heF0gOiBbbWF4LCBtaW5dO1xuICBpZiAobnVtIDwgcmVhbE1pbikgcmV0dXJuIHJlYWxNaW47XG4gIGlmIChudW0gPiByZWFsTWF4KSByZXR1cm4gcmVhbE1heDtcbiAgcmV0dXJuIG51bTtcbn07XG5cbmV4cG9ydCBjb25zdCBiZXR3ZWVuID0gKG51bTogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIsIGluY2x1c2l2ZSA9IHRydWUpOiBib29sZWFuID0+IHtcbiAgY29uc3QgW3JlYWxNaW4sIHJlYWxNYXhdID0gbWluIDwgbWF4ID8gW21pbiwgbWF4XSA6IFttYXgsIG1pbl07XG4gIHJldHVybiBpbmNsdXNpdmUgPyAobnVtID49IHJlYWxNaW4gJiYgbnVtIDw9IHJlYWxNYXgpIDogKG51bSA+IHJlYWxNaW4gJiYgbnVtIDwgcmVhbE1heCk7XG59O1xuXG5leHBvcnQgY29uc3QgZGlmZmVyZW5jZSA9IChuOiBudW1iZXIsIG06IG51bWJlcik6IG51bWJlciA9PiBNYXRoLmFicyhuIC0gbSk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUaWxlIHtcbiAgcHVibGljIHR5cGUgPSAnJztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiBQYXJ0aWFsPFRpbGU+ID0ge30pIHtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdHMpO1xuICAgIGlmICghdGhpcy50eXBlKSB0aHJvdyBuZXcgRXJyb3IoJ1RpbGVzIG11c3QgaGF2ZSBhIHR5cGUuJyk7XG4gIH1cbn1cbiIsImltcG9ydCBUaWxlIGZyb20gXCIuL1RpbGVcIjtcbmltcG9ydCB7IHJhbmdlIH0gZnJvbSBcIi4vdXRpbGl0aWVzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJvYXJkPFRpbGVDbGFzcyA9IFRpbGU+IHtcbiAgcHVibGljIHJvd0NvdW50ID0gMTA7XG4gIHB1YmxpYyBjb2xDb3VudCA9IDEwO1xuICBwdWJsaWMgdGlsZVR5cGVzID0gWydhJywgJ2InLCAnYycsICdkJ107XG4gIHB1YmxpYyB0aWxlQ2xhc3MgPSBUaWxlO1xuICBwdWJsaWMgdGlsZUdlbmVyYXRvcjogKCkgPT4gVGlsZUNsYXNzO1xuICBwcml2YXRlIF9yb3dzITogVGlsZUNsYXNzW11bXTtcbiAgcHJpdmF0ZSBfY29sdW1ucz86IFRpbGVDbGFzc1tdW107XG5cbiAgY29uc3RydWN0b3Iob3B0czogeyB0aWxlR2VuZXJhdG9yOiAoKSA9PiBUaWxlQ2xhc3MgfSAmIFBhcnRpYWw8Qm9hcmQ+KSB7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRzKTtcbiAgICB0aGlzLnRpbGVHZW5lcmF0b3IgPSBvcHRzLnRpbGVHZW5lcmF0b3I7XG4gICAgdGhpcy5yb3dzID0gdGhpcy5uZXdSb3dzKCk7XG4gIH1cblxuICBzZXQgcm93cyhyb3dzOiBUaWxlQ2xhc3NbXVtdKSB7XG4gICAgaWYgKCFyb3dzLmV2ZXJ5KHJvdyA9PiByb3dzWzBdLmxlbmd0aCA9PT0gcm93Lmxlbmd0aCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUm93cyBtdXN0IGFsbCBiZSB0aGUgc2FtZSBsZW5ndGgnKTtcbiAgICB9XG4gICAgdGhpcy5fcm93cyA9IHJvd3M7XG4gICAgZGVsZXRlIHRoaXMuX2NvbHVtbnM7XG4gICAgdGhpcy5yb3dDb3VudCA9IHJvd3MubGVuZ3RoO1xuICAgIHRoaXMuY29sQ291bnQgPSByb3dzWzBdLmxlbmd0aDtcbiAgfVxuXG4gIGdldCByb3dzKCk6IFRpbGVDbGFzc1tdW10ge1xuICAgIHJldHVybiB0aGlzLl9yb3dzO1xuICB9XG5cbiAgc2V0IGNvbHVtbnMoY29sdW1uczogVGlsZUNsYXNzW11bXSkge1xuICAgIGlmICghY29sdW1ucy5ldmVyeShjb2x1bW4gPT4gY29sdW1uc1swXS5sZW5ndGggPT09IGNvbHVtbi5sZW5ndGgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbHVtbnMgbXVzdCBhbGwgYmUgdGhlIHNhbWUgbGVuZ3RoJyk7XG4gICAgfVxuXG4gICAgdGhpcy5yb3dzID0gY29sdW1ucy5yZWR1Y2UoKHJvd3MsIGNvbHVtbikgPT4ge1xuICAgICAgY29sdW1uLmZvckVhY2goKHRpbGUsIGluZGV4KSA9PiB7XG4gICAgICAgIHJvd3NbaW5kZXhdID0gWy4uLihyb3dzW2luZGV4XSB8fCBbXSksIHRpbGVdO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcm93cztcbiAgICB9LCBbXSBhcyBUaWxlQ2xhc3NbXVtdKTtcbiAgfVxuXG4gIGdldCBjb2x1bW5zKCk6IFRpbGVDbGFzc1tdW10ge1xuICAgIGlmICh0aGlzLl9jb2x1bW5zKSByZXR1cm4gdGhpcy5fY29sdW1ucztcblxuICAgIHRoaXMuX2NvbHVtbnMgPSB0aGlzLnJvd3MucmVkdWNlKChjb2x1bW5zLCByb3cpID0+IHtcbiAgICAgIHJvdy5mb3JFYWNoKCh0aWxlLCBpbmRleCkgPT4ge1xuICAgICAgICBjb2x1bW5zW2luZGV4XSA9IFsuLi4oY29sdW1uc1tpbmRleF0gfHwgW10pLCB0aWxlXTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNvbHVtbnM7XG4gICAgfSwgW10gYXMgVGlsZUNsYXNzW11bXSk7XG5cbiAgICByZXR1cm4gdGhpcy5fY29sdW1ucztcbiAgfVxuXG4gIGdldCB0aWxlcygpOiBUaWxlQ2xhc3NbXSB7XG4gICAgcmV0dXJuIHRoaXMucm93cy5yZWR1Y2UoKHRpbGVzLCByb3cpID0+IFsuLi50aWxlcywgLi4ucm93XSwgW10pO1xuICB9XG5cbiAgbmV3Um93cygpOiBUaWxlQ2xhc3NbXVtdIHtcbiAgICByZXR1cm4gcmFuZ2UodGhpcy5yb3dDb3VudCwgKCkgPT4ge1xuICAgICAgcmV0dXJuIHJhbmdlKHRoaXMuY29sQ291bnQsICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZUdlbmVyYXRvcigpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImNvbnN0IGdhbWVMb29wID0gKGM6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgZHJhdzogKGxvb3BDb3VudDogbnVtYmVyKSA9PiB2b2lkLCBsb29wQ291bnQgPSAwKTogdm9pZCA9PiB7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBnYW1lTG9vcChjLCBkcmF3LCBsb29wQ291bnQgKyAxKSk7XG4gIGMuY2xlYXJSZWN0KDAsIDAsIHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICBkcmF3KGxvb3BDb3VudCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBnYW1lTG9vcDtcbiIsImNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG5jb25zdCBzdHJldGNoQ2FudmFzID0gKCk6IHZvaWQgPT4ge1xuICBjYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbn07XG5cbnN0cmV0Y2hDYW52YXMoKTtcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBzdHJldGNoQ2FudmFzKTtcbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcblxuY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJykhO1xuaWYgKCFjdHgpIGNvbnNvbGUuZXJyb3IoXCJDYW52YXMgJzJkJyBjb250ZXh0IGlzIG5vdCBzdXBwb3J0ZWQuXCIpO1xuXG5leHBvcnQgeyBjdHggfTtcbmV4cG9ydCBkZWZhdWx0IGNhbnZhcztcbiIsImltcG9ydCBUaWxlIGZyb20gXCIuLi9UaWxlXCI7XG5pbXBvcnQgeyBDb29yZFBvc2l0aW9uIH0gZnJvbSBcIi4vQ2FudmFzQm9hcmRcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FudmFzVGlsZSBleHRlbmRzIFRpbGUge1xuICBwdWJsaWMgd2lkdGggPSA1MDtcbiAgcHVibGljIGhlaWdodCA9IDUwO1xuICBwdWJsaWMgY29sb3IgPSAndHJhbnNwYXJlbnQnO1xuICBwdWJsaWMgc2VsZWN0ZWQgPSBmYWxzZTtcbiAgcHVibGljIHRhcmdldGVkID0gZmFsc2U7XG4gIHB1YmxpYyBtYXRjaGVkQXQgPSBudWxsIGFzIERhdGV8bnVsbDtcbiAgcHVibGljIGJsYW5rID0gZmFsc2U7XG4gIHB1YmxpYyBhcHBseVNlbGVjdGVkU3R5bGU6ICh0aWxlOiBDYW52YXNUaWxlLCBwb3M6IENvb3JkUG9zaXRpb24pID0+IHZvaWQ7XG4gIHB1YmxpYyBhcHBseVRhcmdldGVkU3R5bGU6ICh0aWxlOiBDYW52YXNUaWxlLCBwb3M6IENvb3JkUG9zaXRpb24pID0+IHZvaWQ7XG4gIHB1YmxpYyBhcHBseU1hdGNoZWRTdHlsZTogKHRpbGU6IENhbnZhc1RpbGUsIHBvczogQ29vcmRQb3NpdGlvbikgPT4gdm9pZDtcbiAgcHJpdmF0ZSBfaW1nVXJsID0gJyc7XG4gIHByaXZhdGUgX2ltYWdlPzogSFRNTEltYWdlRWxlbWVudDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiBQYXJ0aWFsPFRpbGU+ICYge1xuICAgIHR5cGU6IHN0cmluZztcbiAgICBjb2xvcj86IHN0cmluZztcbiAgICBpbWdVcmw/OiBzdHJpbmc7XG4gICAgd2lkdGg/OiBudW1iZXI7XG4gICAgaGVpZ2h0PzogbnVtYmVyO1xuICAgIGNvbG9ySXNUeXBlPzogYm9vbGVhbjtcbiAgICBpbWdVcmxJc1R5cGU/OiBib29sZWFuO1xuICAgIGJsYW5rPzogYm9vbGVhbjtcbiAgICBhcHBseVNlbGVjdGVkU3R5bGU/OiBDYW52YXNUaWxlWydhcHBseVNlbGVjdGVkU3R5bGUnXTtcbiAgICBhcHBseVRhcmdldGVkU3R5bGU/OiBDYW52YXNUaWxlWydhcHBseVRhcmdldGVkU3R5bGUnXTtcbiAgICBhcHBseU1hdGNoZWRTdHlsZT86IENhbnZhc1RpbGVbJ2FwcGx5TWF0Y2hlZFN0eWxlJ107XG4gIH0pIHtcbiAgICBzdXBlcih7XG4gICAgICB0eXBlOiAob3B0cy5jb2xvcklzVHlwZSAmJiAob3B0cy50eXBlIHx8IG9wdHMuY29sb3IpKVxuICAgICAgICB8fCAob3B0cy5pbWdVcmxJc1R5cGUgJiYgKG9wdHMudHlwZSB8fCBvcHRzLmltZ1VybCkpXG4gICAgICAgIHx8IG9wdHMudHlwZVxuICAgIH0pO1xuXG4gICAgdGhpcy53aWR0aCA9IG9wdHMud2lkdGggfHwgdGhpcy53aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IG9wdHMuaGVpZ2h0IHx8IHRoaXMuaGVpZ2h0O1xuICAgIHRoaXMuY29sb3IgPSAob3B0cy5jb2xvcklzVHlwZSAmJiBvcHRzLnR5cGUpIHx8IG9wdHMuY29sb3IgfHwgdGhpcy5jb2xvcjtcbiAgICB0aGlzLmJsYW5rID0gb3B0cy5ibGFuayB8fCB0aGlzLmJsYW5rO1xuICAgIHRoaXMuX2ltZ1VybCA9IChvcHRzLmltZ1VybElzVHlwZSAmJiBvcHRzLnR5cGUpIHx8IG9wdHMuaW1nVXJsIHx8IHRoaXMuX2ltZ1VybDtcbiAgICB0aGlzLmFwcGx5U2VsZWN0ZWRTdHlsZSA9IG9wdHMuYXBwbHlTZWxlY3RlZFN0eWxlIHx8ICgoKSA9PiB7fSk7XG4gICAgdGhpcy5hcHBseVRhcmdldGVkU3R5bGUgPSBvcHRzLmFwcGx5VGFyZ2V0ZWRTdHlsZSB8fCAoKCkgPT4ge30pO1xuICAgIHRoaXMuYXBwbHlNYXRjaGVkU3R5bGUgPSBvcHRzLmFwcGx5TWF0Y2hlZFN0eWxlIHx8ICgoKSA9PiB7fSk7XG4gIH1cblxuICBnZXQgbWF0Y2hlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISF0aGlzLm1hdGNoZWRBdDtcbiAgfVxuXG4gIHNldCBtYXRjaGVkKG1hdGNoZWQ6IGJvb2xlYW4pIHtcbiAgICB0aGlzLm1hdGNoZWRBdCA9IG1hdGNoZWQgPyAodGhpcy5tYXRjaGVkQXQgfHwgbmV3IERhdGUoKSkgOiBudWxsO1xuICB9XG5cbiAgZ2V0IGltZ1VybCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9pbWdVcmw7XG4gIH1cblxuICBzZXQgaW1nVXJsKGltZ1VybDogc3RyaW5nKSB7XG4gICAgdGhpcy5faW1nVXJsID0gaW1nVXJsO1xuICAgIGRlbGV0ZSB0aGlzLl9pbWFnZTtcbiAgfVxuXG4gIGdldCBpbWFnZSgpOiBudWxsfEhUTUxJbWFnZUVsZW1lbnQge1xuICAgIGlmICh0aGlzLl9pbWFnZSkgcmV0dXJuIHRoaXMuaW1hZ2U7XG4gICAgaWYgKCF0aGlzLmltZ1VybCkgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIGltYWdlLnNyYyA9IHRoaXMuaW1nVXJsO1xuICAgIGltYWdlLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICBpbWFnZS5oZWlnaHQgPSB0aGlzLmhlaWdodDtcbiAgICB0aGlzLl9pbWFnZSA9IGltYWdlO1xuXG4gICAgcmV0dXJuIHRoaXMuX2ltYWdlO1xuICB9XG5cbiAgZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5ibGFuaykgcmV0dXJuO1xuXG4gICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XG4gICAgaWYgKHRoaXMuaW1hZ2UpIHtcbiAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgeCwgeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eC5maWxsUmVjdCh4LCB5LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubWF0Y2hlZCkge1xuICAgICAgdGhpcy5hcHBseU1hdGNoZWRTdHlsZSh0aGlzLCB7IHgsIHkgfSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnNlbGVjdGVkKSB7XG4gICAgICB0aGlzLmFwcGx5U2VsZWN0ZWRTdHlsZSh0aGlzLCB7IHgsIHkgfSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnRhcmdldGVkKSB7XG4gICAgICB0aGlzLmFwcGx5VGFyZ2V0ZWRTdHlsZSh0aGlzLCB7IHgsIHkgfSk7XG4gICAgfVxuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgTW91c2Uge1xuICBwdWJsaWMgeCA9IDA7XG4gIHB1YmxpYyB5ID0gMDtcbiAgcHVibGljIHByZXNzZWQgPSBmYWxzZTtcbiAgcHVibGljIHByZXNzZWRTdGFydFBvczogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9O1xuICBwdWJsaWMgcHJlc3NDYWxsYmFja3M6ICgobW91c2U6IE1vdXNlKSA9PiB2b2lkKVtdID0gW107XG4gIHB1YmxpYyBkZXByZXNzQ2FsbGJhY2tzOiAoKG1vdXNlOiBNb3VzZSkgPT4gdm9pZClbXSA9IFtdO1xuICBwdWJsaWMgbW92ZUNhbGxiYWNrczogKChtb3VzZTogTW91c2UpID0+IHZvaWQpW10gPSBbXTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnByZXNzZWRTdGFydFBvcyA9IHsgeDogdGhpcy54LCB5OiB0aGlzLnkgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMucG9wdWxhdGVGcm9tTW91c2VFdmVudChldmVudCk7XG4gICAgICB0aGlzLnByZXNzQ2FsbGJhY2tzLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2sodGhpcykpO1xuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMucG9wdWxhdGVGcm9tTW91c2VFdmVudChldmVudCk7XG4gICAgICB0aGlzLm1vdmVDYWxsYmFja3MuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayh0aGlzKSk7XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuZGVwcmVzc0NhbGxiYWNrcy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKHRoaXMpKTsgLy8gd2Ugd2FudCB0aGlzIG9uZSB0byBoYXBwZW4gYmVmb3JlIHRoZSByZXNldFxuICAgICAgdGhpcy5wb3B1bGF0ZUZyb21Nb3VzZUV2ZW50KGV2ZW50KTtcbiAgICB9KTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLnBvcHVsYXRlRnJvbVRvdWNoRXZlbnQoZXZlbnQpO1xuICAgICAgdGhpcy5wcmVzc0NhbGxiYWNrcy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKHRoaXMpKTtcbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLnBvcHVsYXRlRnJvbVRvdWNoRXZlbnQoZXZlbnQpO1xuICAgICAgdGhpcy5tb3ZlQ2FsbGJhY2tzLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2sodGhpcykpO1xuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5kZXByZXNzQ2FsbGJhY2tzLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2sodGhpcykpOyAvLyB3ZSB3YW50IHRoaXMgb25lIHRvIGhhcHBlbiBiZWZvcmUgdGhlIHJlc2V0XG4gICAgICB0aGlzLnBvcHVsYXRlRnJvbVRvdWNoRXZlbnQoZXZlbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0IGRyYWdWZWN0b3IoKTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9IHtcbiAgICBjb25zdCB7IHgsIHkgfSA9IHRoaXMucHJlc3NlZFN0YXJ0UG9zO1xuICAgIHJldHVybiB0aGlzLnByZXNzZWQgPyB7IHg6IHRoaXMueCAtIHgsIHk6IHRoaXMueSAtIHkgfSA6IHsgeDogMCwgeTogMCB9O1xuICB9XG5cbiAgZ2V0IGRyYWdEaXJlY3Rpb24oKTogJ25vbmUnfCd1cCd8J2Rvd24nfCdsZWZ0J3wncmlnaHQnIHtcbiAgICBjb25zdCB7IHgsIHkgfSA9IHRoaXMuZHJhZ1ZlY3RvcjtcbiAgICBpZiAoeCA9PT0gMCAmJiB5ID09PSAwKSByZXR1cm4gJ25vbmUnO1xuXG4gICAgaWYgKE1hdGguYWJzKHgpID49IE1hdGguYWJzKHkpKSB7XG4gICAgICByZXR1cm4geCA8IDAgPyAnbGVmdCcgOiAncmlnaHQnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4geSA8IDAgPyAndXAnIDogJ2Rvd24nO1xuICAgIH1cbiAgfVxuXG4gIG9uUHJlc3MoY2FsbGJhY2s6IChtb3VzZTogTW91c2UpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLnByZXNzQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICB9XG5cbiAgb25EZXByZXNzKGNhbGxiYWNrOiAobW91c2U6IE1vdXNlKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5kZXByZXNzQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICB9XG5cbiAgb25Nb3ZlKGNhbGxiYWNrOiAobW91c2U6IE1vdXNlKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5tb3ZlQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICB9XG5cbiAgcG9wdWxhdGVGcm9tTW91c2VFdmVudChldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIHRoaXMueCA9IGV2ZW50Lng7XG4gICAgdGhpcy55ID0gZXZlbnQueTtcbiAgICBjb25zdCBhbHJlYWR5UHJlc3NlZCA9IHRoaXMucHJlc3NlZDtcbiAgICB0aGlzLnByZXNzZWQgPSBldmVudC5idXR0b25zID09PSAxO1xuICAgIGlmICh0aGlzLnByZXNzZWQgJiYgIWFscmVhZHlQcmVzc2VkKSB7XG4gICAgICB0aGlzLnByZXNzZWRTdGFydFBvcyA9IHsgeDogdGhpcy54LCB5OiB0aGlzLnkgfTtcbiAgICB9XG4gIH1cblxuICBwb3B1bGF0ZUZyb21Ub3VjaEV2ZW50KGV2ZW50OiBUb3VjaEV2ZW50KTogdm9pZCB7XG4gICAgY29uc3QgeyB0b3VjaGVzIH0gPSBldmVudDtcbiAgICBjb25zdCBhbHJlYWR5UHJlc3NlZCA9IHRoaXMucHJlc3NlZDtcbiAgICBpZiAodG91Y2hlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMucHJlc3NlZCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB0b3VjaCA9IHRvdWNoZXNbMF07XG4gICAgICB0aGlzLnggPSB0b3VjaC5jbGllbnRYO1xuICAgICAgdGhpcy55ID0gdG91Y2guY2xpZW50WTtcbiAgICAgIHRoaXMucHJlc3NlZCA9IHRydWU7XG4gICAgICBpZiAoIWFscmVhZHlQcmVzc2VkKSB0aGlzLnByZXNzZWRTdGFydFBvcyA9IHsgeDogdGhpcy54LCB5OiB0aGlzLnkgfTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgbW91c2UgPSBuZXcgTW91c2UoKTtcblxuZXhwb3J0IGRlZmF1bHQgbW91c2U7XG4iLCJpbXBvcnQgeyByYW5nZSB9IGZyb20gXCIuL3V0aWxpdGllc1wiO1xuXG5leHBvcnQgdHlwZSBTaGFwZU1hcCA9IGJvb2xlYW5bXVtdO1xuXG5mdW5jdGlvbiByb3RhdGU8VD4oZ3JpZDogVFtdW10pOiBUW11bXSB7XG4gIGNvbnN0IG5ld0dyaWQgPSBbXSBhcyBUW11bXTtcbiAgZm9yIChsZXQgcm93SW5kZXggPSAwOyByb3dJbmRleCA8IGdyaWQubGVuZ3RoOyByb3dJbmRleCsrKSB7XG4gICAgY29uc3Qgcm93ID0gZ3JpZFtyb3dJbmRleF07XG4gICAgZm9yIChsZXQgY29sSW5kZXggPSAwOyBjb2xJbmRleCA8IHJvdy5sZW5ndGg7IGNvbEluZGV4KyspIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSByb3dbY29sSW5kZXhdO1xuICAgICAgbmV3R3JpZFtjb2xJbmRleF0gPSBuZXdHcmlkW2NvbEluZGV4XSB8fCBbXTtcbiAgICAgIG5ld0dyaWRbY29sSW5kZXhdLnVuc2hpZnQoaXRlbSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXdHcmlkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaGFwZSB7XG4gIHB1YmxpYyB2YWx1ZTogbnVtYmVyO1xuICBwcml2YXRlIF9tYXAhOiBTaGFwZU1hcDtcbiAgcHJpdmF0ZSBfZXh0ZW5kITogYm9vbGVhbjtcbiAgcHJpdmF0ZSBfbGluZWFyITogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiBQYXJ0aWFsPFNoYXBlPiA9IHt9KSB7XG4gICAgdGhpcy52YWx1ZSA9IG9wdHMudmFsdWUgfHwgMTtcbiAgICB0aGlzLmV4dGVuZCA9IG9wdHMuZXh0ZW5kIHx8IGZhbHNlO1xuICAgIHRoaXMubWFwID0gb3B0cy5tYXAgfHwgW1tdXTtcbiAgfVxuXG4gIHN0YXRpYyBmcm9tTGVuZ3RoKGxlbmd0aDogbnVtYmVyLCB7IHZhbHVlID0gMSwgb3JNb3JlIH06IHsgdmFsdWU/OiBudW1iZXI7IG9yTW9yZT86IGJvb2xlYW4gfSA9IHt9KTogU2hhcGUge1xuICAgIHJldHVybiBuZXcgU2hhcGUoe1xuICAgICAgdmFsdWUsXG4gICAgICBleHRlbmQ6ICEhb3JNb3JlLFxuICAgICAgbWFwOiBbcmFuZ2UobGVuZ3RoLCAoKSA9PiB0cnVlKV0sXG4gICAgfSk7XG4gIH1cblxuICBnZXQgZXh0ZW5kKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5fZXh0ZW5kICYmIHRoaXMubGluZWFyIH1cbiAgc2V0IGV4dGVuZChleHRlbmQ6IGJvb2xlYW4pIHsgdGhpcy5fZXh0ZW5kID0gZXh0ZW5kIH1cblxuICBnZXQgbWFwKCk6IFNoYXBlTWFwIHsgcmV0dXJuIHRoaXMuX21hcCB9XG4gIHNldCBtYXAobWFwOiBTaGFwZU1hcCkge1xuICAgIGRlbGV0ZSB0aGlzLl9saW5lYXI7XG4gICAgY29uc3Qgcm93TGVuZ3RoID0gbWFwLnJlZHVjZSgobWF4LCB7IGxlbmd0aCB9KSA9PiAobGVuZ3RoID4gbWF4ID8gbGVuZ3RoIDogbWF4KSwgMCk7XG4gICAgdGhpcy5fbWFwID0gbWFwLm1hcCgocm93KSA9PiByYW5nZShyb3dMZW5ndGgsIGkgPT4gKHJvd1tpXSB8fCBmYWxzZSkpKTtcbiAgfVxuXG4gIGdldCBsaW5lYXIoKTogYm9vbGVhbiB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLl9saW5lYXIgIT09ICd1bmRlZmluZWQnKSByZXR1cm4gdGhpcy5fbGluZWFyO1xuXG4gICAgdGhpcy5fbGluZWFyID0gKHRoaXMubWFwLmxlbmd0aCA9PT0gMSAmJiB0aGlzLm1hcFswXS5ldmVyeShzcGFjZSA9PiBzcGFjZSkpXG4gICAgICB8fCB0aGlzLm1hcC5ldmVyeShyb3cgPT4gKHJvdy5sZW5ndGggPT09IDEgJiYgcm93WzBdKSk7XG5cbiAgICByZXR1cm4gdGhpcy5fbGluZWFyO1xuICB9XG5cbiAgbWF0Y2g8TyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4+KGdyaWQ6IE9bXVtdLCBmaWVsZDoga2V5b2YgTywgcm90YXRpb24gPSAwLCBzaGFwZU1hcCA9IHRoaXMubWFwKTogT1tdIHtcbiAgICBpZiAocm90YXRpb24gPiAzKSByZXR1cm4gW107XG5cbiAgICBjb25zdCBtYXRjaGVkID0gW10gYXMgT1tdO1xuICAgIGxldCBtYXRjaFZhbHVlU2V0ID0gZmFsc2U7XG4gICAgbGV0IG1hdGNoVmFsdWU6IE9ba2V5b2YgT107XG5cbiAgICBjb25zdCBhbGxNYXRjaGVkID0gc2hhcGVNYXAuZXZlcnkoKG1hdGNoZXJSb3csIHJvd0luZGV4KSA9PiB7XG4gICAgICBjb25zdCBncmlkUm93ID0gZ3JpZFtyb3dJbmRleF07XG4gICAgICBpZiAoIWdyaWRSb3cpIHJldHVybiBmYWxzZTtcblxuICAgICAgcmV0dXJuIG1hdGNoZXJSb3cuZXZlcnkoKG11c3RNYXRjaCwgY29sSW5kZXgpID0+IHtcbiAgICAgICAgaWYgKCFtdXN0TWF0Y2gpIHJldHVybiB0cnVlO1xuXG4gICAgICAgIGNvbnN0IGdyaWRJdGVtID0gZ3JpZFJvd1tjb2xJbmRleF07XG4gICAgICAgIGlmICghZ3JpZEl0ZW0pIHJldHVybiBmYWxzZTtcblxuICAgICAgICBjb25zdCBncmlkVmFsdWUgPSBncmlkSXRlbVtmaWVsZF07XG4gICAgICAgIGlmICghbWF0Y2hWYWx1ZVNldCkge1xuICAgICAgICAgIG1hdGNoVmFsdWUgPSBncmlkVmFsdWU7XG4gICAgICAgICAgbWF0Y2hWYWx1ZVNldCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ3JpZFZhbHVlICE9PSBtYXRjaFZhbHVlKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgbWF0Y2hlZC5wdXNoKGdyaWRJdGVtKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBhbGxNYXRjaGVkID8gbWF0Y2hlZCA6IHRoaXMubWF0Y2goZ3JpZCwgZmllbGQsIHJvdGF0aW9uICsgMSwgcm90YXRlKHNoYXBlTWFwKSk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRTaGFwZXMgPSAoKTogU2hhcGVbXSA9PiBbXG4gIFNoYXBlLmZyb21MZW5ndGgoMywgeyB2YWx1ZTogMSB9KSxcbiAgU2hhcGUuZnJvbUxlbmd0aCg0LCB7IHZhbHVlOiAyIH0pLFxuICBTaGFwZS5mcm9tTGVuZ3RoKDUsIHsgdmFsdWU6IDMgfSksXG4gIFNoYXBlLmZyb21MZW5ndGgoNiwgeyB2YWx1ZTogNCwgb3JNb3JlOiB0cnVlIH0pLFxuICBuZXcgU2hhcGUoe1xuICAgIHZhbHVlOiA1LFxuICAgIG1hcDogW1xuICAgICAgW3RydWUsIHRydWUsIHRydWVdLFxuICAgICAgW3RydWVdLFxuICAgICAgW3RydWVdLFxuICAgIF0sXG4gIH0pLFxuICBuZXcgU2hhcGUoe1xuICAgIHZhbHVlOiA2LFxuICAgIG1hcDogW1xuICAgICAgW3RydWUsIHRydWUsIHRydWVdLFxuICAgICAgW2ZhbHNlLCB0cnVlXSxcbiAgICAgIFtmYWxzZSwgdHJ1ZV0sXG4gICAgXSxcbiAgfSksXG4gIG5ldyBTaGFwZSh7XG4gICAgdmFsdWU6IDcsXG4gICAgbWFwOiBbXG4gICAgICBbdHJ1ZSwgdHJ1ZV0sXG4gICAgICBbdHJ1ZSwgdHJ1ZV0sXG4gICAgXSxcbiAgfSksXG5dO1xuIiwiaW1wb3J0IEJvYXJkIGZyb20gXCIuLi9Cb2FyZFwiO1xuaW1wb3J0IENhbnZhc1RpbGUgZnJvbSBcIi4vQ2FudmFzVGlsZVwiO1xuaW1wb3J0IHsgcmFuZCwgcmFuZ2UgfSBmcm9tIFwiLi4vdXRpbGl0aWVzXCI7XG5pbXBvcnQgbW91c2UsIHsgTW91c2UgfSBmcm9tIFwiLi9tb3VzZVwiO1xuaW1wb3J0IFNoYXBlLCB7IGRlZmF1bHRTaGFwZXMgfSBmcm9tIFwiLi4vU2hhcGVcIjtcblxuZXhwb3J0IHR5cGUgU3dhcERpcmVjdGlvbiA9ICdub25lJ3wndXAnfCdkb3duJ3wnbGVmdCd8J3JpZ2h0JztcblxuZXhwb3J0IGludGVyZmFjZSBQcmVzZW50Q2FudmFzVGlsZUluZm8ge1xuICByb3c6IG51bWJlcjtcbiAgY29sOiBudW1iZXI7XG4gIHRpbGU6IENhbnZhc1RpbGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmxhbmtDYW52YXNUaWxlSW5mbyB7XG4gIHJvdzogLTE7XG4gIGNvbDogLTE7XG4gIHRpbGU6IG51bGw7XG59XG5cbmV4cG9ydCB0eXBlIENhbnZhc1RpbGVJbmZvID0gUHJlc2VudENhbnZhc1RpbGVJbmZvIHwgQmxhbmtDYW52YXNUaWxlSW5mbztcblxuZXhwb3J0IGludGVyZmFjZSBCb2FyZERyYWdFdmVudCB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuICBkaXN0YW5jZTogbnVtYmVyO1xuICBkaXJlY3Rpb246IFN3YXBEaXJlY3Rpb247XG4gIG9yaWdpbjogUHJlc2VudENhbnZhc1RpbGVJbmZvO1xuICBkZXN0aW5hdGlvbjogUHJlc2VudENhbnZhc1RpbGVJbmZvO1xuICBtb3VzZTogTW91c2U7XG59XG5cbmV4cG9ydCB0eXBlIEJvYXJkRHJhZ0V2ZW50Q2FsbGJhY2sgPSAoZXZlbnQ6IEJvYXJkRHJhZ0V2ZW50KSA9PiB2b2lkO1xuXG5leHBvcnQgaW50ZXJmYWNlIENvb3JkUG9zaXRpb24ge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHcmlkUG9zaXRpb24ge1xuICByb3c6IG51bWJlcjtcbiAgY29sOiBudW1iZXI7XG59XG5cbmNvbnN0IGJsYW5rQ2FudmFzVGlsZUluZm8gPSAoKTogQmxhbmtDYW52YXNUaWxlSW5mbyA9PiAoeyByb3c6IC0xLCBjb2w6IC0xLCB0aWxlOiBudWxsIH0pO1xuXG5jb25zdCBkaXN0YW5jZUJldHdlZW4gPSAob3JpZ2luOiBDb29yZFBvc2l0aW9uLCBkZXN0aW5hdGlvbjogQ29vcmRQb3NpdGlvbik6IG51bWJlciA9PiB7XG4gIGNvbnN0IGR4ID0gZGVzdGluYXRpb24ueCAtIG9yaWdpbi54O1xuICBjb25zdCBkeSA9IGRlc3RpbmF0aW9uLnkgLSBvcmlnaW4ueTtcbiAgcmV0dXJuIE1hdGguc3FydCgoZHggKiogMikgKyAoZHkgKiogMikpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FudmFzQm9hcmQgZXh0ZW5kcyBCb2FyZDxDYW52YXNUaWxlPiB7XG4gIHB1YmxpYyB4OiBudW1iZXI7XG4gIHB1YmxpYyB5OiBudW1iZXI7XG4gIHB1YmxpYyB3aWR0aDogbnVtYmVyO1xuICBwdWJsaWMgaGVpZ2h0OiBudW1iZXI7XG4gIHB1YmxpYyBzZW5zaXRpdml0eTogbnVtYmVyO1xuICBwdWJsaWMgZHJhZ1N0YXJ0Q2FsbGJhY2tzOiBCb2FyZERyYWdFdmVudENhbGxiYWNrW10gPSBbXTtcbiAgcHVibGljIGRyYWdFbmRDYWxsYmFja3M6IEJvYXJkRHJhZ0V2ZW50Q2FsbGJhY2tbXSA9IFtdO1xuICBwdWJsaWMgZHJhZ0NhbGxiYWNrczogQm9hcmREcmFnRXZlbnRDYWxsYmFja1tdID0gW107XG4gIHB1YmxpYyBzaGFwZXM6IFNoYXBlW107XG4gIHB1YmxpYyBhcHBseVNlbGVjdGVkU3R5bGU6IENhbnZhc1RpbGVbJ2FwcGx5U2VsZWN0ZWRTdHlsZSddO1xuICBwdWJsaWMgYXBwbHlUYXJnZXRlZFN0eWxlOiBDYW52YXNUaWxlWydhcHBseVRhcmdldGVkU3R5bGUnXTtcbiAgcHVibGljIGFwcGx5TWF0Y2hlZFN0eWxlOiBDYW52YXNUaWxlWydhcHBseU1hdGNoZWRTdHlsZSddO1xuICBwdWJsaWMgbWF0Y2hBbmltYXRpb25NczogbnVtYmVyO1xuICBwcml2YXRlIGRyYWdPcmlnaW46IENhbnZhc1RpbGVJbmZvID0gYmxhbmtDYW52YXNUaWxlSW5mbygpO1xuICBwcml2YXRlIHN0YXJ0ZWRTZXR0bGluZ0F0PzogRGF0ZTtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiBQYXJ0aWFsPENhbnZhc0JvYXJkPikge1xuICAgIHN1cGVyKHtcbiAgICAgIC4uLm9wdHMsXG4gICAgICB0aWxlVHlwZXM6IG9wdHMudGlsZVR5cGVzIHx8IFsncmVkJywgJ29yYW5nZScsICd5ZWxsb3cnLCAnZ3JlZW4nLCAnYmx1ZSddLFxuICAgICAgdGlsZUdlbmVyYXRvcigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDYW52YXNUaWxlKHtcbiAgICAgICAgICB0eXBlOiB0aGlzLnRpbGVUeXBlc1tNYXRoLmZsb29yKHJhbmQoMCwgdGhpcy50aWxlVHlwZXMubGVuZ3RoKSldLFxuICAgICAgICAgIHdpZHRoOiB0aGlzLnRpbGVXaWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IHRoaXMudGlsZUhlaWdodCxcbiAgICAgICAgICBjb2xvcklzVHlwZTogdHJ1ZSxcbiAgICAgICAgICBhcHBseVNlbGVjdGVkU3R5bGU6IHRoaXMuYXBwbHlTZWxlY3RlZFN0eWxlLFxuICAgICAgICAgIGFwcGx5VGFyZ2V0ZWRTdHlsZTogdGhpcy5hcHBseVRhcmdldGVkU3R5bGUsXG4gICAgICAgICAgYXBwbHlNYXRjaGVkU3R5bGU6IHRoaXMuYXBwbHlNYXRjaGVkU3R5bGUsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMueCA9IG9wdHMueCB8fCAwO1xuICAgIHRoaXMueSA9IG9wdHMueSB8fCAwO1xuICAgIHRoaXMud2lkdGggPSBvcHRzLndpZHRoIHx8IHRoaXMuY29sQ291bnQgKiA1MDtcbiAgICB0aGlzLmhlaWdodCA9IG9wdHMuaGVpZ2h0IHx8IHRoaXMud2lkdGg7XG4gICAgdGhpcy5zZW5zaXRpdml0eSA9IG9wdHMuc2Vuc2l0aXZpdHkgfHwgMjU7XG4gICAgdGhpcy5zaGFwZXMgPSBvcHRzLnNoYXBlcyB8fCBkZWZhdWx0U2hhcGVzKCk7XG4gICAgdGhpcy5hcHBseVNlbGVjdGVkU3R5bGUgPSBvcHRzLmFwcGx5U2VsZWN0ZWRTdHlsZSB8fCAoKCkgPT4ge30pO1xuICAgIHRoaXMuYXBwbHlUYXJnZXRlZFN0eWxlID0gb3B0cy5hcHBseVRhcmdldGVkU3R5bGUgfHwgKCgpID0+IHt9KTtcbiAgICB0aGlzLmFwcGx5TWF0Y2hlZFN0eWxlID0gb3B0cy5hcHBseU1hdGNoZWRTdHlsZSB8fCAoKCkgPT4ge30pO1xuICAgIHRoaXMubWF0Y2hBbmltYXRpb25NcyA9IG9wdHMubWF0Y2hBbmltYXRpb25NcyB8fCAyNTA7XG5cbiAgICBtb3VzZS5vblByZXNzKHRoaXMucnVuRHJhZ1N0YXJ0Q2FsbGJhY2tzLmJpbmQodGhpcykpO1xuICAgIG1vdXNlLm9uRGVwcmVzcyh0aGlzLnJ1bkRyYWdFbmRDYWxsYmFja3MuYmluZCh0aGlzKSk7XG4gICAgbW91c2Uub25Nb3ZlKHRoaXMucnVuRHJhZ0NhbGxiYWNrcy5iaW5kKHRoaXMpKTtcblxuICAgIHRoaXMucm93cyA9IHRoaXMubmV3Um93cygpO1xuICB9XG5cbiAgZ2V0IHRpbGVXaWR0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLndpZHRoIC8gdGhpcy5jb2xDb3VudDtcbiAgfVxuXG4gIGdldCB0aWxlSGVpZ2h0KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuaGVpZ2h0IC8gdGhpcy5yb3dDb3VudDtcbiAgfVxuXG4gIGRyYXcoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcbiAgICBjb25zdCBzZXR0bGluZyA9IHRoaXMuY2hlY2tTZXR0bGUoKTtcbiAgICBjb25zdCBtc1NpbmNlU2V0dGxlID0gdGhpcy5zdGFydGVkU2V0dGxpbmdBdCA/IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gdGhpcy5zdGFydGVkU2V0dGxpbmdBdC5nZXRUaW1lKCkgOiAwO1xuICAgIGNvbnN0IGZhbGxUaW1lTXMgPSAxMDA7XG4gICAgY29uc3QgZHkgPSAobXNTaW5jZVNldHRsZSAvIGZhbGxUaW1lTXMpICogdGhpcy50aWxlSGVpZ2h0O1xuICAgIGNvbnN0IGl0c1N3YXBUaW1lQnJ1aCA9IG1zU2luY2VTZXR0bGUgPiBmYWxsVGltZU1zO1xuICAgIGlmIChpdHNTd2FwVGltZUJydWgpIGRlbGV0ZSB0aGlzLnN0YXJ0ZWRTZXR0bGluZ0F0O1xuXG4gICAgY29uc3QgdGlsZXNUb1N3YXAgPSBbXSBhcyBbR3JpZFBvc2l0aW9uLCBHcmlkUG9zaXRpb25dW107XG4gICAgdGhpcy5yb3dzLmZvckVhY2goKHJvdywgcm93SW5kZXgpID0+IHtcbiAgICAgIHJvdy5mb3JFYWNoKCh0aWxlLCB0aWxlSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgeCA9IHRoaXMueCArICh0aWxlSW5kZXggKiB0aWxlLndpZHRoKTtcbiAgICAgICAgbGV0IHkgPSB0aGlzLnkgKyAocm93SW5kZXggKiB0aWxlLmhlaWdodCk7XG4gICAgICAgIGlmIChzZXR0bGluZyAmJiAhdGlsZS5ibGFuaykge1xuICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0geyByb3c6IHJvd0luZGV4LCBjb2w6IHRpbGVJbmRleCB9O1xuICAgICAgICAgIGNvbnN0IGJlbG93ID0gdGhpcy5hZGphY2VudFRpbGUocG9zaXRpb24sICdkb3duJyk7XG4gICAgICAgICAgaWYgKGJlbG93LnRpbGUgJiYgYmVsb3cudGlsZS5ibGFuaykge1xuICAgICAgICAgICAgeSArPSBkeTtcbiAgICAgICAgICAgIGlmIChpdHNTd2FwVGltZUJydWgpIHRpbGVzVG9Td2FwLnB1c2goW3Bvc2l0aW9uLCBiZWxvd10pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aWxlLmRyYXcoY3R4LCB4LCB5KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGlsZXNUb1N3YXAuZm9yRWFjaCgoW29yaWdpbiwgYmVsb3ddKSA9PiB0aGlzLnN3YXBUaWxlKG9yaWdpbiwgYmVsb3cpKTtcbiAgfVxuXG4gIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJvd3NbMF0gPSB0aGlzLnJvd3NbMF0ubWFwKHRpbGUgPT4gKHRpbGUuYmxhbmsgPyB0aGlzLnRpbGVHZW5lcmF0b3IoKSA6IHRpbGUpKTtcbiAgICBjb25zdCBzdGlsbEdvbm5hU2V0dGxlID0gdGhpcy5yb3dzLnNsaWNlKDEpLnNvbWUoKHJvdykgPT4gcm93LnNvbWUodGlsZSA9PiB0aWxlLmJsYW5rKSk7XG4gICAgaWYgKHN0aWxsR29ubmFTZXR0bGUpIHJldHVybjtcblxuICAgIGNvbnN0IG1hdGNoZWRTaGFwZXMgPSB0aGlzLm1hdGNoU2hhcGVzKCk7XG4gICAgbWF0Y2hlZFNoYXBlcy5mb3JFYWNoKCh7IHNoYXBlLCB0aWxlcyB9KSA9PiB7XG4gICAgICB0aWxlcy5mb3JFYWNoKHRpbGUgPT4ge1xuICAgICAgICB0aWxlLm1hdGNoZWQgPSB0cnVlO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aWxlLmJsYW5rID0gdHJ1ZTtcbiAgICAgICAgfSwgdGhpcy5tYXRjaEFuaW1hdGlvbk1zKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgY2hlY2tTZXR0bGUoKTogYm9vbGVhbiB7XG4gICAgY29uc3Qgc2V0dGxpbmcgPSB0aGlzLnRpbGVzLnNvbWUodGlsZSA9PiB0aWxlLmJsYW5rKTtcblxuICAgIGlmIChzZXR0bGluZykge1xuICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWRTZXR0bGluZ0F0KSB0aGlzLnN0YXJ0ZWRTZXR0bGluZ0F0ID0gbmV3IERhdGUoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGRlbGV0ZSB0aGlzLnN0YXJ0ZWRTZXR0bGluZ0F0O1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHRpbGVBdChwb3M6IENvb3JkUG9zaXRpb258R3JpZFBvc2l0aW9uKTogQ2FudmFzVGlsZUluZm8ge1xuICAgIGlmICgncm93JyBpbiBwb3MpIHtcbiAgICAgIGNvbnN0IHsgcm93LCBjb2wgfSA9IHBvcztcbiAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLnJvd3Nbcm93XVtjb2xdO1xuICAgICAgcmV0dXJuIHRpbGUgPyB7IHJvdywgY29sLCB0aWxlIH0gOiBibGFua0NhbnZhc1RpbGVJbmZvKCk7XG4gICAgfVxuXG4gICAgY29uc3QgeCA9IHBvcy54IC0gdGhpcy54O1xuICAgIGNvbnN0IHkgPSBwb3MueSAtIHRoaXMueTtcbiAgICBpZiAoeCA+IHRoaXMud2lkdGggfHwgeSA+IHRoaXMuaGVpZ2h0KSByZXR1cm4gYmxhbmtDYW52YXNUaWxlSW5mbygpO1xuXG4gICAgY29uc3QgZnJhY3Rpb25YID0geCAvIHRoaXMud2lkdGg7XG4gICAgY29uc3QgZnJhY3Rpb25ZID0geSAvIHRoaXMuaGVpZ2h0O1xuICAgIGNvbnN0IHJvdyA9IE1hdGguZmxvb3IoZnJhY3Rpb25ZICogdGhpcy5yb3dDb3VudCk7XG4gICAgY29uc3QgY29sID0gTWF0aC5mbG9vcihmcmFjdGlvblggKiB0aGlzLmNvbENvdW50KTtcbiAgICBjb25zdCB0aWxlID0gdGhpcy5yb3dzW3Jvd11bY29sXTtcbiAgICByZXR1cm4geyByb3csIGNvbCwgdGlsZSB9O1xuICB9XG5cbiAgdGlsZUNlbnRlcih0aWxlSW5mbzogQ2FudmFzVGlsZUluZm8pOiBDb29yZFBvc2l0aW9uIHtcbiAgICBjb25zdCB7IHJvdywgY29sLCB0aWxlIH0gPSB0aWxlSW5mbztcbiAgICBpZiAoIXRpbGUpIHJldHVybiB7IHg6IC0xLCB5OiAtMSB9O1xuXG4gICAgY29uc3QgeCA9IHRoaXMueCArIChjb2wgKiB0aWxlLmhlaWdodCkgKyAodGlsZS5oZWlnaHQgLyAyKTtcbiAgICBjb25zdCB5ID0gdGhpcy55ICsgKHJvdyAqIHRpbGUud2lkdGgpICsgKHRpbGUud2lkdGggLyAyKTtcbiAgICByZXR1cm4geyB4LCB5IH07XG4gIH1cblxuICBzd2FwVGlsZShmcm9tOiBDb29yZFBvc2l0aW9ufEdyaWRQb3NpdGlvbiwgdG86IFN3YXBEaXJlY3Rpb258Q29vcmRQb3NpdGlvbnxHcmlkUG9zaXRpb24pOiB2b2lkIHtcbiAgICBpZiAodHlwZW9mIHRvID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5zd2FwVGlsZUluRGlyZWN0aW9uKGZyb20sIHRvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zd2FwVGlsZVdpdGhUaWxlKGZyb20sIHRvKTtcbiAgICB9XG4gIH1cblxuICBvbkRyYWdTdGFydChjYWxsYmFjazogKGV2ZW50OiBCb2FyZERyYWdFdmVudCkgPT4gdm9pZCk6IG51bWJlciB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmRyYWdTdGFydENhbGxiYWNrcy5sZW5ndGg7XG4gICAgdGhpcy5kcmFnU3RhcnRDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgcmVtb3ZlRHJhZ1N0YXJ0TGlzdGVuZXIoaWQ6IG51bWJlcik6IHZvaWQge1xuICAgIGRlbGV0ZSB0aGlzLmRyYWdTdGFydENhbGxiYWNrc1tpZF07XG4gIH1cblxuICBvbkRyYWdFbmQoY2FsbGJhY2s6IChldmVudDogQm9hcmREcmFnRXZlbnQpID0+IHZvaWQpOiBudW1iZXIge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5kcmFnRW5kQ2FsbGJhY2tzLmxlbmd0aDtcbiAgICB0aGlzLmRyYWdFbmRDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgcmVtb3ZlRHJhZ0VuZExpc3RlbmVyKGlkOiBudW1iZXIpOiB2b2lkIHtcbiAgICBkZWxldGUgdGhpcy5kcmFnRW5kQ2FsbGJhY2tzW2lkXTtcbiAgfVxuXG4gIG9uRHJhZyhjYWxsYmFjazogKGV2ZW50OiBCb2FyZERyYWdFdmVudCkgPT4gdm9pZCk6IG51bWJlciB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmRyYWdDYWxsYmFja3MubGVuZ3RoO1xuICAgIHRoaXMuZHJhZ0NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICByZW1vdmVEcmFnTGlzdGVuZXIoaWQ6IG51bWJlcik6IHZvaWQge1xuICAgIGRlbGV0ZSB0aGlzLmRyYWdDYWxsYmFja3NbaWRdO1xuICB9XG5cbiAgYWRqYWNlbnRTcGFjZShvcmlnaW46IENvb3JkUG9zaXRpb258R3JpZFBvc2l0aW9uLCBkaXJlY3Rpb246IFN3YXBEaXJlY3Rpb24pOiBHcmlkUG9zaXRpb24ge1xuICAgIGNvbnN0IHsgcm93LCBjb2wgfSA9ICdyb3cnIGluIG9yaWdpbiA/IG9yaWdpbiA6IHRoaXMudGlsZUF0KG9yaWdpbik7XG4gICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICAgIGNhc2UgJ3VwJzogcmV0dXJuIHsgcm93OiByb3cgLSAxLCBjb2wgfTtcbiAgICAgIGNhc2UgJ2Rvd24nOiByZXR1cm4geyByb3c6IHJvdyArIDEsIGNvbCB9O1xuICAgICAgY2FzZSAnbGVmdCc6IHJldHVybiB7IHJvdywgY29sOiBjb2wgLSAxIH07XG4gICAgICBjYXNlICdyaWdodCc6IHJldHVybiB7IHJvdywgY29sOiBjb2wgKyAxIH07XG4gICAgICBkZWZhdWx0OiByZXR1cm4geyByb3csIGNvbCB9O1xuICAgIH1cbiAgfVxuXG4gIGFkamFjZW50VGlsZShvcmlnaW46IENhbnZhc1RpbGVJbmZvfENvb3JkUG9zaXRpb258R3JpZFBvc2l0aW9uLCBkaXJlY3Rpb246IFN3YXBEaXJlY3Rpb24pOiBDYW52YXNUaWxlSW5mbyB7XG4gICAgY29uc3QgeyByb3csIGNvbCB9ID0gdGhpcy5hZGphY2VudFNwYWNlKG9yaWdpbiwgZGlyZWN0aW9uKTtcbiAgICBjb25zdCB0aWxlID0gdGhpcy5yb3dzW3Jvd10gJiYgdGhpcy5yb3dzW3Jvd11bY29sXTtcbiAgICByZXR1cm4gdGlsZSA/IHsgcm93LCBjb2wsIHRpbGUgfSA6IGJsYW5rQ2FudmFzVGlsZUluZm8oKTtcbiAgfVxuXG4gIHJlbW92ZVRpbGUodGlsZTogQ2FudmFzVGlsZSk6IHZvaWQge1xuICAgIHRpbGUuYmxhbmsgPSB0cnVlO1xuICB9XG5cbiAgbWF0Y2hTaGFwZXMoKTogeyBzaGFwZTogU2hhcGU7IHRpbGVzOiBDYW52YXNUaWxlW10gfVtdIHtcbiAgICByZXR1cm4gcmFuZ2UodGhpcy5jb2xDb3VudCkucmVkdWNlKChtZW1vLCBjb2xJbmRleCkgPT4ge1xuICAgICAgdGhpcy5zaGFwZXMuZm9yRWFjaCgoc2hhcGUpID0+IHtcbiAgICAgICAgdGhpcy5yb3dzLmZvckVhY2goKF9yb3csIHJvd0luZGV4KSA9PiB7XG4gICAgICAgICAgY29uc3QgbmV3R3JpZCA9IHRoaXMucm93cy5zbGljZShyb3dJbmRleCkubWFwKHJvdyA9PiByb3cuc2xpY2UoY29sSW5kZXgpKTtcbiAgICAgICAgICBjb25zdCB0aWxlcyA9IHNoYXBlLm1hdGNoKG5ld0dyaWQsICd0eXBlJyk7XG4gICAgICAgICAgaWYgKHRpbGVzLmxlbmd0aCkgbWVtby5wdXNoKHsgc2hhcGUsIHRpbGVzIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG1lbW87XG4gICAgfSwgW10gYXMgeyBzaGFwZTogU2hhcGU7IHRpbGVzOiBDYW52YXNUaWxlW10gfVtdKTtcbiAgfVxuXG4gIHByaXZhdGUgc3dhcFRpbGVXaXRoVGlsZShmcm9tOiBDb29yZFBvc2l0aW9ufEdyaWRQb3NpdGlvbiwgdG86IENvb3JkUG9zaXRpb258R3JpZFBvc2l0aW9uKTogdm9pZCB7XG4gICAgY29uc3Qgb3JpZ2luID0gdGhpcy50aWxlQXQoZnJvbSk7XG4gICAgaWYgKCFvcmlnaW4udGlsZSkgcmV0dXJuO1xuXG4gICAgY29uc3QgZGVzdGluYXRpb24gPSB0aGlzLnRpbGVBdCh0byk7XG4gICAgaWYgKCFkZXN0aW5hdGlvbi50aWxlKSByZXR1cm47XG5cbiAgICB0aGlzLnJvd3NbZGVzdGluYXRpb24ucm93XVtkZXN0aW5hdGlvbi5jb2xdID0gb3JpZ2luLnRpbGU7XG4gICAgdGhpcy5yb3dzW29yaWdpbi5yb3ddW29yaWdpbi5jb2xdID0gZGVzdGluYXRpb24udGlsZTtcbiAgfVxuXG4gIHByaXZhdGUgc3dhcFRpbGVJbkRpcmVjdGlvbihmcm9tOiBDb29yZFBvc2l0aW9ufEdyaWRQb3NpdGlvbiwgZGlyZWN0aW9uOiBTd2FwRGlyZWN0aW9uKTogdm9pZCB7XG4gICAgY29uc3Qgb3JpZ2luID0gdGhpcy50aWxlQXQoZnJvbSk7XG4gICAgaWYgKCFvcmlnaW4udGlsZSkgcmV0dXJuO1xuXG4gICAgY29uc3QgZGVzdGluYXRpb24gPSB0aGlzLmFkamFjZW50VGlsZShvcmlnaW4sIGRpcmVjdGlvbik7XG4gICAgaWYgKCFkZXN0aW5hdGlvbi50aWxlKSByZXR1cm47XG5cbiAgICB0aGlzLnJvd3NbZGVzdGluYXRpb24ucm93XVtkZXN0aW5hdGlvbi5jb2xdID0gb3JpZ2luLnRpbGU7XG4gICAgdGhpcy5yb3dzW29yaWdpbi5yb3ddW29yaWdpbi5jb2xdID0gZGVzdGluYXRpb24udGlsZTtcbiAgfVxuXG4gIHByaXZhdGUgY2xlYXJFeGlzdGluZ0RyYWdGbGFncygpOiB2b2lkIHtcbiAgICB0aGlzLnRpbGVzLmZvckVhY2goKHRpbGUpID0+IHtcbiAgICAgIHRpbGUuc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgIHRpbGUudGFyZ2V0ZWQgPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0RHJhZ1N0YXJ0RmxhZ3ModGlsZUluZm86IFByZXNlbnRDYW52YXNUaWxlSW5mbyk6IHZvaWQge1xuICAgIHRoaXMuY2xlYXJFeGlzdGluZ0RyYWdGbGFncygpO1xuICAgIHRpbGVJbmZvLnRpbGUuc2VsZWN0ZWQgPSB0cnVlO1xuICAgIHRpbGVJbmZvLnRpbGUudGFyZ2V0ZWQgPSB0cnVlO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXREcmFnRW5kRmxhZ3MoKTogdm9pZCB7XG4gICAgdGhpcy5jbGVhckV4aXN0aW5nRHJhZ0ZsYWdzKCk7XG4gIH1cblxuICBwcml2YXRlIHNldERyYWdGbGFncyhvcmlnaW46IFByZXNlbnRDYW52YXNUaWxlSW5mbywgZGVzdGluYXRpb246IFByZXNlbnRDYW52YXNUaWxlSW5mbyk6IHZvaWQge1xuICAgIHRoaXMuY2xlYXJFeGlzdGluZ0RyYWdGbGFncygpO1xuICAgIG9yaWdpbi50aWxlLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICBkZXN0aW5hdGlvbi50aWxlLnRhcmdldGVkID0gdHJ1ZTtcbiAgfVxuXG4gIHByaXZhdGUgcnVuRHJhZ1N0YXJ0Q2FsbGJhY2tzKG1vdXNlOiBNb3VzZSk6IHZvaWQge1xuICAgIGNvbnN0IHsgeCwgeSB9ID0gbW91c2U7XG4gICAgY29uc3Qgb3JpZ2luID0gdGhpcy50aWxlQXQoeyB4LCB5IH0pO1xuICAgIGlmICghb3JpZ2luLnRpbGUpIHJldHVybjtcblxuICAgIHRoaXMuZHJhZ09yaWdpbiA9IG9yaWdpbjtcbiAgICB0aGlzLnNldERyYWdTdGFydEZsYWdzKHRoaXMuZHJhZ09yaWdpbik7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBkaXN0YW5jZUJldHdlZW4obW91c2UsIHRoaXMudGlsZUNlbnRlcihvcmlnaW4pKTtcbiAgICBjb25zdCBkaXJlY3Rpb24gPSBtb3VzZS5kcmFnRGlyZWN0aW9uO1xuICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gb3JpZ2luO1xuXG4gICAgdGhpcy5kcmFnU3RhcnRDYWxsYmFja3MuZm9yRWFjaCgoY2FsbGJhY2spID0+IHtcbiAgICAgIGNhbGxiYWNrKHsgeCwgeSwgZGlzdGFuY2UsIGRpcmVjdGlvbiwgb3JpZ2luLCBkZXN0aW5hdGlvbiwgbW91c2UgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJ1bkRyYWdFbmRDYWxsYmFja3MobW91c2U6IE1vdXNlKTogdm9pZCB7XG4gICAgY29uc3Qgb3JpZ2luID0gdGhpcy5kcmFnT3JpZ2luO1xuICAgIGlmICghb3JpZ2luLnRpbGUpIHJldHVybjtcblxuICAgIGNvbnN0IHsgeCwgeSB9ID0gbW91c2U7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBkaXN0YW5jZUJldHdlZW4obW91c2UsIHRoaXMudGlsZUNlbnRlcihvcmlnaW4pKTtcbiAgICBjb25zdCBtb3ZlVG8gPSBkaXN0YW5jZSA+IHRoaXMuc2Vuc2l0aXZpdHkgPyB0aGlzLmFkamFjZW50VGlsZShvcmlnaW4sIG1vdXNlLmRyYWdEaXJlY3Rpb24pIDogb3JpZ2luO1xuICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gbW92ZVRvLnRpbGUgPyBtb3ZlVG8gOiBvcmlnaW47XG4gICAgY29uc3QgZGlyZWN0aW9uID0gbW91c2UuZHJhZ0RpcmVjdGlvbjtcbiAgICB0aGlzLnNldERyYWdFbmRGbGFncygpO1xuXG4gICAgdGhpcy5kcmFnRW5kQ2FsbGJhY2tzLmZvckVhY2goKGNhbGxiYWNrKSA9PiB7XG4gICAgICBjYWxsYmFjayh7IHgsIHksIGRpc3RhbmNlLCBkaXJlY3Rpb24sIG9yaWdpbiwgZGVzdGluYXRpb24sIG1vdXNlIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5kcmFnT3JpZ2luID0gYmxhbmtDYW52YXNUaWxlSW5mbygpO1xuICB9XG5cbiAgcHJpdmF0ZSBydW5EcmFnQ2FsbGJhY2tzKG1vdXNlOiBNb3VzZSk6IHZvaWQge1xuICAgIGNvbnN0IG9yaWdpbiA9IHRoaXMuZHJhZ09yaWdpbjtcbiAgICBpZiAoIW9yaWdpbi50aWxlKSByZXR1cm47XG5cbiAgICBjb25zdCB7IHgsIHksIHByZXNzZWQgfSA9IG1vdXNlO1xuICAgIGlmICghcHJlc3NlZCkgcmV0dXJuO1xuXG4gICAgY29uc3QgZGlzdGFuY2UgPSBkaXN0YW5jZUJldHdlZW4obW91c2UsIHRoaXMudGlsZUNlbnRlcihvcmlnaW4pKTtcbiAgICBjb25zdCBtb3ZlVG8gPSBkaXN0YW5jZSA+IHRoaXMuc2Vuc2l0aXZpdHkgPyB0aGlzLmFkamFjZW50VGlsZShvcmlnaW4sIG1vdXNlLmRyYWdEaXJlY3Rpb24pIDogb3JpZ2luO1xuICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gbW92ZVRvLnRpbGUgPyBtb3ZlVG8gOiBvcmlnaW47XG4gICAgY29uc3QgZGlyZWN0aW9uID0gbW91c2UuZHJhZ0RpcmVjdGlvbjtcbiAgICB0aGlzLnNldERyYWdGbGFncyhvcmlnaW4sIGRlc3RpbmF0aW9uKTtcblxuICAgIHRoaXMuZHJhZ0NhbGxiYWNrcy5mb3JFYWNoKChjYWxsYmFjaykgPT4ge1xuICAgICAgY2FsbGJhY2soeyB4LCB5LCBkaXN0YW5jZSwgZGlyZWN0aW9uLCBvcmlnaW4sIGRlc3RpbmF0aW9uLCBtb3VzZSB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG4od2luZG93IGFzIGFueSkuZGVmYXVsdFNoYXBlcyA9IGRlZmF1bHRTaGFwZXM7XG4iLCJpbXBvcnQgZ2FtZUxvb3AgZnJvbSBcIi4vZ2FtZS9nYW1lTG9vcFwiO1xuaW1wb3J0IHsgY3R4IH0gZnJvbSBcIi4vZ2FtZS9jYW52YXNcIjtcbmltcG9ydCBDYW52YXNCb2FyZCwgeyBDb29yZFBvc2l0aW9uIH0gZnJvbSBcIi4vZ2FtZS9DYW52YXNCb2FyZFwiO1xuaW1wb3J0IENhbnZhc1RpbGUgZnJvbSBcIi4vZ2FtZS9DYW52YXNUaWxlXCI7XG5cbmNvbnN0IE1BVENIX0FOSU1BVElPTl9NUyA9IDI1MDtcblxuY29uc3QgYXBwbHlTZWxlY3RlZFN0eWxlID0gKHRpbGU6IENhbnZhc1RpbGUsIHsgeCwgeSB9OiBDb29yZFBvc2l0aW9uKTogdm9pZCA9PiB7XG4gIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGlsZTtcbiAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSknO1xuICBjdHguZmlsbFJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG59O1xuXG5jb25zdCBhcHBseVRhcmdldGVkU3R5bGUgPSAodGlsZTogQ2FudmFzVGlsZSwgeyB4LCB5IH06IENvb3JkUG9zaXRpb24pOiB2b2lkID0+IHtcbiAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aWxlO1xuICBjb25zdCBtaWxsaXMgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgY29uc3QgcHVsc2VNcyA9IDI1MDtcbiAgY29uc3QgbWluU3Ryb2tlID0gMjtcbiAgY29uc3QgbWF4U3Ryb2tlID0gNTtcbiAgY29uc3Qgc3Ryb2tlV2lkdGggPSBtaW5TdHJva2UgKyAoTWF0aC5zaW4oKG1pbGxpcyAvIHB1bHNlTXMpICUgTWF0aC5QSSkgKiAobWF4U3Ryb2tlIC0gbWluU3Ryb2tlKSk7XG4gIGN0eC5maWxsU3R5bGUgPSAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkpJztcbiAgY3R4LmZpbGxSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICBjdHguZmlsbFN0eWxlID0gdGlsZS5jb2xvcjtcbiAgY3R4LmZpbGxSZWN0KHggKyBzdHJva2VXaWR0aCwgeSArIHN0cm9rZVdpZHRoLCB3aWR0aCAtIChzdHJva2VXaWR0aCAqIDIpLCBoZWlnaHQgLSAoc3Ryb2tlV2lkdGggKiAyKSk7XG59O1xuXG5jb25zdCBhcHBseU1hdGNoZWRTdHlsZSA9ICh0aWxlOiBDYW52YXNUaWxlLCB7IHgsIHkgfTogQ29vcmRQb3NpdGlvbik6IHZvaWQgPT4ge1xuICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIGNvbG9yIH0gPSB0aWxlO1xuICBpZiAoIXRpbGUubWF0Y2hlZEF0KSByZXR1cm47XG5cbiAgY29uc3QgbXNTaW5jZU1hdGNoID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aWxlLm1hdGNoZWRBdC5nZXRUaW1lKCk7XG4gIGNvbnN0IHBlcmNlbnREb25lID0gbXNTaW5jZU1hdGNoID4gTUFUQ0hfQU5JTUFUSU9OX01TID8gMSA6IG1zU2luY2VNYXRjaCAvIE1BVENIX0FOSU1BVElPTl9NUztcbiAgY29uc3QgaG9yaXpvbnRhbCA9IHBlcmNlbnREb25lICogKHdpZHRoIC8gMik7XG4gIGNvbnN0IHZlcnRpY2FsID0gcGVyY2VudERvbmUgKiAoaGVpZ2h0IC8gMik7XG4gIGN0eC5maWxsU3R5bGUgPSAnI0ZGRic7XG4gIGN0eC5maWxsUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xuICBjdHguZmlsbFJlY3QoeCArIGhvcml6b250YWwsIHkgKyB2ZXJ0aWNhbCwgd2lkdGggLSAoaG9yaXpvbnRhbCAqIDIpLCBoZWlnaHQgLSAodmVydGljYWwgKiAyKSk7XG59O1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgY29uc3QgYm9hcmQgPSBuZXcgQ2FudmFzQm9hcmQoe1xuICAgIHdpZHRoOiBNYXRoLm1pbih3aW5kb3cuaW5uZXJXaWR0aCwgNTAwKSxcbiAgICByb3dDb3VudDogMTAsXG4gICAgY29sQ291bnQ6IDEwLFxuICAgIG1hdGNoQW5pbWF0aW9uTXM6IE1BVENIX0FOSU1BVElPTl9NUyxcbiAgICBhcHBseVNlbGVjdGVkU3R5bGUsXG4gICAgYXBwbHlUYXJnZXRlZFN0eWxlLFxuICAgIGFwcGx5TWF0Y2hlZFN0eWxlLFxuICB9KTtcblxuICBib2FyZC5vbkRyYWdFbmQoKGV2ZW50KSA9PiB7XG4gICAgYm9hcmQuc3dhcFRpbGUoZXZlbnQub3JpZ2luLCBldmVudC5kZXN0aW5hdGlvbik7XG4gICAgY29uc3Qgc2hhcGVzID0gYm9hcmQubWF0Y2hTaGFwZXMoKTtcbiAgICBpZiAoIXNoYXBlcy5sZW5ndGgpIGJvYXJkLnN3YXBUaWxlKGV2ZW50Lm9yaWdpbiwgZXZlbnQuZGVzdGluYXRpb24pO1xuICB9KTtcblxuICBnYW1lTG9vcChjdHgsIChfbG9vcENvdW50KSA9PiB7XG4gICAgYm9hcmQuZHJhdyhjdHgpO1xuICAgIGJvYXJkLnVwZGF0ZSgpO1xuICB9KTtcblxuICAod2luZG93IGFzIGFueSkuYm9hcmQgPSBib2FyZDtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==