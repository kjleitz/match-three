!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=4)}([function(t,e,r){"use strict";r.d(e,"d",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"h",(function(){return a})),r.d(e,"a",(function(){return l})),r.d(e,"g",(function(){return s})),r.d(e,"b",(function(){return u})),r.d(e,"e",(function(){return h})),r.d(e,"f",(function(){return f})),r.d(e,"i",(function(){return p}));var n=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,i++)n[i]=o[a];return n};function i(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n="number"==typeof e[0]?e[0]:0,i="function"==typeof e[0]?e[0]:e[1],o=t<n?[t,n]:[n,t],a=o[0],l=o[1]-a,s=Array(l),c=0;c<l;c++)s[c]=i?i(c+a):c+a;return s}var o=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=!0);var n=t<e?[t,e]:[e,t],i=n[0],o=n[1],a=Math.random()*(o-i);return i+(r?Math.floor(a):a)},a=function(t){return t[Math.floor(Math.random()*t.length)]},l=function(t,e){var r=e.x-t.x,n=e.y-t.y;return Math.sqrt(Math.pow(r,2)+Math.pow(n,2))},s=function(t,e,r){var n=t.x-e.x,i=t.y-e.y,o=Math.cos(r),a=Math.sin(r),l=n*a+i*o;return{x:n*o-i*a+e.x,y:l+e.y}};function c(t){return void 0===t||"[object Null]"===Object.prototype.toString.call(t)}var u=function(t,e){var r;return t.find((function(t,n,i){return!c(r=e(t,n,i))})),r},h=function(t,e){void 0===e&&(e=1);var r=e%4;switch(r<0?4-r:r){case 1:return t.reduce((function(e,r,n){return r.forEach((function(r,i){var o=i,a=t.length-n-1;e[o]=e[o]||[],e[o][a]=r})),e}),[]);case 2:return n(t).reverse().map((function(t){return n(t).reverse()}));case 3:return t.reduce((function(t,e,r){return e.forEach((function(n,i){var o=e.length-i-1,a=r;t[o]=t[o]||[],t[o][a]=n})),t}),[]);default:return t.map((function(t){return n(t)}))}},f=function(t,e,r,n){var i=t.row,o=t.col,a=n%4;switch(a<0?4-a:a){case 1:return{row:o,col:e-i-1};case 2:return{row:e-i-1,col:r-o-1};case 3:return{row:r-o-1,col:i};default:return{row:i,col:o}}},p=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t}},function(t,e,r){"use strict";var n="mundane",i=function(){function t(t){var e=t.type,r=t.value,i=t.variant;this.type=e,this.value=r||1,this._variant=i||n}return Object.defineProperty(t.prototype,"variant",{get:function(){return this._variant||n},set:function(t){this._variant=t||n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMundane",{get:function(){return this.variant===n},enumerable:!0,configurable:!0}),t}();e.a=i},function(t,e,r){"use strict";var n=r(1),i=r(0),o=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,i++)n[i]=o[a];return n},a=function(){function t(t){this.rowCount=9,this.colCount=9,this.tileClass=n.a,Object.assign(this,t),this.tileDefs=t.tileDefs}return Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows=this._rows||this.newRows(),this._rows},set:function(t){this._rows=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tiles",{get:function(){return this.rows.reduce((function(t,e){return o(t,e)}),[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tileTypes",{get:function(){return Object.keys(this.tileDefs)},enumerable:!0,configurable:!0}),t.prototype.newMundaneTile=function(){var t=Object(i.h)(this.tileTypes);return this.tileDefs[t].generator({variant:"mundane"})},t.prototype.newRows=function(){var t=this;return Object(i.d)(this.rowCount,(function(){return Object(i.d)(t.colCount,(function(){return t.newMundaneTile()}))}))},t.prototype.shuffle=function(){var t=this,e=this.rows.length;this.rows.forEach((function(r,n){var o=r.length;r.forEach((function(r,a){var l=Object(i.c)(e),s=Object(i.c)(o),c=t.rows[l][s];t.rows[l][s]=r,t.rows[n][a]=c}))}))},t}();e.a=a},,function(t,e,r){"use strict";r.r(e);var n=function(t,e,r){void 0===r&&(r=0),requestAnimationFrame((function(){return n(t,e,r+1)})),t.clearRect(0,0,window.innerWidth,window.innerHeight),e(r)},i=n,o=document.createElement("canvas"),a=o.getContext("2d");a||console.error("Canvas '2d' context is not supported."),window.ctx=a;var l=function(){var t=window.devicePixelRatio||1,e=window.innerWidth,r=window.innerHeight;o.width=e*t,o.height=r*t,o.style.width=e+"px",o.style.height=r+"px",a.scale(t,t)};window.addEventListener("DOMContentLoaded",(function(){l(),window.addEventListener("resize",l),document.body.appendChild(o)}));var s,c=r(2),u=r(1),h=r(0),f=function(t,e,r,n,i,o,a){var l=2*o,s=.75*l,c=o,u=a-2*s,f=i.y+u/2,p=f-u,d=i.x-c/2,y=i.x+c/2,g=i.x-l/2,v=i.x+l/2,w=p,b=w-s,m=f,x=m+s,S={vertical:0,horizontal:.5*Math.PI}[e],T=[{x:d,y:p},{x:d,y:f},{x:g,y:m},{x:i.x,y:x},{x:v,y:m},{x:y,y:f},{x:y,y:p},{x:v,y:w},{x:i.x,y:b},{x:g,y:w}],O=S?T.map((function(t){return Object(h.g)(t,i,S)})):T;t.fillStyle=r,t.strokeStyle=n,t.beginPath();var C=O[0];t.moveTo(C.x,C.y),O.forEach((function(e){var r=e.x,n=e.y;return t.lineTo(r,n)})),t.lineTo(C.x,C.y),t.closePath(),t.fill(),n&&t.stroke()},p=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),d=parseInt("FFFFFF",16),y=function(t){function e(e){var r=t.call(this,e)||this;return r.width=50,r.height=50,r.color="white",r.selected=!1,r.targeted=!1,r.matchedAt=null,r.blank=!1,r.matchAnimationMs=250,r._imgUrl="",r.width=e.width||r.width,r.height=e.height||r.height,r.color=e.color||r.color,r.blank=e.blank||r.blank,r.matchAnimationMs=e.matchAnimationMs||r.matchAnimationMs,r._imgUrl=e.imgUrl||r._imgUrl,r.applyNormalStyle=e.applyNormalStyle||r.defaultApplyNormalStyle,r.applySelectedStyle=e.applySelectedStyle||r.defaultApplySelectedStyle,r.applyTargetedStyle=e.applyTargetedStyle||r.defaultApplyTargetedStyle,r.applyMatchedStyle=e.applyMatchedStyle||r.defaultApplyMatchedStyle,r}return p(e,t),Object.defineProperty(e.prototype,"matched",{get:function(){return!!this.matchedAt},set:function(t){var e=this;t&&this.matchedAt||(clearTimeout(this.blankTimeout),t?(this.matchedAt=new Date,this.blankTimeout=window.setTimeout((function(){return e.blank=!0}),this.matchAnimationMs)):this.matchedAt=null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imgUrl",{get:function(){return this._imgUrl},set:function(t){this._imgUrl=t,delete this._image},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"image",{get:function(){if(this._image)return this.image;if(!this.imgUrl)return null;var t=document.createElement("img");return t.src=this.imgUrl,t.width=this.width,t.height=this.height,this._image=t,this._image},enumerable:!0,configurable:!0}),e.prototype.draw=function(t,e,r){this.blank||(this.applyNormalStyle(t,this,{x:e,y:r}),this.matched?this.applyMatchedStyle(t,this,{x:e,y:r}):this.selected?this.applySelectedStyle(t,this,{x:e,y:r}):this.targeted&&this.applyTargetedStyle(t,this,{x:e,y:r}))},e.prototype.defaultApplyNormalStyle=function(t,e,r){var n=r.x,i=r.y,o=e.width,a=e.height,l=e.image,s=e.color,c=e.variant;l?t.drawImage(l,n,i):(t.fillStyle=s,t.fillRect(n,i,o,a));var u={x:n+a/2,y:i+o/2},h=o/8,p=.6*a;switch(c){case"horizontalClear":f(t,"horizontal","white","white",u,h,p);break;case"verticalClear":f(t,"vertical","white","white",u,h,p);break;case"crossClear":!function(t,e,r,n,i,o){var a=2*i,l=.75*a,s=i,c=s,u=o-2*l-s,h=n.y-c/2,f=h-u,p=n.y+c/2,d=p+u,y=n.x-s/2,g=y-u,v=n.x+s/2,w=v+u,b=f,m=b-l,x=d,S=x+l,T=g,O=T-l,C=w,k=C+l,j=h,E=p,M=y,D=v,_=n.y-a/2,A=n.y+a/2,P=n.x-a/2,F=n.x+a/2,L=[{x:M,y:f},{x:M,y:h},{x:g,y:j},{x:T,y:_},{x:O,y:n.y},{x:T,y:A},{x:g,y:E},{x:y,y:E},{x:M,y:d},{x:P,y:x},{x:n.x,y:S},{x:F,y:x},{x:D,y:d},{x:D,y:p},{x:w,y:E},{x:C,y:A},{x:k,y:n.y},{x:C,y:_},{x:w,y:j},{x:v,y:j},{x:D,y:f},{x:F,y:b},{x:n.x,y:m},{x:P,y:b}];t.fillStyle=e,t.strokeStyle=r,t.beginPath();var N=L[0];t.moveTo(N.x,N.y),L.forEach((function(e){var r=e.x,n=e.y;return t.lineTo(r,n)})),t.lineTo(N.x,N.y),t.closePath(),t.fill(),r&&t.stroke()}(t,"white","white",u,h,p);break;case"typeClear":t.fillStyle="#"+((new Date).getTime()%d).toString(16),t.fillRect(n,i,o,a);break;case"bombClear":t.fillStyle="black";var y=o/2,g=a/2;t.fillRect(n+y/2,i+g/2,y,g)}},e.prototype.defaultApplySelectedStyle=function(t,e,r){var n=r.x,i=r.y,o=e.width,a=e.height;t.fillStyle="rgba(255, 255, 255, 0.5)",t.fillRect(n,i,o,a)},e.prototype.defaultApplyTargetedStyle=function(t,e,r){var n=r.x,i=r.y,o=e.width,a=e.height,l=(new Date).getTime(),s=this.matchAnimationMs,c=2+3*Math.sin(l/s%Math.PI);t.fillStyle="rgba(255, 255, 255, 0.9)",t.fillRect(n,i,o,a),t.fillStyle=e.color,t.fillRect(n+c,i+c,o-2*c,a-2*c)},e.prototype.defaultApplyMatchedStyle=function(t,e,r){var n=r.x,i=r.y,o=e.width,a=e.height,l=e.color,s=e.matchAnimationMs;if(e.matchedAt){var c=(new Date).getTime()-e.matchedAt.getTime(),u=c>s?1:c/s,h=u*(o/2),f=u*(a/2);t.fillStyle="#FFF",t.fillRect(n,i,o,a),t.fillStyle=l,t.fillRect(n+h,i+f,o-2*h,a-2*f)}},e}(u.a),g=new(function(){function t(){var t=this;this.x=0,this.y=0,this.pressed=!1,this.pressCallbacks=[],this.depressCallbacks=[],this.moveCallbacks=[],this.pressedStartPos={x:this.x,y:this.y},window.addEventListener("mousedown",(function(e){t.populateFromMouseEvent(e),t.pressCallbacks.forEach((function(e){return e(t)}))})),window.addEventListener("mousemove",(function(e){t.populateFromMouseEvent(e),t.moveCallbacks.forEach((function(e){return e(t)}))})),window.addEventListener("mouseup",(function(e){t.depressCallbacks.forEach((function(e){return e(t)})),t.populateFromMouseEvent(e)})),window.addEventListener("touchstart",(function(e){t.populateFromTouchEvent(e),t.pressCallbacks.forEach((function(e){return e(t)}))})),window.addEventListener("touchmove",(function(e){t.populateFromTouchEvent(e),t.moveCallbacks.forEach((function(e){return e(t)}))})),window.addEventListener("touchend",(function(e){t.depressCallbacks.forEach((function(e){return e(t)})),t.populateFromTouchEvent(e)}))}return Object.defineProperty(t.prototype,"dragVector",{get:function(){var t=this.pressedStartPos,e=t.x,r=t.y;return this.pressed?{x:this.x-e,y:this.y-r}:{x:0,y:0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dragDirection",{get:function(){var t=this.dragVector,e=t.x,r=t.y;return 0===e&&0===r?"none":Math.abs(e)>=Math.abs(r)?e<0?"left":"right":r<0?"up":"down"},enumerable:!0,configurable:!0}),t.prototype.onPress=function(t){this.pressCallbacks.push(t)},t.prototype.onDepress=function(t){this.depressCallbacks.push(t)},t.prototype.onMove=function(t){this.moveCallbacks.push(t)},t.prototype.populateFromMouseEvent=function(t){this.x=t.x,this.y=t.y;var e=this.pressed;this.pressed=1===t.buttons,this.pressed&&!e&&(this.pressedStartPos={x:this.x,y:this.y})},t.prototype.populateFromTouchEvent=function(t){var e=t.touches,r=this.pressed;if(0===e.length)this.pressed=!1;else{var n=e[0];this.x=n.clientX,this.y=n.clientY,this.pressed=!0,r||(this.pressedStartPos={x:this.x,y:this.y})}},t}()),v=function(){return(v=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},w=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,i++)n[i]=o[a];return n},b=function(){function t(t){void 0===t&&(t={}),this.value=t.value||1,this.extend=t.extend||!1,this.map=t.map||[[]]}return t.fromLength=function(e,r){var n=void 0===r?{}:r,i=n.value;return new t({value:void 0===i?1:i,extend:!!n.orMore,map:[Object(h.d)(e,(function(){return!0}))]})},t.rotated=function(e,r){return void 0===r&&(r=1),new t(v(v({},e),{map:Object(h.e)(e.map,r)}))},Object.defineProperty(t.prototype,"extend",{get:function(){return this._extend&&this.linear},set:function(t){this._extend=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"map",{get:function(){return this._map},set:function(t){delete this._linear;var e=t.reduce((function(t,e){var r=e.length;return r>t?r:t}),0);this._map=t.map((function(t){return Object(h.d)(e,(function(e){return t[e]||!1}))}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"linear",{get:function(){return void 0!==this._linear?this._linear:(this._linear=1===this.map.length&&this.map[0].every((function(t){return t}))||this.map.every((function(t){return 1===t.length&&t[0]})),this._linear)},enumerable:!0,configurable:!0}),t.prototype.match=function(t,e,r){void 0===r&&(r=0);var n=[];if(r>3)return{rotation:r,matched:n,center:null};var i,o=!1;if(Object(h.e)(this.map,r).every((function(r,a){var l=t[a];return!!l&&r.every((function(t,r){if(!t)return!0;var a=l[r];if(!a)return!1;var s=a[e];return o||(i=s,o=!0),s===i&&(n.push(a),!0)}))}))){var a=this.centerPosition(r),l=a.row,s=a.col,c=t[l][s];return{rotation:r,matched:n,center:c}}return this.match(t,e,r+1)},t.prototype.screen=function(t,e){return void 0===e&&(e={row:0,col:0}),(e.row<0?this.map.slice(-1*e.row):w(Object(h.d)(e.row,(function(){return[]})),this.map)).map((function(t){return e.col<0?t.slice(-1*e.col):w(Object(h.d)(e.col,(function(){return!1})),t)})).reduce((function(e,r,n){var i=t[n];return w(e,r.reduce((function(t,e,r){var n=i&&i[r];return n&&e?w(t,[n]):t}),[]))}),[])},Object.defineProperty(t.prototype,"center",{get:function(){var t=Math.floor(this.map.length/2),e=this.map[t],r=Math.floor(e.length/2);return{mustMatch:e[r],row:t,col:r}},enumerable:!0,configurable:!0}),t.prototype.centerPosition=function(t){if(void 0===t&&(t=0),void 0===this._centerPosition){var e=this.map.reduce((function(t,e){return t+e.reduce((function(t,e){return e?t+1:t}),0)}),0),r=Math.floor(e/2),n=0;this._centerPosition=Object(h.b)(this.map,(function(t,e){return Object(h.b)(t,(function(t,i){if(t)return n===r?{row:e,col:i}:void(n+=1)}))}))}var i=this.map.length,o=this.map[0].length;return Object(h.f)(this._centerPosition,i,o,t)},t}(),m=b,x=function(){return[b.fromLength(3,{value:1}),b.fromLength(4,{value:2}),b.fromLength(5,{value:3}),b.fromLength(6,{value:4,orMore:!0}),new b({value:5,map:[[!0,!0,!0],[!0],[!0]]}),new b({value:6,map:[[!0,!0,!0],[!1,!0],[!1,!0]]}),new b({value:7,map:[[!0,!0],[!0,!0]]})]},S=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),T=function(){return(T=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},O=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,i++)n[i]=o[a];return n},C=function(){return{row:-1,col:-1,tile:null}},k=function(t){function e(e){var r=t.call(this,T(T({},e),{tileDefs:{red:{generator:function(t){var e=t.variant;return r.defaultNewTileOfType("red",e)}},orange:{generator:function(t){var e=t.variant;return r.defaultNewTileOfType("orange",e)}},purple:{generator:function(t){var e=t.variant;return r.defaultNewTileOfType("purple",e)}},green:{generator:function(t){var e=t.variant;return r.defaultNewTileOfType("green",e)}},blue:{generator:function(t){var e=t.variant;return r.defaultNewTileOfType("blue",e)}}}}))||this;r.dragStartCallbacks=[],r.dragEndCallbacks=[],r.dragCallbacks=[],r.dragOrigin=C(),r.swapOrigin=C(),r.swapTarget=C(),r.needsShuffle=!1,r.x=e.x||0,r.y=e.y||0;var n=e.width||50*r.colCount;return r.width=n-n%r.colCount,r.height=e.height||r.width,r.sensitivity=e.sensitivity||25,r.shapes=e.shapes||x(),r.applyNormalStyle=e.applyNormalStyle,r.applySelectedStyle=e.applySelectedStyle,r.applyTargetedStyle=e.applyTargetedStyle,r.applyMatchedStyle=e.applyMatchedStyle,r.matchAnimationMs=e.matchAnimationMs||250,g.onPress(r.runDragStartCallbacks.bind(r)),g.onDepress(r.runDragEndCallbacks.bind(r)),g.onMove(r.runDragCallbacks.bind(r)),r.stabilizeInitialTiles(),window.setInterval((function(){return r.checkShuffle()}),1e3),r}return S(e,t),Object.defineProperty(e.prototype,"tileWidth",{get:function(){return this.width/this.colCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tileHeight",{get:function(){return this.height/this.rowCount},enumerable:!0,configurable:!0}),e.prototype.draw=function(t){var e=this,r=this.checkSettle(),n=this.startedSettlingAt?(new Date).getTime()-this.startedSettlingAt.getTime():0,i=n/100*this.tileHeight,o=n>100;o&&delete this.startedSettlingAt;var a=[];this.rows.forEach((function(n,l){n.forEach((function(n,s){var c=e.x+s*n.width,u=e.y+l*n.height;if(r&&!n.blank){var h={row:l,col:s},f=e.adjacentTile(h,"down");f.tile&&f.tile.blank&&(u+=i,o&&a.push([h,f]))}n.draw(t,c,u)}))})),a.forEach((function(t){var r=t[0],n=t[1];return e.swapTile(r,n)}))},e.prototype.update=function(){var t=this;if(this.spawnNewTiles(),!this.tilesWillDrop()){this.needsShuffle&&this.shuffle();var e=this.matchShapes();if(e.length){var r=this.swapOrigin.tile,n=this.swapTarget.tile,i=O(e).sort((function(t,e){return t.shape.value>e.shape.value?-1:e.shape.value>t.shape.value?1:t.tiles.some((function(t){return t===n||t===r}))?-1:e.tiles.some((function(t){return t===n||t===r}))?1:0})),o=new Map;i.forEach((function(e){var i=e.tiles,a=e.shape,l=e.rotation,s=e.centerTile;i.forEach((function(e){return t.explodeTile(e)}));var c=t.variantForShape(a,l);if(c){var u=i.find((function(t){return t===n||t===r}))||s,h=o.get(u);o.set(u,O(h||[],[c]))}})),o.forEach((function(t,e){e.variant=t[0],e.matched=!1})),e.length&&this.onTileMatched&&new Set(O(Array.from(o.keys()),this.tiles.filter((function(t){return t.matched})))).forEach((function(e){return t.onTileMatched(e)}))}}},e.prototype.spawnNewTiles=function(){var t=this;this.rows[0]=this.rows[0].map((function(e){return e.blank?t.newMundaneTile():e}))},e.prototype.tilesWillDrop=function(){return this.rows.slice(1).some((function(t){return t.some((function(t){return t.matched||t.blank}))}))},e.prototype.explodeTile=function(t){if(t.isMundane&&(t.matched=!0),!t.matched)switch(t.matched=!0,t.variant){case"horizontalClear":this.clearRow(this.findTile(t));break;case"verticalClear":this.clearCol(this.findTile(t));break;case"crossClear":this.clearCross(this.findTile(t));break;case"typeClear":this.clearType(t.type);break;case"bombClear":this.clearBomb(this.findTile(t))}},e.prototype.clearRow=function(t){var e=this,r=t.row;this.rows[r].forEach((function(t){return e.explodeTile(t)}))},e.prototype.clearCol=function(t){var e=this,r=t.col;this.rows.forEach((function(t){return e.explodeTile(t[r])}))},e.prototype.clearCross=function(t){var e=t.row,r=t.col;this.clearRow({row:e}),this.clearCol({col:r})},e.prototype.clearType=function(t){var e=this;this.tiles.forEach((function(r){r.type===t&&e.explodeTile(r)}))},e.prototype.clearBomb=function(t){var e=this,r=t.row,n=t.col,i=new m({map:[[!1,!1,!0],[!1,!0,!0,!0],[!0,!0,!0,!0,!0],[!1,!0,!0,!0],[!1,!1,!0]]}),o=i.center,a=r-o.row,l=n-o.col;i.screen(this.rows,{row:a,col:l}).forEach((function(t){return e.explodeTile(t)}))},e.prototype.checkSettle=function(){return this.tiles.some((function(t){return t.blank}))?(this.startedSettlingAt||(this.startedSettlingAt=new Date),!0):(delete this.startedSettlingAt,!1)},e.prototype.tileAt=function(t){if("row"in t){var e=t.row,r=t.col,n=this.rows[e][r];return n?{row:e,col:r,tile:n}:C()}var i=t.x-this.x,o=t.y-this.y;if(i>this.width||o>this.height)return C();var a=i/this.width,l=o/this.height,s=Math.floor(l*this.rowCount),c=Math.floor(a*this.colCount);return{row:s,col:c,tile:this.rows[s][c]}},e.prototype.findTile=function(t){return Object(h.b)(this.rows,(function(e,r){return Object(h.b)(e,(function(e,n){if(t===e)return{row:r,col:n,tile:e}}))}))||C()},e.prototype.tileCenter=function(t){var e=t.row,r=t.col,n=t.tile;return n?{x:this.x+r*n.height+n.height/2,y:this.y+e*n.width+n.width/2}:{x:-1,y:-1}},e.prototype.swapTile=function(t,e){"string"==typeof e?this.swapTileInDirection(t,e):this.swapTileWithTile(t,e)},e.prototype.onDragStart=function(t){var e=this.dragStartCallbacks.length;return this.dragStartCallbacks.push(t),e},e.prototype.removeDragStartListener=function(t){delete this.dragStartCallbacks[t]},e.prototype.onDragEnd=function(t){var e=this.dragEndCallbacks.length;return this.dragEndCallbacks.push(t),e},e.prototype.removeDragEndListener=function(t){delete this.dragEndCallbacks[t]},e.prototype.onDrag=function(t){var e=this.dragCallbacks.length;return this.dragCallbacks.push(t),e},e.prototype.removeDragListener=function(t){delete this.dragCallbacks[t]},e.prototype.adjacentSpace=function(t,e){var r="row"in t?t:this.tileAt(t),n=r.row,i=r.col;switch(e){case"up":return{row:n-1,col:i};case"down":return{row:n+1,col:i};case"left":return{row:n,col:i-1};case"right":return{row:n,col:i+1};default:return{row:n,col:i}}},e.prototype.adjacentTile=function(t,e){var r=this.adjacentSpace(t,e),n=r.row,i=r.col,o=this.rows[n]&&this.rows[n][i];return o?{row:n,col:i,tile:o}:C()},e.prototype.removeTile=function(t){t.blank=!0},e.prototype.matchShapes=function(){var t=this;return Object(h.d)(this.colCount).reduce((function(e,r){return t.shapes.forEach((function(n){t.rows.forEach((function(i,o){var a=t.rows.slice(o).map((function(t){return t.slice(r)})),l=n.match(a,"type"),s=l.rotation,c=l.matched,u=l.center;c.length>0&&e.push({shape:n,rotation:s,tiles:c,centerTile:u})}))})),e}),[])},e.prototype.defaultNewTileOfType=function(t,e){return new y({type:t,variant:e,color:{red:"red",orange:"orange",purple:"purple",green:"green",blue:"blue"}[t],width:this.tileWidth,height:this.tileHeight,applyNormalStyle:this.applyNormalStyle,applySelectedStyle:this.applySelectedStyle,applyTargetedStyle:this.applyTargetedStyle,applyMatchedStyle:this.applyMatchedStyle})},e.prototype.variantForShape=function(t,e){switch(t.value){case 2:return e%2==0?"verticalClear":"horizontalClear";case 3:case 4:return"typeClear";case 5:case 6:return"crossClear";case 7:return"bombClear";default:return""}},e.prototype.swapTileWithTile=function(t,e){var r=this.tileAt(t);if(r.tile){this.swapOrigin=r;var n=this.tileAt(e);n.tile&&(this.swapTarget=n,this.rows[n.row][n.col]=r.tile,this.rows[r.row][r.col]=n.tile)}},e.prototype.swapTileInDirection=function(t,e){var r=this.tileAt(t);if(r.tile){this.swapOrigin=r;var n=this.adjacentTile(r,e);n.tile&&(this.swapTarget=n,this.rows[n.row][n.col]=r.tile,this.rows[r.row][r.col]=n.tile)}},e.prototype.clearExistingDragFlags=function(){this.tiles.forEach((function(t){t.selected=!1,t.targeted=!1}))},e.prototype.setDragStartFlags=function(t){this.clearExistingDragFlags(),t.tile.selected=!0,t.tile.targeted=!0},e.prototype.setDragEndFlags=function(){this.clearExistingDragFlags()},e.prototype.setDragFlags=function(t,e){this.clearExistingDragFlags(),t.tile.selected=!0,e.tile.targeted=!0},e.prototype.runDragStartCallbacks=function(t){if(!this.checkSettle()){var e=t.x,r=t.y,n=this.tileAt({x:e,y:r});if(n.tile){this.dragOrigin=n,this.setDragStartFlags(this.dragOrigin);var i=Object(h.a)(t,this.tileCenter(n)),o=t.dragDirection,a=n;this.dragStartCallbacks.forEach((function(l){l({x:e,y:r,distance:i,direction:o,origin:n,destination:a,mouse:t})}))}}},e.prototype.runDragEndCallbacks=function(t){if(!this.checkSettle()){var e=this.dragOrigin;if(e.tile){var r=t.x,n=t.y,i=Object(h.a)(t,this.tileCenter(e)),o=i>this.sensitivity?this.adjacentTile(e,t.dragDirection):e,a=o.tile?o:e,l=t.dragDirection;this.setDragEndFlags(),this.dragEndCallbacks.forEach((function(o){o({x:r,y:n,distance:i,direction:l,origin:e,destination:a,mouse:t})})),this.dragOrigin=C()}}},e.prototype.runDragCallbacks=function(t){if(!this.checkSettle()){var e=this.dragOrigin;if(e.tile){var r=t.x,n=t.y;if(t.pressed){var i=Object(h.a)(t,this.tileCenter(e)),o=i>this.sensitivity?this.adjacentTile(e,t.dragDirection):e,a=o.tile?o:e,l=t.dragDirection;this.setDragFlags(e,a),this.dragCallbacks.forEach((function(o){o({x:r,y:n,distance:i,direction:l,origin:e,destination:a,mouse:t})}))}}}},e.prototype.replaceTile=function(t,e){var r=this.findTile(t),n=r.row,i=r.col;this.rows[n][i]=e},e.prototype.stabilizeInitialTiles=function(t){var e=this;if(void 0===t&&(t=20),t<=0)return this.rows=this.newRows(),void this.stabilizeInitialTiles();var r=this.matchShapes();r.length&&(r[0].tiles.forEach((function(t){return e.replaceTile(t,e.newMundaneTile())})),this.stabilizeInitialTiles(t-1))},e.prototype.possibleMatchesExist=function(){var t=this;return!!Object(h.b)(this.rows,(function(e,r){return Object(h.b)(e,(function(e,n){var i={row:r,col:n};return Object(h.b)(Object(h.i)("up","down","left","right"),(function(e){if(t.swapTileInDirection(i,e),t.matchShapes())return!0;t.swapTileInDirection(i,e)}))}))}))},e.prototype.checkShuffle=function(){this.needsShuffle=!this.possibleMatchesExist()},e}(c.a);window.defaultShapes=x;var j={},E=10,M=function(t,e){var r=e.x,n=e.y,i=e.font,o=void 0===i?"Courier":i,l=e.color,s=void 0===l?"black":l,c=e.size,u=void 0===c?16:c,h=e.units,f=void 0===h?"px":h,p=e.align,d=void 0===p?"start":p,y=e.baseline,g=void 0===y?"top":y;a.fillStyle=s,a.font=""+u+f+' "'+o+'"',a.textAlign=d,a.textBaseline=g,a.fillText(t,r,n)};window.addEventListener("DOMContentLoaded",(function(){var t=Math.min(window.innerWidth,window.innerHeight,500),e=.75*t,r=(t-e)/2,n=t-r,o=r,l=r,s=new k({x:r,y:r,width:e,rowCount:9,colCount:9,onTileMatched:function(t){j[t.type]=j[t.type]||0,j[t.type]+=1}});s.onDragEnd((function(t){E<=0||(s.swapTile(t.origin,t.destination),s.matchShapes().length?E--:s.swapTile(t.origin,t.destination))})),i(a,(function(t){s.draw(a),s.update();E<=0&&(M("fin",{x:l+e/2,y:o+e/2,size:96,align:"center",baseline:"middle"}),a.strokeStyle="white",a.lineWidth=1,a.strokeText("fin",l+e/2,o+e/2)),M("Moves left: "+E,{x:24,y:n+20}),Object.keys(j).sort().forEach((function(t,e){var r=n+20+30*(1+e),i=j[t];a.fillStyle=t,a.fillRect(20,r,24,24),M((i>20?20:i)+"/20",{x:54,y:r,size:24})}))})),window.board=s}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmNlcm5zL3V0aWxpdGllcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGlsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQm9hcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvZ2FtZUxvb3AudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvY2FudmFzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb25jZXJucy9kcmF3aW5nLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lL0NhbnZhc1RpbGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvbW91c2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NoYXBlLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lL0NhbnZhc0JvYXJkLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwicmFuZ2UiLCJtaW4iLCJtYXgiLCJtYXhBbmRPck1hcHBlciIsIm1hcHBlciIsInJlYWxNaW4iLCJkaWZmIiwibGlzdCIsIkFycmF5IiwicmFuZCIsImludCIsInJlYWxNYXgiLCJyYW5kb21EaWZmIiwiTWF0aCIsInJhbmRvbSIsImZsb29yIiwic2FtcGxlIiwibGVuZ3RoIiwiZGlzdGFuY2VCZXR3ZWVuIiwib3JpZ2luIiwiZGVzdGluYXRpb24iLCJkeCIsIngiLCJkeSIsInkiLCJzcXJ0Iiwicm90YXRlUG9pbnQiLCJjb29yZHMiLCJhcm91bmQiLCJyYWRpYW5zIiwicmVsYXRpdmUiLCJjb3NpbmUiLCJjb3MiLCJzaW5lIiwic2luIiwibmV3WSIsImlzTnVsbGlzaCIsInRvU3RyaW5nIiwiZmluZE1hcCIsInJlc3VsdCIsImZpbmQiLCJpdGVtIiwiaW5kZXgiLCJvcmlnaW5hbCIsInJvdGF0ZSIsImdyaWQiLCJyb3RhdGlvbnMiLCJxdWFkcmFudHMiLCJyZWR1Y2UiLCJtZW1vIiwicm93Iiwicm93SW5kZXgiLCJmb3JFYWNoIiwiY29sSW5kZXgiLCJuZXdSb3dJbmRleCIsIm5ld0NvbEluZGV4IiwicmV2ZXJzZSIsIm1hcCIsInJvdGF0ZUdyaWRQb3NpdGlvbiIsInJvd3MiLCJjb2xzIiwiY29sIiwidHVwbGUiLCJNVU5EQU5FX1ZBUklBTlQiLCJ0eXBlIiwidmFyaWFudCIsInRoaXMiLCJfdmFyaWFudCIsIm9wdHMiLCJyb3dDb3VudCIsImNvbENvdW50IiwidGlsZUNsYXNzIiwiYXNzaWduIiwidGlsZURlZnMiLCJfcm93cyIsIm5ld1Jvd3MiLCJ0aWxlcyIsImtleXMiLCJuZXdNdW5kYW5lVGlsZSIsInRpbGVUeXBlIiwidGlsZVR5cGVzIiwiZ2VuZXJhdG9yIiwic2h1ZmZsZSIsInRpbGUiLCJleGlzdGluZyIsImdhbWVMb29wIiwiZHJhdyIsImxvb3BDb3VudCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNsZWFyUmVjdCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImdldENvbnRleHQiLCJjb25zb2xlIiwiZXJyb3IiLCJjdHgiLCJzaXplQ2FudmFzIiwiZGV2aWNlUGl4ZWxSYXRpbyIsIndpZHRoIiwiaGVpZ2h0Iiwic3R5bGUiLCJzY2FsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJkcmF3RG91YmxlQXJyb3ciLCJkaXIiLCJmaWxsU3R5bGUiLCJzdHJva2VTdHlsZSIsImNlbnRlciIsImhlYWRXaWR0aCIsImhlYWRMZW5ndGgiLCJ0YWlsV2lkdGgiLCJ0YWlsTGVuZ3RoIiwidGFpbEJvdHRvbSIsInRhaWxUb3AiLCJ0YWlsTGVmdCIsInRhaWxSaWdodCIsImhlYWRMZWZ0IiwiaGVhZFJpZ2h0IiwidG9wSGVhZEJhc2UiLCJ0b3BIZWFkVGlwIiwiYm90dG9tSGVhZEJhc2UiLCJib3R0b21IZWFkVGlwIiwiYW5nbGUiLCJ2ZXJ0aWNhbCIsImhvcml6b250YWwiLCJQSSIsInBvaW50cyIsInJvdGF0ZWRQb2ludHMiLCJwdCIsImJlZ2luUGF0aCIsInN0YXJ0UG9pbnQiLCJtb3ZlVG8iLCJsaW5lVG8iLCJjbG9zZVBhdGgiLCJmaWxsIiwic3Ryb2tlIiwiTUFYX0NPTE9SX0lOVCIsInBhcnNlSW50IiwiY29sb3IiLCJzZWxlY3RlZCIsInRhcmdldGVkIiwibWF0Y2hlZEF0IiwiYmxhbmsiLCJtYXRjaEFuaW1hdGlvbk1zIiwiX2ltZ1VybCIsImltZ1VybCIsImFwcGx5Tm9ybWFsU3R5bGUiLCJkZWZhdWx0QXBwbHlOb3JtYWxTdHlsZSIsImFwcGx5U2VsZWN0ZWRTdHlsZSIsImRlZmF1bHRBcHBseVNlbGVjdGVkU3R5bGUiLCJhcHBseVRhcmdldGVkU3R5bGUiLCJkZWZhdWx0QXBwbHlUYXJnZXRlZFN0eWxlIiwiYXBwbHlNYXRjaGVkU3R5bGUiLCJkZWZhdWx0QXBwbHlNYXRjaGVkU3R5bGUiLCJtYXRjaGVkIiwiY2xlYXJUaW1lb3V0IiwiYmxhbmtUaW1lb3V0IiwiRGF0ZSIsInNldFRpbWVvdXQiLCJfaW1hZ2UiLCJpbWFnZSIsInNyYyIsImRyYXdJbWFnZSIsImZpbGxSZWN0IiwiYXJyb3dXaWR0aCIsImFycm93TGVuZ3RoIiwidGFpbEludGVyc2VjdGlvbldpZHRoIiwidGFpbEludGVyc2VjdGlvbkhlaWdodCIsIm5vcnRoVGFpbEJhc2UiLCJub3J0aFRhaWxUaXAiLCJzb3V0aFRhaWxCYXNlIiwic291dGhUYWlsVGlwIiwid2VzdFRhaWxCYXNlIiwid2VzdFRhaWxUaXAiLCJlYXN0VGFpbEJhc2UiLCJlYXN0VGFpbFRpcCIsIm5vcnRoSGVhZEJhc2UiLCJub3J0aEhlYWRUaXAiLCJzb3V0aEhlYWRCYXNlIiwic291dGhIZWFkVGlwIiwid2VzdEhlYWRCYXNlIiwid2VzdEhlYWRUaXAiLCJlYXN0SGVhZEJhc2UiLCJlYXN0SGVhZFRpcCIsImhvcml6b250YWxUYWlsVG9wIiwiaG9yaXpvbnRhbFRhaWxCb3R0b20iLCJ2ZXJ0aWNhbFRhaWxMZWZ0IiwidmVydGljYWxUYWlsUmlnaHQiLCJob3Jpem9udGFsSGVhZFRvcCIsImhvcml6b250YWxIZWFkQm90dG9tIiwidmVydGljYWxIZWFkTGVmdCIsInZlcnRpY2FsSGVhZFJpZ2h0IiwiZHJhd0Nyb3NzQXJyb3ciLCJnZXRUaW1lIiwiYm94V2lkdGgiLCJib3hIZWlnaHQiLCJtaWxsaXMiLCJwdWxzZU1zIiwic3Ryb2tlV2lkdGgiLCJtc1NpbmNlTWF0Y2giLCJwZXJjZW50RG9uZSIsIlRpbGUiLCJwcmVzc2VkIiwicHJlc3NDYWxsYmFja3MiLCJkZXByZXNzQ2FsbGJhY2tzIiwibW92ZUNhbGxiYWNrcyIsInByZXNzZWRTdGFydFBvcyIsImV2ZW50IiwicG9wdWxhdGVGcm9tTW91c2VFdmVudCIsImNhbGxiYWNrIiwicG9wdWxhdGVGcm9tVG91Y2hFdmVudCIsImFicyIsIm9uUHJlc3MiLCJwdXNoIiwib25EZXByZXNzIiwib25Nb3ZlIiwiYWxyZWFkeVByZXNzZWQiLCJidXR0b25zIiwidG91Y2hlcyIsInRvdWNoIiwiY2xpZW50WCIsImNsaWVudFkiLCJleHRlbmQiLCJmcm9tTGVuZ3RoIiwiU2hhcGUiLCJvck1vcmUiLCJyb3RhdGVkIiwic2hhcGUiLCJfZXh0ZW5kIiwibGluZWFyIiwiX21hcCIsIl9saW5lYXIiLCJyb3dMZW5ndGgiLCJldmVyeSIsInNwYWNlIiwibWF0Y2giLCJmaWVsZCIsInJvdGF0aW9uIiwibWF0Y2hWYWx1ZSIsIm1hdGNoVmFsdWVTZXQiLCJtYXRjaGVyUm93IiwiZ3JpZFJvdyIsIm11c3RNYXRjaCIsImdyaWRJdGVtIiwiZ3JpZFZhbHVlIiwic2NyZWVuIiwib2Zmc2V0Iiwic2xpY2UiLCJhbGxNYXRjaGVkVGlsZXMiLCJtYXRjaGVkUm93VGlsZXMiLCJtYXBSb3ciLCJjZW50ZXJQb3NpdGlvbiIsIl9jZW50ZXJQb3NpdGlvbiIsIm11c3RNYXRjaENvdW50IiwidG90YWwiLCJzdW0iLCJkZWZhdWx0U2hhcGVzIiwiYmxhbmtDYW52YXNUaWxlSW5mbyIsInJlZCIsImRlZmF1bHROZXdUaWxlT2ZUeXBlIiwib3JhbmdlIiwicHVycGxlIiwiZ3JlZW4iLCJibHVlIiwiZHJhZ1N0YXJ0Q2FsbGJhY2tzIiwiZHJhZ0VuZENhbGxiYWNrcyIsImRyYWdDYWxsYmFja3MiLCJkcmFnT3JpZ2luIiwic3dhcE9yaWdpbiIsInN3YXBUYXJnZXQiLCJuZWVkc1NodWZmbGUiLCJyYXdXaWR0aCIsInNlbnNpdGl2aXR5Iiwic2hhcGVzIiwicnVuRHJhZ1N0YXJ0Q2FsbGJhY2tzIiwicnVuRHJhZ0VuZENhbGxiYWNrcyIsInJ1bkRyYWdDYWxsYmFja3MiLCJzdGFiaWxpemVJbml0aWFsVGlsZXMiLCJzZXRJbnRlcnZhbCIsImNoZWNrU2h1ZmZsZSIsInNldHRsaW5nIiwiY2hlY2tTZXR0bGUiLCJtc1NpbmNlU2V0dGxlIiwic3RhcnRlZFNldHRsaW5nQXQiLCJ0aWxlSGVpZ2h0IiwiaXRzU3dhcFRpbWVCcnVoIiwidGlsZXNUb1N3YXAiLCJ0aWxlSW5kZXgiLCJwb3NpdGlvbiIsImJlbG93IiwiYWRqYWNlbnRUaWxlIiwic3dhcFRpbGUiLCJ1cGRhdGUiLCJzcGF3bk5ld1RpbGVzIiwidGlsZXNXaWxsRHJvcCIsIm1hdGNoZWRTaGFwZXMiLCJtYXRjaFNoYXBlcyIsIm9yaWdpblRpbGUiLCJ0YXJnZXRUaWxlIiwic29ydGVkTWF0Y2hlZFNoYXBlcyIsInNvcnQiLCJhIiwiYiIsInNvbWUiLCJ0cmFuc2NlbmRlbnRUaWxlcyIsIk1hcCIsImNlbnRlclRpbGUiLCJleHBsb2RlVGlsZSIsInZhcmlhbnRGb3JTaGFwZSIsInRyYW5zY2VuZGVudCIsInNldCIsInZhcmlhbnRzIiwib25UaWxlTWF0Y2hlZCIsIlNldCIsImZyb20iLCJmaWx0ZXIiLCJpc011bmRhbmUiLCJjbGVhclJvdyIsImZpbmRUaWxlIiwiY2xlYXJDb2wiLCJjbGVhckNyb3NzIiwiY2xlYXJUeXBlIiwiY2xlYXJCb21iIiwiYm9tYlNoYXBlIiwiYm9tYlRvcCIsImJvbWJMZWZ0IiwidGlsZUF0IiwicG9zIiwiZnJhY3Rpb25YIiwiZnJhY3Rpb25ZIiwidGFyZ2V0Iiwicm93VGlsZXMiLCJ0aWxlQ2VudGVyIiwidGlsZUluZm8iLCJ0byIsInN3YXBUaWxlSW5EaXJlY3Rpb24iLCJzd2FwVGlsZVdpdGhUaWxlIiwib25EcmFnU3RhcnQiLCJyZW1vdmVEcmFnU3RhcnRMaXN0ZW5lciIsImlkIiwib25EcmFnRW5kIiwicmVtb3ZlRHJhZ0VuZExpc3RlbmVyIiwib25EcmFnIiwicmVtb3ZlRHJhZ0xpc3RlbmVyIiwiYWRqYWNlbnRTcGFjZSIsImRpcmVjdGlvbiIsInJlbW92ZVRpbGUiLCJfcm93IiwibmV3R3JpZCIsInRpbGVXaWR0aCIsImNsZWFyRXhpc3RpbmdEcmFnRmxhZ3MiLCJzZXREcmFnU3RhcnRGbGFncyIsInNldERyYWdFbmRGbGFncyIsInNldERyYWdGbGFncyIsIm1vdXNlIiwiZGlzdGFuY2UiLCJkcmFnRGlyZWN0aW9uIiwicmVwbGFjZVRpbGUiLCJ0aWxlMSIsInRpbGUyIiwidHJpZXMiLCJwb3NzaWJsZU1hdGNoZXNFeGlzdCIsIl90aWxlIiwiQm9hcmQiLCJzY29yZXMiLCJtb3ZlcyIsImRyYXdUZXh0IiwidGV4dCIsImZvbnQiLCJzaXplIiwidW5pdHMiLCJhbGlnbiIsImJhc2VsaW5lIiwidGV4dEFsaWduIiwidGV4dEJhc2VsaW5lIiwiZmlsbFRleHQiLCJtYXhTaXplIiwiYm9hcmRTaXplIiwiYm9hcmRPZmZzZXQiLCJib2FyZEJvdHRvbSIsImJvYXJkVG9wIiwiYm9hcmRMZWZ0IiwiYm9hcmQiLCJfbG9vcENvdW50IiwibGluZVdpZHRoIiwic3Ryb2tlVGV4dCIsInNjb3JlIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQTFCLEVBQW9Ca0IsRUFBRU8sR0FDdEJYLE9BQU9DLGVBQWVVLEVBQUksVUFBVyxDQUFF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NFYsR0FBWW9CLEVBQVEsR0FBSyxHQUFLQSxHQUFLLE1BQU8sQ0FBRWxYLEVBQUdBLEdBQWVFLEVBQUMsRUFBRStWLEtBdEJ0RCxXQTBCZDdSLE9BQWUwUyxNQUFRQSIsImZpbGUiOiJnYW1lLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDQpO1xuIiwiaW1wb3J0IHsgQ29vcmRQb3NpdGlvbiwgTnVsbGlzaCwgR3JpZFBvc2l0aW9uLCBMaXRlcmFsIH0gZnJvbSBcIi4uL3R5cGVzL2NvbW1vblwiO1xuXG5leHBvcnQgZnVuY3Rpb24gcmFuZ2U8VD4obWluOiBudW1iZXIsIC4uLm1heEFuZE9yTWFwcGVyOiBbXSk6IG51bWJlcltdO1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlPFQ+KG1pbjogbnVtYmVyLCAuLi5tYXhBbmRPck1hcHBlcjogW251bWJlcl0pOiBudW1iZXJbXTtcbmV4cG9ydCBmdW5jdGlvbiByYW5nZTxUPihtaW46IG51bWJlciwgLi4ubWF4QW5kT3JNYXBwZXI6IFsobjogbnVtYmVyKSA9PiBUXSk6IFRbXTtcbmV4cG9ydCBmdW5jdGlvbiByYW5nZTxUPihtaW46IG51bWJlciwgLi4ubWF4QW5kT3JNYXBwZXI6IFtudW1iZXIsIChuOiBudW1iZXIpID0+IFRdKTogVFtdO1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlPFQ+KG1pbjogbnVtYmVyLCAuLi5tYXhBbmRPck1hcHBlcjogW118W251bWJlcnwoKG46IG51bWJlcikgPT4gVCldfFtudW1iZXIsIChuOiBudW1iZXIpID0+IFRdKTogKG51bWJlcnxUKVtdIHtcbiAgY29uc3QgbWF4ID0gdHlwZW9mIG1heEFuZE9yTWFwcGVyWzBdID09PSAnbnVtYmVyJyA/IG1heEFuZE9yTWFwcGVyWzBdIDogMDtcbiAgY29uc3QgbWFwcGVyID0gdHlwZW9mIG1heEFuZE9yTWFwcGVyWzBdID09PSAnZnVuY3Rpb24nID8gbWF4QW5kT3JNYXBwZXJbMF0gOiBtYXhBbmRPck1hcHBlclsxXTtcbiAgY29uc3QgW3JlYWxNaW4sIHJlYWxNYXhdID0gbWluIDwgbWF4ID8gW21pbiwgbWF4XSA6IFttYXgsIG1pbl07XG4gIGNvbnN0IGRpZmYgPSByZWFsTWF4IC0gcmVhbE1pbjtcbiAgY29uc3QgbGlzdCA9IEFycmF5KGRpZmYpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGRpZmY7IGkrKykgbGlzdFtpXSA9IG1hcHBlciA/IG1hcHBlcihpICsgcmVhbE1pbikgOiBpICsgcmVhbE1pbjtcbiAgcmV0dXJuIGxpc3Q7XG59XG5cbmV4cG9ydCBjb25zdCByYW5kID0gKG1pbjogbnVtYmVyLCBtYXggPSAwLCBpbnQgPSB0cnVlKTogbnVtYmVyID0+IHtcbiAgY29uc3QgW3JlYWxNaW4sIHJlYWxNYXhdID0gbWluIDwgbWF4ID8gW21pbiwgbWF4XSA6IFttYXgsIG1pbl07XG4gIGNvbnN0IHJhbmRvbURpZmYgPSBNYXRoLnJhbmRvbSgpICogKHJlYWxNYXggLSByZWFsTWluKTtcbiAgcmV0dXJuIHJlYWxNaW4gKyAoaW50ID8gTWF0aC5mbG9vcihyYW5kb21EaWZmKSA6IHJhbmRvbURpZmYpO1xufTtcblxuZXhwb3J0IGNvbnN0IGRhbXBlbiA9IChudW06IG51bWJlciwgYnk6IG51bWJlciwgY2VudGVyID0gMCk6IG51bWJlciA9PiB7XG4gIC8vIG51bWJlciBpcyBhbHJlYWR5IGF0IHRoZSBjZW50ZXJcbiAgaWYgKG51bSA9PT0gY2VudGVyKSByZXR1cm4gY2VudGVyO1xuXG4gIC8vIG51bWJlciBpcyBoaWdoZXIgdGhhbiB0aGUgY2VudGVyOyBzdWJ0cmFjdCBhbmQgZG9uJ3Qgb3ZlcnNob290IHRoZSBjZW50ZXJcbiAgaWYgKG51bSA+IGNlbnRlcikge1xuICAgIGNvbnN0IG5ld051bSA9IG51bSAtIGJ5O1xuICAgIHJldHVybiBuZXdOdW0gPCBjZW50ZXIgPyBjZW50ZXIgOiBuZXdOdW07XG4gIH1cblxuICAvLyBudW1iZXIgaXMgbG93ZXIgdGhhbiB0aGUgY2VudGVyOyBhZGQgYW5kIGRvbid0IG92ZXJzaG9vdCB0aGUgY2VudGVyXG4gIGNvbnN0IG5ld051bSA9IG51bSArIGJ5O1xuICByZXR1cm4gbmV3TnVtID4gY2VudGVyID8gY2VudGVyIDogbmV3TnVtO1xufTtcblxuZXhwb3J0IGNvbnN0IGJvdW5kID0gKG51bTogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICBjb25zdCBbcmVhbE1pbiwgcmVhbE1heF0gPSBtaW4gPCBtYXggPyBbbWluLCBtYXhdIDogW21heCwgbWluXTtcbiAgaWYgKG51bSA8IHJlYWxNaW4pIHJldHVybiByZWFsTWluO1xuICBpZiAobnVtID4gcmVhbE1heCkgcmV0dXJuIHJlYWxNYXg7XG4gIHJldHVybiBudW07XG59O1xuXG5leHBvcnQgY29uc3QgYmV0d2VlbiA9IChudW06IG51bWJlciwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyLCBpbmNsdXNpdmUgPSB0cnVlKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IFtyZWFsTWluLCByZWFsTWF4XSA9IG1pbiA8IG1heCA/IFttaW4sIG1heF0gOiBbbWF4LCBtaW5dO1xuICByZXR1cm4gaW5jbHVzaXZlID8gKG51bSA+PSByZWFsTWluICYmIG51bSA8PSByZWFsTWF4KSA6IChudW0gPiByZWFsTWluICYmIG51bSA8IHJlYWxNYXgpO1xufTtcblxuZXhwb3J0IGNvbnN0IGRpZmZlcmVuY2UgPSAobjogbnVtYmVyLCBtOiBudW1iZXIpOiBudW1iZXIgPT4gTWF0aC5hYnMobiAtIG0pO1xuXG5leHBvcnQgY29uc3Qgc2FtcGxlID0gPFQ+KGxpc3Q6IFRbXSk6IFQgPT4ge1xuICByZXR1cm4gbGlzdFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsaXN0Lmxlbmd0aCldO1xufTtcblxuZXhwb3J0IGNvbnN0IGRpc3RhbmNlQmV0d2VlbiA9IChvcmlnaW46IENvb3JkUG9zaXRpb24sIGRlc3RpbmF0aW9uOiBDb29yZFBvc2l0aW9uKTogbnVtYmVyID0+IHtcbiAgY29uc3QgZHggPSBkZXN0aW5hdGlvbi54IC0gb3JpZ2luLng7XG4gIGNvbnN0IGR5ID0gZGVzdGluYXRpb24ueSAtIG9yaWdpbi55O1xuICByZXR1cm4gTWF0aC5zcXJ0KChkeCAqKiAyKSArIChkeSAqKiAyKSk7XG59O1xuXG5leHBvcnQgY29uc3Qgcm90YXRlUG9pbnQgPSAoY29vcmRzOiBDb29yZFBvc2l0aW9uLCBhcm91bmQ6IENvb3JkUG9zaXRpb24sIHJhZGlhbnM6IG51bWJlcik6IENvb3JkUG9zaXRpb24gPT4ge1xuICBjb25zdCByZWxhdGl2ZSA9IHsgeDogY29vcmRzLnggLSBhcm91bmQueCwgeTogY29vcmRzLnkgLSBhcm91bmQueSB9O1xuICBjb25zdCBjb3NpbmUgPSBNYXRoLmNvcyhyYWRpYW5zKTtcbiAgY29uc3Qgc2luZSA9IE1hdGguc2luKHJhZGlhbnMpO1xuICBjb25zdCBuZXdYID0gKHJlbGF0aXZlLnggKiBjb3NpbmUpIC0gKHJlbGF0aXZlLnkgKiBzaW5lKTtcbiAgY29uc3QgbmV3WSA9IChyZWxhdGl2ZS54ICogc2luZSkgKyAocmVsYXRpdmUueSAqIGNvc2luZSk7XG4gIHJldHVybiB7IHg6IG5ld1ggKyBhcm91bmQueCwgeTogbmV3WSArIGFyb3VuZC55IH07XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gaXNOdWxsaXNoKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBOdWxsaXNoIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgTnVsbF0nO1xufVxuXG5leHBvcnQgY29uc3QgZmlsdGVyTWFwID0gPFQsIEs+KGxpc3Q6IFRbXSwgbWFwcGVyOiAoaXRlbTogVCwgaW5kZXg6IG51bWJlciwgb3JpZ2luYWw6IFRbXSkgPT4gS3xOdWxsaXNoKTogS1tdID0+IHtcbiAgcmV0dXJuIGxpc3QucmVkdWNlKChtZW1vLCBpdGVtLCBpbmRleCwgb3JpZ2luYWwpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSBtYXBwZXIoaXRlbSwgaW5kZXgsIG9yaWdpbmFsKTtcbiAgICByZXR1cm4gaXNOdWxsaXNoKHJlc3VsdCkgPyBtZW1vIDogWy4uLm1lbW8sIHJlc3VsdF07XG4gIH0sIFtdIGFzIEtbXSk7XG59O1xuXG5leHBvcnQgY29uc3QgZmluZE1hcCA9IDxULCBLPihsaXN0OiBUW10sIG1hcHBlcjogKGl0ZW06IFQsIGluZGV4OiBudW1iZXIsIG9yaWdpbmFsOiBUW10pID0+IEt8TnVsbGlzaCk6IEt8dW5kZWZpbmVkID0+IHtcbiAgbGV0IHJlc3VsdDtcbiAgbGlzdC5maW5kKChpdGVtLCBpbmRleCwgb3JpZ2luYWwpID0+IHtcbiAgICByZXN1bHQgPSBtYXBwZXIoaXRlbSwgaW5kZXgsIG9yaWdpbmFsKTtcbiAgICByZXR1cm4gIWlzTnVsbGlzaChyZXN1bHQpO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBjb25zdCB1bmlxID0gPFQsIFAgZXh0ZW5kcyBrZXlvZiBUPihsaXN0OiBUW10sIG1hcHBlcjogUHxOdWxsaXNofCgoaXRlbTogVCwgaW5kZXg6IG51bWJlciwgb3JpZ2luYWw6IFRbXSkgPT4gYW55KSwgc29ydGVkID0gZmFsc2UpOiBUW10gPT4ge1xuICBjb25zdCBtYXBwZXJGbiA9IGlzTnVsbGlzaChtYXBwZXIpIHx8IHR5cGVvZiBtYXBwZXIgPT09ICdmdW5jdGlvbicgPyBtYXBwZXIgOiAoaXRlbTogVCkgPT4gaXRlbVttYXBwZXJdO1xuXG4gIGlmIChzb3J0ZWQgJiYgIW1hcHBlckZuKSB7XG4gICAgbGV0IGxhc3RTZWVuOiBUO1xuICAgIHJldHVybiBsaXN0LnJlZHVjZSgobWVtbywgaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCAhPT0gMCAmJiBpdGVtID09PSBsYXN0U2VlbikgcmV0dXJuIG1lbW87XG4gICAgICBsYXN0U2VlbiA9IGl0ZW07XG4gICAgICByZXR1cm4gWy4uLm1lbW8sIGl0ZW1dO1xuICAgIH0sIFtdIGFzIFRbXSk7XG4gIH1cblxuICBjb25zdCBzZWVuID0gbmV3IFNldCgpO1xuICByZXR1cm4gbGlzdC5yZWR1Y2UoKG1lbW8sIGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgY29uc3Qga2V5ID0gbWFwcGVyRm4gPyBtYXBwZXJGbihpdGVtLCBpbmRleCwgbGlzdCkgOiBpdGVtO1xuICAgIGlmIChzZWVuLmhhcyhrZXkpKSByZXR1cm4gbWVtbztcbiAgICBzZWVuLmFkZChrZXkpO1xuICAgIHJldHVybiBbLi4ubWVtbywgaXRlbV07XG4gIH0sIFtdIGFzIFRbXSk7XG59O1xuXG5leHBvcnQgY29uc3Qgcm90YXRlID0gPFQ+KGdyaWQ6IFRbXVtdLCByb3RhdGlvbnMgPSAxKTogVFtdW10gPT4ge1xuICBjb25zdCBxdWFkcmFudHMgPSByb3RhdGlvbnMgJSA0O1xuICBzd2l0Y2ggKHF1YWRyYW50cyA8IDAgPyA0IC0gcXVhZHJhbnRzIDogcXVhZHJhbnRzKSB7XG4gICAgY2FzZSAxOiB7XG4gICAgICByZXR1cm4gZ3JpZC5yZWR1Y2UoKG1lbW8sIHJvdywgcm93SW5kZXgpID0+IHtcbiAgICAgICAgcm93LmZvckVhY2goKGl0ZW0sIGNvbEluZGV4KSA9PiB7XG4gICAgICAgICAgY29uc3QgbmV3Um93SW5kZXggPSBjb2xJbmRleDtcbiAgICAgICAgICBjb25zdCBuZXdDb2xJbmRleCA9IGdyaWQubGVuZ3RoIC0gcm93SW5kZXggLSAxO1xuICAgICAgICAgIG1lbW9bbmV3Um93SW5kZXhdID0gbWVtb1tuZXdSb3dJbmRleF0gfHwgW107XG4gICAgICAgICAgbWVtb1tuZXdSb3dJbmRleF1bbmV3Q29sSW5kZXhdID0gaXRlbTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtZW1vO1xuICAgICAgfSwgW10gYXMgVFtdW10pO1xuICAgIH1cbiAgICBjYXNlIDI6IHJldHVybiBbLi4uZ3JpZF0ucmV2ZXJzZSgpLm1hcChyb3cgPT4gWy4uLnJvd10ucmV2ZXJzZSgpKTtcbiAgICBjYXNlIDM6IHtcbiAgICAgIHJldHVybiBncmlkLnJlZHVjZSgobWVtbywgcm93LCByb3dJbmRleCkgPT4ge1xuICAgICAgICByb3cuZm9yRWFjaCgoaXRlbSwgY29sSW5kZXgpID0+IHtcbiAgICAgICAgICBjb25zdCBuZXdSb3dJbmRleCA9IHJvdy5sZW5ndGggLSBjb2xJbmRleCAtIDE7XG4gICAgICAgICAgY29uc3QgbmV3Q29sSW5kZXggPSByb3dJbmRleDtcbiAgICAgICAgICBtZW1vW25ld1Jvd0luZGV4XSA9IG1lbW9bbmV3Um93SW5kZXhdIHx8IFtdO1xuICAgICAgICAgIG1lbW9bbmV3Um93SW5kZXhdW25ld0NvbEluZGV4XSA9IGl0ZW07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWVtbztcbiAgICAgIH0sIFtdIGFzIFRbXVtdKTtcbiAgICB9XG4gICAgZGVmYXVsdDogcmV0dXJuIGdyaWQubWFwKHJvdyA9PiBbLi4ucm93XSk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCByb3RhdGVHcmlkUG9zaXRpb24gPSAoeyByb3csIGNvbCB9OiBHcmlkUG9zaXRpb24sIHJvd3M6IG51bWJlciwgY29sczogbnVtYmVyLCByb3RhdGlvbnM6IG51bWJlcik6IEdyaWRQb3NpdGlvbiA9PiB7XG4gIGNvbnN0IHF1YWRyYW50cyA9IHJvdGF0aW9ucyAlIDQ7XG4gIHN3aXRjaCAocXVhZHJhbnRzIDwgMCA/IDQgLSBxdWFkcmFudHMgOiBxdWFkcmFudHMpIHtcbiAgICBjYXNlIDE6IHJldHVybiB7IHJvdzogY29sLCBjb2w6IHJvd3MgLSByb3cgLSAxIH07XG4gICAgY2FzZSAyOiByZXR1cm4geyByb3c6IHJvd3MgLSByb3cgLSAxLCBjb2w6IGNvbHMgLSBjb2wgLSAxIH07XG4gICAgY2FzZSAzOiByZXR1cm4geyByb3c6IGNvbHMgLSBjb2wgLSAxLCBjb2w6IHJvdyB9O1xuICAgIGRlZmF1bHQ6IHJldHVybiB7IHJvdywgY29sIH07XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB0dXBsZSA9IDxUIGV4dGVuZHMgTGl0ZXJhbD4oLi4ubGlzdDogVFtdKTogVFtdID0+IGxpc3Q7XG4iLCJpbXBvcnQgeyBOZWVkIH0gZnJvbSBcIi4vdHlwZXMvY29tbW9uXCI7XG5cbmNvbnN0IE1VTkRBTkVfVkFSSUFOVCA9ICdtdW5kYW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsZSB7XG4gIHB1YmxpYyB0eXBlOiBzdHJpbmc7XG4gIHB1YmxpYyB2YWx1ZTogbnVtYmVyO1xuICBwdWJsaWMgX3ZhcmlhbnQhOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoeyB0eXBlLCB2YWx1ZSwgdmFyaWFudCB9OiBOZWVkPFRpbGUsICd0eXBlJz4pIHtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZSB8fCAxO1xuICAgIHRoaXMuX3ZhcmlhbnQgPSB2YXJpYW50IHx8IE1VTkRBTkVfVkFSSUFOVDtcbiAgfVxuXG4gIHNldCB2YXJpYW50KHZhcmlhbnQ6IHN0cmluZykgeyB0aGlzLl92YXJpYW50ID0gdmFyaWFudCB8fCBNVU5EQU5FX1ZBUklBTlQgfVxuICBnZXQgdmFyaWFudCgpOiBzdHJpbmcgeyByZXR1cm4gdGhpcy5fdmFyaWFudCB8fCBNVU5EQU5FX1ZBUklBTlQgfVxuXG4gIGdldCBpc011bmRhbmUoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLnZhcmlhbnQgPT09IE1VTkRBTkVfVkFSSUFOVCB9XG59XG4iLCJpbXBvcnQgVGlsZSBmcm9tIFwiLi9UaWxlXCI7XG5pbXBvcnQgeyByYW5nZSwgc2FtcGxlLCByb3RhdGUsIHJhbmQgfSBmcm9tIFwiLi9jb25jZXJucy91dGlsaXRpZXNcIjtcbmltcG9ydCB7IE5lZWQgfSBmcm9tIFwiLi90eXBlcy9jb21tb25cIjtcblxuZXhwb3J0IHR5cGUgVGlsZUdlbmVyYXRvcjxUaWxlQ2xhc3MgZXh0ZW5kcyBUaWxlPiA9IChvcHRzOiBQaWNrPFRpbGVDbGFzcywgJ3ZhcmlhbnQnPikgPT4gVGlsZUNsYXNzO1xuXG5leHBvcnQgaW50ZXJmYWNlIE11bmRhbmVUaWxlRGVmPFRpbGVDbGFzcyBleHRlbmRzIFRpbGU+IHtcbiAgZ2VuZXJhdG9yOiBUaWxlR2VuZXJhdG9yPFRpbGVDbGFzcz47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3BlY2lhbFRpbGVEZWY8VGlsZUNsYXNzIGV4dGVuZHMgVGlsZT4ge1xuICBnZW5lcmF0b3I6IFRpbGVHZW5lcmF0b3I8VGlsZUNsYXNzPjtcbn1cblxuZXhwb3J0IHR5cGUgVGlsZURlZjxUaWxlQ2xhc3MgZXh0ZW5kcyBUaWxlPiA9IE11bmRhbmVUaWxlRGVmPFRpbGVDbGFzcz4gfCBTcGVjaWFsVGlsZURlZjxUaWxlQ2xhc3M+O1xuXG5leHBvcnQgaW50ZXJmYWNlIE11bmRhbmVUaWxlRGVmczxUaWxlQ2xhc3MgZXh0ZW5kcyBUaWxlPiB7XG4gIFt0eXBlOiBzdHJpbmddOiBNdW5kYW5lVGlsZURlZjxUaWxlQ2xhc3M+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNwZWNpYWxUaWxlRGVmczxUaWxlQ2xhc3MgZXh0ZW5kcyBUaWxlPiB7XG4gIFt0eXBlOiBzdHJpbmddOiBNdW5kYW5lVGlsZURlZjxUaWxlQ2xhc3M+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRpbGVEZWZzPFRpbGVDbGFzcyBleHRlbmRzIFRpbGU+IHtcbiAgW3R5cGU6IHN0cmluZ106IFRpbGVEZWY8VGlsZUNsYXNzPjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQm9hcmQ8VGlsZUNsYXNzIGV4dGVuZHMgVGlsZSA9IFRpbGU+IHtcbiAgcHVibGljIHJvd0NvdW50ID0gOTtcbiAgcHVibGljIGNvbENvdW50ID0gOTtcbiAgcHVibGljIHRpbGVDbGFzcyA9IFRpbGU7XG4gIHB1YmxpYyB0aWxlRGVmczogVGlsZURlZnM8VGlsZUNsYXNzPjtcbiAgcHVibGljIG9uVGlsZU1hdGNoZWQ/OiAodGlsZTogVGlsZUNsYXNzKSA9PiB2b2lkO1xuICBwcml2YXRlIF9yb3dzPzogVGlsZUNsYXNzW11bXTtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiBOZWVkPEJvYXJkPFRpbGVDbGFzcz4sICd0aWxlRGVmcyc+KSB7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRzKTtcbiAgICB0aGlzLnRpbGVEZWZzID0gb3B0cy50aWxlRGVmcztcbiAgfVxuXG4gIGdldCByb3dzKCk6IFRpbGVDbGFzc1tdW10ge1xuICAgIHRoaXMuX3Jvd3MgPSB0aGlzLl9yb3dzIHx8IHRoaXMubmV3Um93cygpO1xuICAgIHJldHVybiB0aGlzLl9yb3dzO1xuICB9XG5cbiAgc2V0IHJvd3Mocm93czogVGlsZUNsYXNzW11bXSkge1xuICAgIHRoaXMuX3Jvd3MgPSByb3dzO1xuICB9XG5cbiAgZ2V0IHRpbGVzKCk6IFRpbGVDbGFzc1tdIHtcbiAgICByZXR1cm4gdGhpcy5yb3dzLnJlZHVjZSgodGlsZXMsIHJvdykgPT4gWy4uLnRpbGVzLCAuLi5yb3ddLCBbXSk7XG4gIH1cblxuICBnZXQgdGlsZVR5cGVzKCk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy50aWxlRGVmcyk7XG4gIH1cblxuICBuZXdNdW5kYW5lVGlsZSgpOiBUaWxlQ2xhc3Mge1xuICAgIGNvbnN0IHRpbGVUeXBlID0gc2FtcGxlKHRoaXMudGlsZVR5cGVzKTtcbiAgICBjb25zdCB0aWxlRGVmID0gdGhpcy50aWxlRGVmc1t0aWxlVHlwZV07XG4gICAgcmV0dXJuIHRpbGVEZWYuZ2VuZXJhdG9yKHsgdmFyaWFudDogJ211bmRhbmUnIH0pO1xuICB9XG5cbiAgbmV3Um93cygpOiBUaWxlQ2xhc3NbXVtdIHtcbiAgICByZXR1cm4gcmFuZ2UodGhpcy5yb3dDb3VudCwgKCkgPT4gKHJhbmdlKHRoaXMuY29sQ291bnQsICgpID0+IHRoaXMubmV3TXVuZGFuZVRpbGUoKSkpKTtcbiAgfVxuXG4gIHNodWZmbGUoKTogdm9pZCB7XG4gICAgY29uc3Qgcm93Q291bnQgPSB0aGlzLnJvd3MubGVuZ3RoO1xuICAgIHRoaXMucm93cy5mb3JFYWNoKChyb3csIHJvd0luZGV4KSA9PiB7XG4gICAgICBjb25zdCBjb2xDb3VudCA9IHJvdy5sZW5ndGg7XG4gICAgICByb3cuZm9yRWFjaCgodGlsZSwgY29sSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgbmV3Um93SW5kZXggPSByYW5kKHJvd0NvdW50KTtcbiAgICAgICAgY29uc3QgbmV3Q29sSW5kZXggPSByYW5kKGNvbENvdW50KTtcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSB0aGlzLnJvd3NbbmV3Um93SW5kZXhdW25ld0NvbEluZGV4XTtcbiAgICAgICAgdGhpcy5yb3dzW25ld1Jvd0luZGV4XVtuZXdDb2xJbmRleF0gPSB0aWxlO1xuICAgICAgICB0aGlzLnJvd3Nbcm93SW5kZXhdW2NvbEluZGV4XSA9IGV4aXN0aW5nO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImNvbnN0IGdhbWVMb29wID0gKGM6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgZHJhdzogKGxvb3BDb3VudDogbnVtYmVyKSA9PiB2b2lkLCBsb29wQ291bnQgPSAwKTogdm9pZCA9PiB7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBnYW1lTG9vcChjLCBkcmF3LCBsb29wQ291bnQgKyAxKSk7XG4gIGMuY2xlYXJSZWN0KDAsIDAsIHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICBkcmF3KGxvb3BDb3VudCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBnYW1lTG9vcDtcbiIsImNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJykhO1xuaWYgKCFjdHgpIGNvbnNvbGUuZXJyb3IoXCJDYW52YXMgJzJkJyBjb250ZXh0IGlzIG5vdCBzdXBwb3J0ZWQuXCIpO1xuXG4od2luZG93IGFzIGFueSkuY3R4ID0gY3R4O1xuXG5jb25zdCBzaXplQ2FudmFzID0gKCk6IHZvaWQgPT4ge1xuICBjb25zdCBkZXZpY2VQaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTtcbiAgY29uc3Qgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgY29uc3QgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICBjYW52YXMud2lkdGggPSB3aWR0aCAqIGRldmljZVBpeGVsUmF0aW87XG4gIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQgKiBkZXZpY2VQaXhlbFJhdGlvO1xuICBjYW52YXMuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGA7XG4gIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICBjdHguc2NhbGUoZGV2aWNlUGl4ZWxSYXRpbywgZGV2aWNlUGl4ZWxSYXRpbyk7XG59O1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgc2l6ZUNhbnZhcygpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc2l6ZUNhbnZhcyk7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbn0pO1xuXG5leHBvcnQgeyBjdHggfTtcbmV4cG9ydCBkZWZhdWx0IGNhbnZhcztcbiIsImltcG9ydCB7IENvb3JkUG9zaXRpb24gfSBmcm9tIFwiLi4vdHlwZXMvY29tbW9uXCI7XG5pbXBvcnQgeyByb3RhdGVQb2ludCB9IGZyb20gXCIuL3V0aWxpdGllc1wiO1xuXG5leHBvcnQgY29uc3QgZHJhd0Fycm93ID0gKFxuICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgZGlyOiAndXAnfCdkb3duJ3wnbGVmdCd8J3JpZ2h0JyxcbiAgZmlsbFN0eWxlOiBzdHJpbmcsXG4gIHN0cm9rZVN0eWxlOiBzdHJpbmcsXG4gIGNlbnRlcjogQ29vcmRQb3NpdGlvbixcbiAgd2lkdGg6IG51bWJlcixcbiAgbGVuZ3RoOiBudW1iZXJcbik6IHZvaWQgPT4ge1xuICBjb25zdCBoZWFkV2lkdGggPSB3aWR0aCAqIDI7XG4gIGNvbnN0IGhlYWRMZW5ndGggPSAwLjc1ICogaGVhZFdpZHRoO1xuICBjb25zdCB0YWlsV2lkdGggPSB3aWR0aDtcbiAgY29uc3QgdGFpbExlbmd0aCA9IGxlbmd0aCAtIGhlYWRMZW5ndGg7XG4gIC8vIGNvbnN0IHRhaWxCb3R0b20gPSBjZW50ZXIueSArICh0YWlsV2lkdGggLyAyKTsgLy8gbGlrZSBhZmZpeGluZyBpdCB3aXRoIGEgbmFpbCBzbyB0aGF0IGl0J3MgY2VudGVyZWQgc2VtaS1zcXVhcmUgd2l0aCB0aGUgZW5kXG4gIGNvbnN0IHRhaWxCb3R0b20gPSBjZW50ZXIueSArICh0YWlsTGVuZ3RoIC8gMikgKyAoaGVhZExlbmd0aCAvIDIpO1xuICBjb25zdCB0YWlsVG9wID0gdGFpbEJvdHRvbSAtIHRhaWxMZW5ndGg7XG4gIGNvbnN0IHRhaWxMZWZ0ID0gY2VudGVyLnggLSAodGFpbFdpZHRoIC8gMik7XG4gIGNvbnN0IHRhaWxSaWdodCA9IGNlbnRlci54ICsgKHRhaWxXaWR0aCAvIDIpO1xuICBjb25zdCBoZWFkQm90dG9tID0gdGFpbFRvcDtcbiAgY29uc3QgaGVhZFRvcCA9IGhlYWRCb3R0b20gLSBoZWFkTGVuZ3RoO1xuICBjb25zdCBoZWFkTGVmdCA9IGNlbnRlci54IC0gKGhlYWRXaWR0aCAvIDIpO1xuICBjb25zdCBoZWFkUmlnaHQgPSBjZW50ZXIueCArIChoZWFkV2lkdGggLyAyKTtcblxuICBjb25zdCBhbmdsZSA9IHtcbiAgICB1cDogMCxcbiAgICByaWdodDogMC41ICogTWF0aC5QSSxcbiAgICBkb3duOiBNYXRoLlBJLFxuICAgIGxlZnQ6IDEuNSAqIE1hdGguUEksXG4gIH1bZGlyXTtcblxuICBjb25zdCBwb2ludHMgPSBbXG4gICAgeyB4OiB0YWlsTGVmdCwgeTogdGFpbFRvcCB9LFxuICAgIHsgeDogdGFpbExlZnQsIHk6IHRhaWxCb3R0b20gfSxcbiAgICB7IHg6IHRhaWxSaWdodCwgeTogdGFpbEJvdHRvbSB9LFxuICAgIHsgeDogdGFpbFJpZ2h0LCB5OiB0YWlsVG9wIH0sXG4gICAgeyB4OiBoZWFkUmlnaHQsIHk6IGhlYWRCb3R0b20gfSxcbiAgICB7IHg6IGNlbnRlci54LCB5OiBoZWFkVG9wIH0sXG4gICAgeyB4OiBoZWFkTGVmdCwgeTogaGVhZEJvdHRvbSB9LFxuICBdO1xuXG4gIGNvbnN0IHJvdGF0ZWRQb2ludHMgPSBhbmdsZSA/IHBvaW50cy5tYXAocHQgPT4gcm90YXRlUG9pbnQocHQsIGNlbnRlciwgYW5nbGUpKSA6IHBvaW50cztcblxuICBjdHguZmlsbFN0eWxlID0gZmlsbFN0eWxlO1xuICBjdHguc3Ryb2tlU3R5bGUgPSBzdHJva2VTdHlsZTtcbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjb25zdCBzdGFydFBvaW50ID0gcm90YXRlZFBvaW50c1swXTtcbiAgY3R4Lm1vdmVUbyhzdGFydFBvaW50LngsIHN0YXJ0UG9pbnQueSk7XG4gIHJvdGF0ZWRQb2ludHMuZm9yRWFjaCgoeyB4LCB5IH0pID0+IGN0eC5saW5lVG8oeCwgeSkpO1xuICBjdHgubGluZVRvKHN0YXJ0UG9pbnQueCwgc3RhcnRQb2ludC55KTtcbiAgY3R4LmNsb3NlUGF0aCgpO1xuICBjdHguZmlsbCgpO1xuICBpZiAoc3Ryb2tlU3R5bGUpIGN0eC5zdHJva2UoKTtcbn07XG5cbmV4cG9ydCBjb25zdCBkcmF3RG91YmxlQXJyb3cgPSAoXG4gIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuICBkaXI6ICdob3Jpem9udGFsJ3wndmVydGljYWwnLFxuICBmaWxsU3R5bGU6IHN0cmluZyxcbiAgc3Ryb2tlU3R5bGU6IHN0cmluZyxcbiAgY2VudGVyOiBDb29yZFBvc2l0aW9uLFxuICB3aWR0aDogbnVtYmVyLFxuICBsZW5ndGg6IG51bWJlclxuKTogdm9pZCA9PiB7XG4gIGNvbnN0IGhlYWRXaWR0aCA9IHdpZHRoICogMjtcbiAgY29uc3QgaGVhZExlbmd0aCA9IDAuNzUgKiBoZWFkV2lkdGg7XG4gIGNvbnN0IHRhaWxXaWR0aCA9IHdpZHRoO1xuICBjb25zdCB0YWlsTGVuZ3RoID0gbGVuZ3RoIC0gKGhlYWRMZW5ndGggKiAyKTtcbiAgY29uc3QgdGFpbEJvdHRvbSA9IGNlbnRlci55ICsgKHRhaWxMZW5ndGggLyAyKTtcbiAgY29uc3QgdGFpbFRvcCA9IHRhaWxCb3R0b20gLSB0YWlsTGVuZ3RoO1xuICBjb25zdCB0YWlsTGVmdCA9IGNlbnRlci54IC0gKHRhaWxXaWR0aCAvIDIpO1xuICBjb25zdCB0YWlsUmlnaHQgPSBjZW50ZXIueCArICh0YWlsV2lkdGggLyAyKTtcbiAgY29uc3QgaGVhZExlZnQgPSBjZW50ZXIueCAtIChoZWFkV2lkdGggLyAyKTtcbiAgY29uc3QgaGVhZFJpZ2h0ID0gY2VudGVyLnggKyAoaGVhZFdpZHRoIC8gMik7XG4gIGNvbnN0IHRvcEhlYWRCYXNlID0gdGFpbFRvcDtcbiAgY29uc3QgdG9wSGVhZFRpcCA9IHRvcEhlYWRCYXNlIC0gaGVhZExlbmd0aDtcbiAgY29uc3QgYm90dG9tSGVhZEJhc2UgPSB0YWlsQm90dG9tO1xuICBjb25zdCBib3R0b21IZWFkVGlwID0gYm90dG9tSGVhZEJhc2UgKyBoZWFkTGVuZ3RoO1xuXG4gIGNvbnN0IGFuZ2xlID0ge1xuICAgIHZlcnRpY2FsOiAwLFxuICAgIGhvcml6b250YWw6IDAuNSAqIE1hdGguUEksXG4gIH1bZGlyXTtcblxuICBjb25zdCBwb2ludHMgPSBbXG4gICAgeyB4OiB0YWlsTGVmdCwgeTogdGFpbFRvcCB9LFxuICAgIHsgeDogdGFpbExlZnQsIHk6IHRhaWxCb3R0b20gfSxcbiAgICB7IHg6IGhlYWRMZWZ0LCB5OiBib3R0b21IZWFkQmFzZSB9LFxuICAgIHsgeDogY2VudGVyLngsIHk6IGJvdHRvbUhlYWRUaXAgfSxcbiAgICB7IHg6IGhlYWRSaWdodCwgeTogYm90dG9tSGVhZEJhc2UgfSxcbiAgICB7IHg6IHRhaWxSaWdodCwgeTogdGFpbEJvdHRvbSB9LFxuICAgIHsgeDogdGFpbFJpZ2h0LCB5OiB0YWlsVG9wIH0sXG4gICAgeyB4OiBoZWFkUmlnaHQsIHk6IHRvcEhlYWRCYXNlIH0sXG4gICAgeyB4OiBjZW50ZXIueCwgeTogdG9wSGVhZFRpcCB9LFxuICAgIHsgeDogaGVhZExlZnQsIHk6IHRvcEhlYWRCYXNlIH0sXG4gIF07XG5cbiAgY29uc3Qgcm90YXRlZFBvaW50cyA9IGFuZ2xlID8gcG9pbnRzLm1hcChwdCA9PiByb3RhdGVQb2ludChwdCwgY2VudGVyLCBhbmdsZSkpIDogcG9pbnRzO1xuXG4gIGN0eC5maWxsU3R5bGUgPSBmaWxsU3R5bGU7XG4gIGN0eC5zdHJva2VTdHlsZSA9IHN0cm9rZVN0eWxlO1xuICBjdHguYmVnaW5QYXRoKCk7XG4gIGNvbnN0IHN0YXJ0UG9pbnQgPSByb3RhdGVkUG9pbnRzWzBdO1xuICBjdHgubW92ZVRvKHN0YXJ0UG9pbnQueCwgc3RhcnRQb2ludC55KTtcbiAgcm90YXRlZFBvaW50cy5mb3JFYWNoKCh7IHgsIHkgfSkgPT4gY3R4LmxpbmVUbyh4LCB5KSk7XG4gIGN0eC5saW5lVG8oc3RhcnRQb2ludC54LCBzdGFydFBvaW50LnkpO1xuICBjdHguY2xvc2VQYXRoKCk7XG4gIGN0eC5maWxsKCk7XG4gIGlmIChzdHJva2VTdHlsZSkgY3R4LnN0cm9rZSgpO1xufTtcblxuZXhwb3J0IGNvbnN0IGRyYXdDcm9zc0Fycm93ID0gKFxuICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgZmlsbFN0eWxlOiBzdHJpbmcsXG4gIHN0cm9rZVN0eWxlOiBzdHJpbmcsXG4gIGNlbnRlcjogQ29vcmRQb3NpdGlvbixcbiAgd2lkdGg6IG51bWJlcixcbiAgbGVuZ3RoOiBudW1iZXJcbik6IHZvaWQgPT4ge1xuICBjb25zdCBoZWFkV2lkdGggPSB3aWR0aCAqIDI7XG4gIGNvbnN0IGhlYWRMZW5ndGggPSAwLjc1ICogaGVhZFdpZHRoO1xuICBjb25zdCB0YWlsV2lkdGggPSB3aWR0aDtcbiAgY29uc3QgdGFpbEludGVyc2VjdGlvbldpZHRoID0gdGFpbFdpZHRoO1xuICBjb25zdCB0YWlsSW50ZXJzZWN0aW9uSGVpZ2h0ID0gdGFpbEludGVyc2VjdGlvbldpZHRoO1xuICBjb25zdCB0YWlsTGVuZ3RoID0gbGVuZ3RoIC0gKGhlYWRMZW5ndGggKiAyKSAtIHRhaWxJbnRlcnNlY3Rpb25XaWR0aDtcblxuICBjb25zdCBub3J0aFRhaWxCYXNlID0gY2VudGVyLnkgLSAodGFpbEludGVyc2VjdGlvbkhlaWdodCAvIDIpO1xuICBjb25zdCBub3J0aFRhaWxUaXAgPSBub3J0aFRhaWxCYXNlIC0gdGFpbExlbmd0aDtcbiAgY29uc3Qgc291dGhUYWlsQmFzZSA9IGNlbnRlci55ICsgKHRhaWxJbnRlcnNlY3Rpb25IZWlnaHQgLyAyKTtcbiAgY29uc3Qgc291dGhUYWlsVGlwID0gc291dGhUYWlsQmFzZSArIHRhaWxMZW5ndGg7XG4gIGNvbnN0IHdlc3RUYWlsQmFzZSA9IGNlbnRlci54IC0gKHRhaWxJbnRlcnNlY3Rpb25XaWR0aCAvIDIpO1xuICBjb25zdCB3ZXN0VGFpbFRpcCA9IHdlc3RUYWlsQmFzZSAtIHRhaWxMZW5ndGg7XG4gIGNvbnN0IGVhc3RUYWlsQmFzZSA9IGNlbnRlci54ICsgKHRhaWxJbnRlcnNlY3Rpb25XaWR0aCAvIDIpO1xuICBjb25zdCBlYXN0VGFpbFRpcCA9IGVhc3RUYWlsQmFzZSArIHRhaWxMZW5ndGg7XG5cbiAgY29uc3Qgbm9ydGhIZWFkQmFzZSA9IG5vcnRoVGFpbFRpcDtcbiAgY29uc3Qgbm9ydGhIZWFkVGlwID0gbm9ydGhIZWFkQmFzZSAtIGhlYWRMZW5ndGg7XG4gIGNvbnN0IHNvdXRoSGVhZEJhc2UgPSBzb3V0aFRhaWxUaXA7XG4gIGNvbnN0IHNvdXRoSGVhZFRpcCA9IHNvdXRoSGVhZEJhc2UgKyBoZWFkTGVuZ3RoO1xuICBjb25zdCB3ZXN0SGVhZEJhc2UgPSB3ZXN0VGFpbFRpcDtcbiAgY29uc3Qgd2VzdEhlYWRUaXAgPSB3ZXN0SGVhZEJhc2UgLSBoZWFkTGVuZ3RoO1xuICBjb25zdCBlYXN0SGVhZEJhc2UgPSBlYXN0VGFpbFRpcDtcbiAgY29uc3QgZWFzdEhlYWRUaXAgPSBlYXN0SGVhZEJhc2UgKyBoZWFkTGVuZ3RoO1xuXG4gIGNvbnN0IGhvcml6b250YWxUYWlsVG9wID0gbm9ydGhUYWlsQmFzZTtcbiAgY29uc3QgaG9yaXpvbnRhbFRhaWxCb3R0b20gPSBzb3V0aFRhaWxCYXNlO1xuICBjb25zdCB2ZXJ0aWNhbFRhaWxMZWZ0ID0gd2VzdFRhaWxCYXNlO1xuICBjb25zdCB2ZXJ0aWNhbFRhaWxSaWdodCA9IGVhc3RUYWlsQmFzZTtcbiAgY29uc3QgaG9yaXpvbnRhbEhlYWRUb3AgPSBjZW50ZXIueSAtIChoZWFkV2lkdGggLyAyKTtcbiAgY29uc3QgaG9yaXpvbnRhbEhlYWRCb3R0b20gPSBjZW50ZXIueSArIChoZWFkV2lkdGggLyAyKTtcbiAgY29uc3QgdmVydGljYWxIZWFkTGVmdCA9IGNlbnRlci54IC0gKGhlYWRXaWR0aCAvIDIpO1xuICBjb25zdCB2ZXJ0aWNhbEhlYWRSaWdodCA9IGNlbnRlci54ICsgKGhlYWRXaWR0aCAvIDIpO1xuXG4gIGNvbnN0IHBvaW50cyA9IFtcbiAgICB7IHg6IHZlcnRpY2FsVGFpbExlZnQsIHk6IG5vcnRoVGFpbFRpcCB9LFxuICAgIHsgeDogdmVydGljYWxUYWlsTGVmdCwgeTogbm9ydGhUYWlsQmFzZSB9LFxuICAgIHsgeDogd2VzdFRhaWxUaXAsIHk6IGhvcml6b250YWxUYWlsVG9wIH0sXG5cbiAgICB7IHg6IHdlc3RIZWFkQmFzZSwgeTogaG9yaXpvbnRhbEhlYWRUb3AgfSxcbiAgICB7IHg6IHdlc3RIZWFkVGlwLCB5OiBjZW50ZXIueSB9LFxuICAgIHsgeDogd2VzdEhlYWRCYXNlLCB5OiBob3Jpem9udGFsSGVhZEJvdHRvbSB9LFxuXG4gICAgeyB4OiB3ZXN0VGFpbFRpcCwgeTogaG9yaXpvbnRhbFRhaWxCb3R0b20gfSxcbiAgICB7IHg6IHdlc3RUYWlsQmFzZSwgeTogaG9yaXpvbnRhbFRhaWxCb3R0b20gfSxcbiAgICB7IHg6IHZlcnRpY2FsVGFpbExlZnQsIHk6IHNvdXRoVGFpbFRpcCB9LFxuXG4gICAgeyB4OiB2ZXJ0aWNhbEhlYWRMZWZ0LCB5OiBzb3V0aEhlYWRCYXNlIH0sXG4gICAgeyB4OiBjZW50ZXIueCwgeTogc291dGhIZWFkVGlwIH0sXG4gICAgeyB4OiB2ZXJ0aWNhbEhlYWRSaWdodCwgeTogc291dGhIZWFkQmFzZSB9LFxuXG4gICAgeyB4OiB2ZXJ0aWNhbFRhaWxSaWdodCwgeTogc291dGhUYWlsVGlwIH0sXG4gICAgeyB4OiB2ZXJ0aWNhbFRhaWxSaWdodCwgeTogc291dGhUYWlsQmFzZSB9LFxuICAgIHsgeDogZWFzdFRhaWxUaXAsIHk6IGhvcml6b250YWxUYWlsQm90dG9tIH0sXG5cbiAgICB7IHg6IGVhc3RIZWFkQmFzZSwgeTogaG9yaXpvbnRhbEhlYWRCb3R0b20gfSxcbiAgICB7IHg6IGVhc3RIZWFkVGlwLCB5OiBjZW50ZXIueSB9LFxuICAgIHsgeDogZWFzdEhlYWRCYXNlLCB5OiBob3Jpem9udGFsSGVhZFRvcCB9LFxuXG4gICAgeyB4OiBlYXN0VGFpbFRpcCwgeTogaG9yaXpvbnRhbFRhaWxUb3AgfSxcbiAgICB7IHg6IGVhc3RUYWlsQmFzZSwgeTogaG9yaXpvbnRhbFRhaWxUb3AgfSxcbiAgICB7IHg6IHZlcnRpY2FsVGFpbFJpZ2h0LCB5OiBub3J0aFRhaWxUaXAgfSxcblxuICAgIHsgeDogdmVydGljYWxIZWFkUmlnaHQsIHk6IG5vcnRoSGVhZEJhc2UgfSxcbiAgICB7IHg6IGNlbnRlci54LCB5OiBub3J0aEhlYWRUaXAgfSxcbiAgICB7IHg6IHZlcnRpY2FsSGVhZExlZnQsIHk6IG5vcnRoSGVhZEJhc2UgfSxcbiAgXTtcblxuICBjdHguZmlsbFN0eWxlID0gZmlsbFN0eWxlO1xuICBjdHguc3Ryb2tlU3R5bGUgPSBzdHJva2VTdHlsZTtcbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjb25zdCBzdGFydFBvaW50ID0gcG9pbnRzWzBdO1xuICBjdHgubW92ZVRvKHN0YXJ0UG9pbnQueCwgc3RhcnRQb2ludC55KTtcbiAgcG9pbnRzLmZvckVhY2goKHsgeCwgeSB9KSA9PiBjdHgubGluZVRvKHgsIHkpKTtcbiAgY3R4LmxpbmVUbyhzdGFydFBvaW50LngsIHN0YXJ0UG9pbnQueSk7XG4gIGN0eC5jbG9zZVBhdGgoKTtcbiAgY3R4LmZpbGwoKTtcbiAgaWYgKHN0cm9rZVN0eWxlKSBjdHguc3Ryb2tlKCk7XG59O1xuIiwiaW1wb3J0IFRpbGUgZnJvbSBcIi4uL1RpbGVcIjtcbmltcG9ydCB7IE5lZWQsIENvb3JkUG9zaXRpb24gfSBmcm9tIFwiLi4vdHlwZXMvY29tbW9uXCI7XG5pbXBvcnQgeyBkcmF3RG91YmxlQXJyb3csIGRyYXdBcnJvdywgZHJhd0Nyb3NzQXJyb3cgfSBmcm9tIFwiLi4vY29uY2VybnMvZHJhd2luZ1wiO1xuXG5jb25zdCBNQVhfQ09MT1JfSU5UID0gcGFyc2VJbnQoXCJGRkZGRkZcIiwgMTYpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXNUaWxlIGV4dGVuZHMgVGlsZSB7XG4gIHB1YmxpYyB3aWR0aCA9IDUwO1xuICBwdWJsaWMgaGVpZ2h0ID0gNTA7XG4gIHB1YmxpYyBjb2xvciA9ICd3aGl0ZSc7XG4gIHB1YmxpYyBzZWxlY3RlZCA9IGZhbHNlO1xuICBwdWJsaWMgdGFyZ2V0ZWQgPSBmYWxzZTtcbiAgcHVibGljIG1hdGNoZWRBdCA9IG51bGwgYXMgRGF0ZXxudWxsO1xuICBwdWJsaWMgYmxhbmsgPSBmYWxzZTtcbiAgcHVibGljIG1hdGNoQW5pbWF0aW9uTXMgPSAyNTA7XG4gIHB1YmxpYyBhcHBseU5vcm1hbFN0eWxlOiAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHRpbGU6IENhbnZhc1RpbGUsIHBvczogQ29vcmRQb3NpdGlvbikgPT4gdm9pZDtcbiAgcHVibGljIGFwcGx5U2VsZWN0ZWRTdHlsZTogKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB0aWxlOiBDYW52YXNUaWxlLCBwb3M6IENvb3JkUG9zaXRpb24pID0+IHZvaWQ7XG4gIHB1YmxpYyBhcHBseVRhcmdldGVkU3R5bGU6IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgdGlsZTogQ2FudmFzVGlsZSwgcG9zOiBDb29yZFBvc2l0aW9uKSA9PiB2b2lkO1xuICBwdWJsaWMgYXBwbHlNYXRjaGVkU3R5bGU6IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgdGlsZTogQ2FudmFzVGlsZSwgcG9zOiBDb29yZFBvc2l0aW9uKSA9PiB2b2lkO1xuICBwcml2YXRlIF9pbWdVcmwgPSAnJztcbiAgcHJpdmF0ZSBfaW1hZ2U/OiBIVE1MSW1hZ2VFbGVtZW50O1xuICBwcml2YXRlIGJsYW5rVGltZW91dD86IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiBOZWVkPENhbnZhc1RpbGUsICd0eXBlJz4pIHtcbiAgICBzdXBlcihvcHRzKTtcblxuICAgIHRoaXMud2lkdGggPSBvcHRzLndpZHRoIHx8IHRoaXMud2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBvcHRzLmhlaWdodCB8fCB0aGlzLmhlaWdodDtcbiAgICB0aGlzLmNvbG9yID0gb3B0cy5jb2xvciB8fCB0aGlzLmNvbG9yO1xuICAgIHRoaXMuYmxhbmsgPSBvcHRzLmJsYW5rIHx8IHRoaXMuYmxhbms7XG4gICAgdGhpcy5tYXRjaEFuaW1hdGlvbk1zID0gb3B0cy5tYXRjaEFuaW1hdGlvbk1zIHx8IHRoaXMubWF0Y2hBbmltYXRpb25NcztcbiAgICB0aGlzLl9pbWdVcmwgPSBvcHRzLmltZ1VybCB8fCB0aGlzLl9pbWdVcmw7XG4gICAgdGhpcy5hcHBseU5vcm1hbFN0eWxlID0gb3B0cy5hcHBseU5vcm1hbFN0eWxlIHx8IHRoaXMuZGVmYXVsdEFwcGx5Tm9ybWFsU3R5bGU7XG4gICAgdGhpcy5hcHBseVNlbGVjdGVkU3R5bGUgPSBvcHRzLmFwcGx5U2VsZWN0ZWRTdHlsZSB8fCB0aGlzLmRlZmF1bHRBcHBseVNlbGVjdGVkU3R5bGU7XG4gICAgdGhpcy5hcHBseVRhcmdldGVkU3R5bGUgPSBvcHRzLmFwcGx5VGFyZ2V0ZWRTdHlsZSB8fCB0aGlzLmRlZmF1bHRBcHBseVRhcmdldGVkU3R5bGU7XG4gICAgdGhpcy5hcHBseU1hdGNoZWRTdHlsZSA9IG9wdHMuYXBwbHlNYXRjaGVkU3R5bGUgfHwgdGhpcy5kZWZhdWx0QXBwbHlNYXRjaGVkU3R5bGU7XG4gIH1cblxuICBnZXQgbWF0Y2hlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISF0aGlzLm1hdGNoZWRBdDtcbiAgfVxuXG4gIHNldCBtYXRjaGVkKG1hdGNoZWQ6IGJvb2xlYW4pIHtcbiAgICBpZiAobWF0Y2hlZCAmJiB0aGlzLm1hdGNoZWRBdCkgcmV0dXJuO1xuXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuYmxhbmtUaW1lb3V0KTtcbiAgICBpZiAobWF0Y2hlZCkge1xuICAgICAgdGhpcy5tYXRjaGVkQXQgPSBuZXcgRGF0ZSgpO1xuICAgICAgdGhpcy5ibGFua1RpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB0aGlzLmJsYW5rID0gdHJ1ZSwgdGhpcy5tYXRjaEFuaW1hdGlvbk1zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tYXRjaGVkQXQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldCBpbWdVcmwoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5faW1nVXJsO1xuICB9XG5cbiAgc2V0IGltZ1VybChpbWdVcmw6IHN0cmluZykge1xuICAgIHRoaXMuX2ltZ1VybCA9IGltZ1VybDtcbiAgICBkZWxldGUgdGhpcy5faW1hZ2U7XG4gIH1cblxuICBnZXQgaW1hZ2UoKTogbnVsbHxIVE1MSW1hZ2VFbGVtZW50IHtcbiAgICBpZiAodGhpcy5faW1hZ2UpIHJldHVybiB0aGlzLmltYWdlO1xuICAgIGlmICghdGhpcy5pbWdVcmwpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBpbWFnZS5zcmMgPSB0aGlzLmltZ1VybDtcbiAgICBpbWFnZS53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgaW1hZ2UuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgdGhpcy5faW1hZ2UgPSBpbWFnZTtcblxuICAgIHJldHVybiB0aGlzLl9pbWFnZTtcbiAgfVxuXG4gIGRyYXcoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHg6IG51bWJlciwgeTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuYmxhbmspIHJldHVybjtcblxuICAgIHRoaXMuYXBwbHlOb3JtYWxTdHlsZShjdHgsIHRoaXMsIHsgeCwgeSB9KTtcbiAgICBpZiAodGhpcy5tYXRjaGVkKSB7XG4gICAgICB0aGlzLmFwcGx5TWF0Y2hlZFN0eWxlKGN0eCwgdGhpcywgeyB4LCB5IH0pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RlZCkge1xuICAgICAgdGhpcy5hcHBseVNlbGVjdGVkU3R5bGUoY3R4LCB0aGlzLCB7IHgsIHkgfSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnRhcmdldGVkKSB7XG4gICAgICB0aGlzLmFwcGx5VGFyZ2V0ZWRTdHlsZShjdHgsIHRoaXMsIHsgeCwgeSB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGRlZmF1bHRBcHBseU5vcm1hbFN0eWxlKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB0aWxlOiBDYW52YXNUaWxlLCB7IHgsIHkgfTogQ29vcmRQb3NpdGlvbik6IHZvaWQge1xuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgaW1hZ2UsIGNvbG9yLCB2YXJpYW50IH0gPSB0aWxlO1xuXG4gICAgaWYgKGltYWdlKSB7XG4gICAgICBjdHguZHJhd0ltYWdlKGltYWdlLCB4LCB5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgICAgY3R4LmZpbGxSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cblxuICAgIGNvbnN0IGNlbnRlciA9IHsgeDogeCArIChoZWlnaHQgLyAyKSwgeTogeSArICh3aWR0aCAvIDIpIH07XG4gICAgY29uc3QgYXJyb3dXaWR0aCA9IHdpZHRoIC8gODtcbiAgICBjb25zdCBhcnJvd0xlbmd0aCA9IDAuNiAqIGhlaWdodDtcbiAgICBzd2l0Y2ggKHZhcmlhbnQpIHtcbiAgICAgIGNhc2UgJ2hvcml6b250YWxDbGVhcic6IGRyYXdEb3VibGVBcnJvdyhjdHgsICdob3Jpem9udGFsJywgJ3doaXRlJywgJ3doaXRlJywgY2VudGVyLCBhcnJvd1dpZHRoLCBhcnJvd0xlbmd0aCk7IGJyZWFrO1xuICAgICAgY2FzZSAndmVydGljYWxDbGVhcic6IGRyYXdEb3VibGVBcnJvdyhjdHgsICd2ZXJ0aWNhbCcsICd3aGl0ZScsICd3aGl0ZScsIGNlbnRlciwgYXJyb3dXaWR0aCwgYXJyb3dMZW5ndGgpOyBicmVhaztcbiAgICAgIGNhc2UgJ2Nyb3NzQ2xlYXInOiBkcmF3Q3Jvc3NBcnJvdyhjdHgsICd3aGl0ZScsICd3aGl0ZScsIGNlbnRlciwgYXJyb3dXaWR0aCwgYXJyb3dMZW5ndGgpOyBicmVhaztcbiAgICAgIGNhc2UgJ3R5cGVDbGVhcic6IHtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGAjJHsobmV3IERhdGUoKS5nZXRUaW1lKCkgJSBNQVhfQ09MT1JfSU5UKS50b1N0cmluZygxNil9YDtcbiAgICAgICAgY3R4LmZpbGxSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2JvbWJDbGVhcic6IHtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdibGFjayc7XG4gICAgICAgIGNvbnN0IGJveFdpZHRoID0gd2lkdGggLyAyO1xuICAgICAgICBjb25zdCBib3hIZWlnaHQgPSBoZWlnaHQgLyAyO1xuICAgICAgICBjdHguZmlsbFJlY3QoeCArIChib3hXaWR0aCAvIDIpLCB5ICsgKGJveEhlaWdodCAvIDIpLCBib3hXaWR0aCwgYm94SGVpZ2h0KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBkZWZhdWx0QXBwbHlTZWxlY3RlZFN0eWxlKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB0aWxlOiBDYW52YXNUaWxlLCB7IHgsIHkgfTogQ29vcmRQb3NpdGlvbik6IHZvaWQge1xuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGlsZTtcbiAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC41KSc7XG4gICAgY3R4LmZpbGxSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICB9XG5cbiAgcHJpdmF0ZSBkZWZhdWx0QXBwbHlUYXJnZXRlZFN0eWxlKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB0aWxlOiBDYW52YXNUaWxlLCB7IHgsIHkgfTogQ29vcmRQb3NpdGlvbik6IHZvaWQge1xuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGlsZTtcbiAgICBjb25zdCBtaWxsaXMgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICBjb25zdCBwdWxzZU1zID0gdGhpcy5tYXRjaEFuaW1hdGlvbk1zO1xuICAgIGNvbnN0IG1pblN0cm9rZSA9IDI7XG4gICAgY29uc3QgbWF4U3Ryb2tlID0gNTtcbiAgICBjb25zdCBzdHJva2VXaWR0aCA9IG1pblN0cm9rZSArIChNYXRoLnNpbigobWlsbGlzIC8gcHVsc2VNcykgJSBNYXRoLlBJKSAqIChtYXhTdHJva2UgLSBtaW5TdHJva2UpKTtcbiAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC45KSc7XG4gICAgY3R4LmZpbGxSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgIGN0eC5maWxsU3R5bGUgPSB0aWxlLmNvbG9yO1xuICAgIGN0eC5maWxsUmVjdCh4ICsgc3Ryb2tlV2lkdGgsIHkgKyBzdHJva2VXaWR0aCwgd2lkdGggLSAoc3Ryb2tlV2lkdGggKiAyKSwgaGVpZ2h0IC0gKHN0cm9rZVdpZHRoICogMikpO1xuICB9XG5cbiAgcHJpdmF0ZSBkZWZhdWx0QXBwbHlNYXRjaGVkU3R5bGUoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHRpbGU6IENhbnZhc1RpbGUsIHsgeCwgeSB9OiBDb29yZFBvc2l0aW9uKTogdm9pZCB7XG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCBjb2xvciwgbWF0Y2hBbmltYXRpb25NcyB9ID0gdGlsZTtcbiAgICBpZiAoIXRpbGUubWF0Y2hlZEF0KSByZXR1cm47XG5cbiAgICBjb25zdCBtc1NpbmNlTWF0Y2ggPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHRpbGUubWF0Y2hlZEF0LmdldFRpbWUoKTtcbiAgICBjb25zdCBwZXJjZW50RG9uZSA9IG1zU2luY2VNYXRjaCA+IG1hdGNoQW5pbWF0aW9uTXMgPyAxIDogbXNTaW5jZU1hdGNoIC8gbWF0Y2hBbmltYXRpb25NcztcbiAgICBjb25zdCBob3Jpem9udGFsID0gcGVyY2VudERvbmUgKiAod2lkdGggLyAyKTtcbiAgICBjb25zdCB2ZXJ0aWNhbCA9IHBlcmNlbnREb25lICogKGhlaWdodCAvIDIpO1xuICAgIGN0eC5maWxsU3R5bGUgPSAnI0ZGRic7XG4gICAgY3R4LmZpbGxSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICBjdHguZmlsbFJlY3QoeCArIGhvcml6b250YWwsIHkgKyB2ZXJ0aWNhbCwgd2lkdGggLSAoaG9yaXpvbnRhbCAqIDIpLCBoZWlnaHQgLSAodmVydGljYWwgKiAyKSk7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBNb3VzZSB7XG4gIHB1YmxpYyB4ID0gMDtcbiAgcHVibGljIHkgPSAwO1xuICBwdWJsaWMgcHJlc3NlZCA9IGZhbHNlO1xuICBwdWJsaWMgcHJlc3NlZFN0YXJ0UG9zOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH07XG4gIHB1YmxpYyBwcmVzc0NhbGxiYWNrczogKChtb3VzZTogTW91c2UpID0+IHZvaWQpW10gPSBbXTtcbiAgcHVibGljIGRlcHJlc3NDYWxsYmFja3M6ICgobW91c2U6IE1vdXNlKSA9PiB2b2lkKVtdID0gW107XG4gIHB1YmxpYyBtb3ZlQ2FsbGJhY2tzOiAoKG1vdXNlOiBNb3VzZSkgPT4gdm9pZClbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucHJlc3NlZFN0YXJ0UG9zID0geyB4OiB0aGlzLngsIHk6IHRoaXMueSB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5wb3B1bGF0ZUZyb21Nb3VzZUV2ZW50KGV2ZW50KTtcbiAgICAgIHRoaXMucHJlc3NDYWxsYmFja3MuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayh0aGlzKSk7XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5wb3B1bGF0ZUZyb21Nb3VzZUV2ZW50KGV2ZW50KTtcbiAgICAgIHRoaXMubW92ZUNhbGxiYWNrcy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKHRoaXMpKTtcbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5kZXByZXNzQ2FsbGJhY2tzLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2sodGhpcykpOyAvLyB3ZSB3YW50IHRoaXMgb25lIHRvIGhhcHBlbiBiZWZvcmUgdGhlIHJlc2V0XG4gICAgICB0aGlzLnBvcHVsYXRlRnJvbU1vdXNlRXZlbnQoZXZlbnQpO1xuICAgIH0pO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMucG9wdWxhdGVGcm9tVG91Y2hFdmVudChldmVudCk7XG4gICAgICB0aGlzLnByZXNzQ2FsbGJhY2tzLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2sodGhpcykpO1xuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMucG9wdWxhdGVGcm9tVG91Y2hFdmVudChldmVudCk7XG4gICAgICB0aGlzLm1vdmVDYWxsYmFja3MuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayh0aGlzKSk7XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLmRlcHJlc3NDYWxsYmFja3MuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayh0aGlzKSk7IC8vIHdlIHdhbnQgdGhpcyBvbmUgdG8gaGFwcGVuIGJlZm9yZSB0aGUgcmVzZXRcbiAgICAgIHRoaXMucG9wdWxhdGVGcm9tVG91Y2hFdmVudChldmVudCk7XG4gICAgfSk7XG4gIH1cblxuICBnZXQgZHJhZ1ZlY3RvcigpOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0ge1xuICAgIGNvbnN0IHsgeCwgeSB9ID0gdGhpcy5wcmVzc2VkU3RhcnRQb3M7XG4gICAgcmV0dXJuIHRoaXMucHJlc3NlZCA/IHsgeDogdGhpcy54IC0geCwgeTogdGhpcy55IC0geSB9IDogeyB4OiAwLCB5OiAwIH07XG4gIH1cblxuICBnZXQgZHJhZ0RpcmVjdGlvbigpOiAnbm9uZSd8J3VwJ3wnZG93bid8J2xlZnQnfCdyaWdodCcge1xuICAgIGNvbnN0IHsgeCwgeSB9ID0gdGhpcy5kcmFnVmVjdG9yO1xuICAgIGlmICh4ID09PSAwICYmIHkgPT09IDApIHJldHVybiAnbm9uZSc7XG5cbiAgICBpZiAoTWF0aC5hYnMoeCkgPj0gTWF0aC5hYnMoeSkpIHtcbiAgICAgIHJldHVybiB4IDwgMCA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB5IDwgMCA/ICd1cCcgOiAnZG93bic7XG4gICAgfVxuICB9XG5cbiAgb25QcmVzcyhjYWxsYmFjazogKG1vdXNlOiBNb3VzZSkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMucHJlc3NDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gIH1cblxuICBvbkRlcHJlc3MoY2FsbGJhY2s6IChtb3VzZTogTW91c2UpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLmRlcHJlc3NDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gIH1cblxuICBvbk1vdmUoY2FsbGJhY2s6IChtb3VzZTogTW91c2UpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLm1vdmVDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gIH1cblxuICBwb3B1bGF0ZUZyb21Nb3VzZUV2ZW50KGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgdGhpcy54ID0gZXZlbnQueDtcbiAgICB0aGlzLnkgPSBldmVudC55O1xuICAgIGNvbnN0IGFscmVhZHlQcmVzc2VkID0gdGhpcy5wcmVzc2VkO1xuICAgIHRoaXMucHJlc3NlZCA9IGV2ZW50LmJ1dHRvbnMgPT09IDE7XG4gICAgaWYgKHRoaXMucHJlc3NlZCAmJiAhYWxyZWFkeVByZXNzZWQpIHtcbiAgICAgIHRoaXMucHJlc3NlZFN0YXJ0UG9zID0geyB4OiB0aGlzLngsIHk6IHRoaXMueSB9O1xuICAgIH1cbiAgfVxuXG4gIHBvcHVsYXRlRnJvbVRvdWNoRXZlbnQoZXZlbnQ6IFRvdWNoRXZlbnQpOiB2b2lkIHtcbiAgICBjb25zdCB7IHRvdWNoZXMgfSA9IGV2ZW50O1xuICAgIGNvbnN0IGFscmVhZHlQcmVzc2VkID0gdGhpcy5wcmVzc2VkO1xuICAgIGlmICh0b3VjaGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRvdWNoID0gdG91Y2hlc1swXTtcbiAgICAgIHRoaXMueCA9IHRvdWNoLmNsaWVudFg7XG4gICAgICB0aGlzLnkgPSB0b3VjaC5jbGllbnRZO1xuICAgICAgdGhpcy5wcmVzc2VkID0gdHJ1ZTtcbiAgICAgIGlmICghYWxyZWFkeVByZXNzZWQpIHRoaXMucHJlc3NlZFN0YXJ0UG9zID0geyB4OiB0aGlzLngsIHk6IHRoaXMueSB9O1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBtb3VzZSA9IG5ldyBNb3VzZSgpO1xuXG5leHBvcnQgZGVmYXVsdCBtb3VzZTtcbiIsImltcG9ydCB7IHJhbmdlLCByb3RhdGUsIGZpbmRNYXAsIHJvdGF0ZUdyaWRQb3NpdGlvbiB9IGZyb20gXCIuL2NvbmNlcm5zL3V0aWxpdGllc1wiO1xuaW1wb3J0IHsgR3JpZFBvc2l0aW9uIH0gZnJvbSBcIi4vdHlwZXMvY29tbW9uXCI7XG5cbmV4cG9ydCB0eXBlIFNoYXBlTWFwID0gYm9vbGVhbltdW107XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNoYXBlIHtcbiAgcHVibGljIHZhbHVlOiBudW1iZXI7XG4gIHByaXZhdGUgX21hcCE6IFNoYXBlTWFwO1xuICBwcml2YXRlIF9leHRlbmQhOiBib29sZWFuO1xuICBwcml2YXRlIF9saW5lYXIhOiBib29sZWFuO1xuICBwcml2YXRlIF9jZW50ZXJQb3NpdGlvbj86IEdyaWRQb3NpdGlvbjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiBQYXJ0aWFsPFNoYXBlPiA9IHt9KSB7XG4gICAgdGhpcy52YWx1ZSA9IG9wdHMudmFsdWUgfHwgMTtcbiAgICB0aGlzLmV4dGVuZCA9IG9wdHMuZXh0ZW5kIHx8IGZhbHNlO1xuICAgIHRoaXMubWFwID0gb3B0cy5tYXAgfHwgW1tdXTtcbiAgfVxuXG4gIHN0YXRpYyBmcm9tTGVuZ3RoKGxlbmd0aDogbnVtYmVyLCB7IHZhbHVlID0gMSwgb3JNb3JlIH06IHsgdmFsdWU/OiBudW1iZXI7IG9yTW9yZT86IGJvb2xlYW4gfSA9IHt9KTogU2hhcGUge1xuICAgIHJldHVybiBuZXcgU2hhcGUoe1xuICAgICAgdmFsdWUsXG4gICAgICBleHRlbmQ6ICEhb3JNb3JlLFxuICAgICAgbWFwOiBbcmFuZ2UobGVuZ3RoLCAoKSA9PiB0cnVlKV0sXG4gICAgfSk7XG4gIH1cblxuICBzdGF0aWMgcm90YXRlZChzaGFwZTogU2hhcGUsIHJvdGF0aW9ucyA9IDEpOiBTaGFwZSB7XG4gICAgcmV0dXJuIG5ldyBTaGFwZSh7IC4uLnNoYXBlLCBtYXA6IHJvdGF0ZShzaGFwZS5tYXAsIHJvdGF0aW9ucykgfSk7XG4gIH1cblxuICBnZXQgZXh0ZW5kKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5fZXh0ZW5kICYmIHRoaXMubGluZWFyIH1cbiAgc2V0IGV4dGVuZChleHRlbmQ6IGJvb2xlYW4pIHsgdGhpcy5fZXh0ZW5kID0gZXh0ZW5kIH1cblxuICBnZXQgbWFwKCk6IFNoYXBlTWFwIHsgcmV0dXJuIHRoaXMuX21hcCB9XG4gIHNldCBtYXAobWFwOiBTaGFwZU1hcCkge1xuICAgIGRlbGV0ZSB0aGlzLl9saW5lYXI7XG4gICAgY29uc3Qgcm93TGVuZ3RoID0gbWFwLnJlZHVjZSgobWF4LCB7IGxlbmd0aCB9KSA9PiAobGVuZ3RoID4gbWF4ID8gbGVuZ3RoIDogbWF4KSwgMCk7XG4gICAgdGhpcy5fbWFwID0gbWFwLm1hcChyb3cgPT4gcmFuZ2Uocm93TGVuZ3RoLCBpID0+IChyb3dbaV0gfHwgZmFsc2UpKSk7XG4gIH1cblxuICBnZXQgbGluZWFyKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0eXBlb2YgdGhpcy5fbGluZWFyICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIHRoaXMuX2xpbmVhcjtcblxuICAgIHRoaXMuX2xpbmVhciA9ICh0aGlzLm1hcC5sZW5ndGggPT09IDEgJiYgdGhpcy5tYXBbMF0uZXZlcnkoc3BhY2UgPT4gc3BhY2UpKVxuICAgICAgfHwgdGhpcy5tYXAuZXZlcnkocm93ID0+IChyb3cubGVuZ3RoID09PSAxICYmIHJvd1swXSkpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2xpbmVhcjtcbiAgfVxuXG4gIG1hdGNoPE8+KGdyaWQ6IE9bXVtdLCBmaWVsZDoga2V5b2YgTywgcm90YXRpb24gPSAwKTogeyByb3RhdGlvbjogbnVtYmVyOyBtYXRjaGVkOiBPW107IGNlbnRlcjogT3xudWxsIH0ge1xuICAgIGNvbnN0IG1hdGNoZWQgPSBbXSBhcyBPW107XG4gICAgaWYgKHJvdGF0aW9uID4gMykgcmV0dXJuIHsgcm90YXRpb24sIG1hdGNoZWQsIGNlbnRlcjogbnVsbCB9O1xuXG4gICAgbGV0IG1hdGNoVmFsdWVTZXQgPSBmYWxzZTtcbiAgICBsZXQgbWF0Y2hWYWx1ZTogT1trZXlvZiBPXTtcbiAgICBjb25zdCByb3RhdGVkTWFwID0gcm90YXRlKHRoaXMubWFwLCByb3RhdGlvbik7XG5cbiAgICBjb25zdCBhbGxNYXRjaGVkID0gcm90YXRlZE1hcC5ldmVyeSgobWF0Y2hlclJvdywgcm93SW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGdyaWRSb3cgPSBncmlkW3Jvd0luZGV4XTtcbiAgICAgIGlmICghZ3JpZFJvdykgcmV0dXJuIGZhbHNlO1xuXG4gICAgICByZXR1cm4gbWF0Y2hlclJvdy5ldmVyeSgobXVzdE1hdGNoLCBjb2xJbmRleCkgPT4ge1xuICAgICAgICBpZiAoIW11c3RNYXRjaCkgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgY29uc3QgZ3JpZEl0ZW0gPSBncmlkUm93W2NvbEluZGV4XTtcbiAgICAgICAgaWYgKCFncmlkSXRlbSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IGdyaWRWYWx1ZSA9IGdyaWRJdGVtW2ZpZWxkXTtcbiAgICAgICAgaWYgKCFtYXRjaFZhbHVlU2V0KSB7XG4gICAgICAgICAgbWF0Y2hWYWx1ZSA9IGdyaWRWYWx1ZTtcbiAgICAgICAgICBtYXRjaFZhbHVlU2V0ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChncmlkVmFsdWUgIT09IG1hdGNoVmFsdWUpIHJldHVybiBmYWxzZTtcblxuICAgICAgICBtYXRjaGVkLnB1c2goZ3JpZEl0ZW0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaWYgKGFsbE1hdGNoZWQpIHtcbiAgICAgIGNvbnN0IHsgcm93LCBjb2wgfSA9IHRoaXMuY2VudGVyUG9zaXRpb24ocm90YXRpb24pO1xuICAgICAgY29uc3QgY2VudGVyID0gZ3JpZFtyb3ddW2NvbF07XG4gICAgICByZXR1cm4geyByb3RhdGlvbiwgbWF0Y2hlZCwgY2VudGVyIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMubWF0Y2goZ3JpZCwgZmllbGQsIHJvdGF0aW9uICsgMSk7XG4gIH1cblxuICBzY3JlZW48TyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4+KGdyaWQ6IE9bXVtdLCBvZmZzZXQ6IEdyaWRQb3NpdGlvbiA9IHsgcm93OiAwLCBjb2w6IDAgfSk6IE9bXSB7XG4gICAgY29uc3Qgb2Zmc2V0TWFwUm93cyA9IG9mZnNldC5yb3cgPCAwXG4gICAgICA/IHRoaXMubWFwLnNsaWNlKC0xICogb2Zmc2V0LnJvdylcbiAgICAgIDogWy4uLnJhbmdlKG9mZnNldC5yb3csICgpID0+IFtdKSwgLi4udGhpcy5tYXBdO1xuXG4gICAgY29uc3Qgb2Zmc2V0TWFwID0gb2Zmc2V0TWFwUm93cy5tYXAoKHJvdykgPT4ge1xuICAgICAgcmV0dXJuIG9mZnNldC5jb2wgPCAwXG4gICAgICAgID8gcm93LnNsaWNlKC0xICogb2Zmc2V0LmNvbClcbiAgICAgICAgOiBbLi4ucmFuZ2Uob2Zmc2V0LmNvbCwgKCkgPT4gZmFsc2UpLCAuLi5yb3ddO1xuICAgIH0pO1xuXG4gICAgLy8gZGVidWdnZXJcblxuICAgIHJldHVybiBvZmZzZXRNYXAucmVkdWNlKChhbGxNYXRjaGVkVGlsZXMsIG1hdGNoZXJSb3csIHJvd0luZGV4KSA9PiB7XG4gICAgICBjb25zdCBncmlkUm93ID0gZ3JpZFtyb3dJbmRleF07XG5cbiAgICAgIHJldHVybiBbXG4gICAgICAgIC4uLmFsbE1hdGNoZWRUaWxlcyxcbiAgICAgICAgLi4ubWF0Y2hlclJvdy5yZWR1Y2UoKG1hdGNoZWRSb3dUaWxlcywgbXVzdE1hdGNoLCBjb2xJbmRleCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHRpbGUgPSBncmlkUm93ICYmIGdyaWRSb3dbY29sSW5kZXhdO1xuICAgICAgICAgIHJldHVybiB0aWxlICYmIG11c3RNYXRjaCA/IFsuLi5tYXRjaGVkUm93VGlsZXMsIHRpbGVdIDogbWF0Y2hlZFJvd1RpbGVzO1xuICAgICAgICB9LCBbXSBhcyBPW10pLFxuICAgICAgXTtcbiAgICB9LCBbXSBhcyBPW10pO1xuICB9XG5cbiAgZ2V0IGNlbnRlcigpOiB7IG11c3RNYXRjaDogYm9vbGVhbiB9ICYgR3JpZFBvc2l0aW9uIHtcbiAgICBjb25zdCByb3dJbmRleCA9IE1hdGguZmxvb3IodGhpcy5tYXAubGVuZ3RoIC8gMik7XG4gICAgY29uc3QgbWFwUm93ID0gdGhpcy5tYXBbcm93SW5kZXhdO1xuICAgIGNvbnN0IGNvbEluZGV4ID0gTWF0aC5mbG9vcihtYXBSb3cubGVuZ3RoIC8gMik7XG4gICAgY29uc3QgbXVzdE1hdGNoID0gbWFwUm93W2NvbEluZGV4XTtcbiAgICByZXR1cm4geyBtdXN0TWF0Y2gsIHJvdzogcm93SW5kZXgsIGNvbDogY29sSW5kZXggfTtcbiAgfVxuXG4gIGNlbnRlclBvc2l0aW9uKHJvdGF0aW9ucyA9IDApOiBHcmlkUG9zaXRpb24ge1xuICAgIGlmICh0eXBlb2YgdGhpcy5fY2VudGVyUG9zaXRpb24gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCBtdXN0TWF0Y2hDb3VudCA9IHRoaXMubWFwLnJlZHVjZSgodG90YWwsIG1hdGNoZXJSb3cpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvdGFsICsgbWF0Y2hlclJvdy5yZWR1Y2UoKHN1bSwgbXVzdE1hdGNoKSA9PiAobXVzdE1hdGNoID8gc3VtICsgMSA6IHN1bSksIDApO1xuICAgICAgfSwgMCk7XG5cbiAgICAgIGNvbnN0IGNlbnRlckluZGV4ID0gTWF0aC5mbG9vcihtdXN0TWF0Y2hDb3VudCAvIDIpO1xuXG4gICAgICBsZXQgY3Vyc29yID0gMDtcbiAgICAgIHRoaXMuX2NlbnRlclBvc2l0aW9uID0gZmluZE1hcCh0aGlzLm1hcCwgKHJvdywgcm93SW5kZXgpID0+IHtcbiAgICAgICAgcmV0dXJuIGZpbmRNYXAocm93LCAobXVzdE1hdGNoLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGlmICghbXVzdE1hdGNoKSByZXR1cm47XG4gICAgICAgICAgaWYgKGN1cnNvciA9PT0gY2VudGVySW5kZXgpIHJldHVybiB7IHJvdzogcm93SW5kZXgsIGNvbDogaW5kZXggfTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICAgICAgICAgIGN1cnNvciArPSAxO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHJvd0NvdW50ID0gdGhpcy5tYXAubGVuZ3RoO1xuICAgIGNvbnN0IGNvbENvdW50ID0gdGhpcy5tYXBbMF0ubGVuZ3RoO1xuICAgIHJldHVybiByb3RhdGVHcmlkUG9zaXRpb24odGhpcy5fY2VudGVyUG9zaXRpb24hLCByb3dDb3VudCwgY29sQ291bnQsIHJvdGF0aW9ucyk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRTaGFwZXMgPSAoKTogU2hhcGVbXSA9PiBbXG4gIFNoYXBlLmZyb21MZW5ndGgoMywgeyB2YWx1ZTogMSB9KSxcbiAgU2hhcGUuZnJvbUxlbmd0aCg0LCB7IHZhbHVlOiAyIH0pLFxuICBTaGFwZS5mcm9tTGVuZ3RoKDUsIHsgdmFsdWU6IDMgfSksXG4gIFNoYXBlLmZyb21MZW5ndGgoNiwgeyB2YWx1ZTogNCwgb3JNb3JlOiB0cnVlIH0pLFxuICBuZXcgU2hhcGUoe1xuICAgIHZhbHVlOiA1LFxuICAgIG1hcDogW1xuICAgICAgW3RydWUsIHRydWUsIHRydWVdLFxuICAgICAgW3RydWVdLFxuICAgICAgW3RydWVdLFxuICAgIF0sXG4gIH0pLFxuICBuZXcgU2hhcGUoe1xuICAgIHZhbHVlOiA2LFxuICAgIG1hcDogW1xuICAgICAgW3RydWUsIHRydWUsIHRydWVdLFxuICAgICAgW2ZhbHNlLCB0cnVlXSxcbiAgICAgIFtmYWxzZSwgdHJ1ZV0sXG4gICAgXSxcbiAgfSksXG4gIG5ldyBTaGFwZSh7XG4gICAgdmFsdWU6IDcsXG4gICAgbWFwOiBbXG4gICAgICBbdHJ1ZSwgdHJ1ZV0sXG4gICAgICBbdHJ1ZSwgdHJ1ZV0sXG4gICAgXSxcbiAgfSksXG5dO1xuIiwiaW1wb3J0IEJvYXJkIGZyb20gXCIuLi9Cb2FyZFwiO1xuaW1wb3J0IENhbnZhc1RpbGUgZnJvbSBcIi4vQ2FudmFzVGlsZVwiO1xuaW1wb3J0IHsgcmFuZ2UsIGRpc3RhbmNlQmV0d2VlbiwgZmluZE1hcCwgc2FtcGxlLCB0dXBsZSwgdW5pcSB9IGZyb20gXCIuLi9jb25jZXJucy91dGlsaXRpZXNcIjtcbmltcG9ydCBtb3VzZSwgeyBNb3VzZSB9IGZyb20gXCIuL21vdXNlXCI7XG5pbXBvcnQgU2hhcGUsIHsgZGVmYXVsdFNoYXBlcyB9IGZyb20gXCIuLi9TaGFwZVwiO1xuaW1wb3J0IHsgR3JpZFBvc2l0aW9uLCBDb29yZFBvc2l0aW9uIH0gZnJvbSBcIi4uL3R5cGVzL2NvbW1vblwiO1xuXG5leHBvcnQgdHlwZSBTd2FwRGlyZWN0aW9uID0gJ25vbmUnfCd1cCd8J2Rvd24nfCdsZWZ0J3wncmlnaHQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFByZXNlbnRDYW52YXNUaWxlSW5mbyB7XG4gIHJvdzogbnVtYmVyO1xuICBjb2w6IG51bWJlcjtcbiAgdGlsZTogQ2FudmFzVGlsZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCbGFua0NhbnZhc1RpbGVJbmZvIHtcbiAgcm93OiAtMTtcbiAgY29sOiAtMTtcbiAgdGlsZTogbnVsbDtcbn1cblxuZXhwb3J0IHR5cGUgQ2FudmFzVGlsZUluZm8gPSBQcmVzZW50Q2FudmFzVGlsZUluZm8gfCBCbGFua0NhbnZhc1RpbGVJbmZvO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJvYXJkRHJhZ0V2ZW50IHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIGRpc3RhbmNlOiBudW1iZXI7XG4gIGRpcmVjdGlvbjogU3dhcERpcmVjdGlvbjtcbiAgb3JpZ2luOiBQcmVzZW50Q2FudmFzVGlsZUluZm87XG4gIGRlc3RpbmF0aW9uOiBQcmVzZW50Q2FudmFzVGlsZUluZm87XG4gIG1vdXNlOiBNb3VzZTtcbn1cblxuZXhwb3J0IHR5cGUgQm9hcmREcmFnRXZlbnRDYWxsYmFjayA9IChldmVudDogQm9hcmREcmFnRXZlbnQpID0+IHZvaWQ7XG5cbmNvbnN0IGJsYW5rQ2FudmFzVGlsZUluZm8gPSAoKTogQmxhbmtDYW52YXNUaWxlSW5mbyA9PiAoeyByb3c6IC0xLCBjb2w6IC0xLCB0aWxlOiBudWxsIH0pO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXNCb2FyZCBleHRlbmRzIEJvYXJkPENhbnZhc1RpbGU+IHtcbiAgcHVibGljIHg6IG51bWJlcjtcbiAgcHVibGljIHk6IG51bWJlcjtcbiAgcHVibGljIHdpZHRoOiBudW1iZXI7XG4gIHB1YmxpYyBoZWlnaHQ6IG51bWJlcjtcbiAgcHVibGljIHNlbnNpdGl2aXR5OiBudW1iZXI7XG4gIHB1YmxpYyBkcmFnU3RhcnRDYWxsYmFja3M6IEJvYXJkRHJhZ0V2ZW50Q2FsbGJhY2tbXSA9IFtdO1xuICBwdWJsaWMgZHJhZ0VuZENhbGxiYWNrczogQm9hcmREcmFnRXZlbnRDYWxsYmFja1tdID0gW107XG4gIHB1YmxpYyBkcmFnQ2FsbGJhY2tzOiBCb2FyZERyYWdFdmVudENhbGxiYWNrW10gPSBbXTtcbiAgcHVibGljIHNoYXBlczogU2hhcGVbXTtcbiAgcHVibGljIGFwcGx5Tm9ybWFsU3R5bGU/OiBDYW52YXNUaWxlWydhcHBseU5vcm1hbFN0eWxlJ107XG4gIHB1YmxpYyBhcHBseVNlbGVjdGVkU3R5bGU/OiBDYW52YXNUaWxlWydhcHBseVNlbGVjdGVkU3R5bGUnXTtcbiAgcHVibGljIGFwcGx5VGFyZ2V0ZWRTdHlsZT86IENhbnZhc1RpbGVbJ2FwcGx5VGFyZ2V0ZWRTdHlsZSddO1xuICBwdWJsaWMgYXBwbHlNYXRjaGVkU3R5bGU/OiBDYW52YXNUaWxlWydhcHBseU1hdGNoZWRTdHlsZSddO1xuICBwdWJsaWMgbWF0Y2hBbmltYXRpb25NczogbnVtYmVyO1xuICBwcml2YXRlIGRyYWdPcmlnaW46IENhbnZhc1RpbGVJbmZvID0gYmxhbmtDYW52YXNUaWxlSW5mbygpO1xuICBwcml2YXRlIHN3YXBPcmlnaW46IENhbnZhc1RpbGVJbmZvID0gYmxhbmtDYW52YXNUaWxlSW5mbygpO1xuICBwcml2YXRlIHN3YXBUYXJnZXQ6IENhbnZhc1RpbGVJbmZvID0gYmxhbmtDYW52YXNUaWxlSW5mbygpO1xuICBwcml2YXRlIHN0YXJ0ZWRTZXR0bGluZ0F0PzogRGF0ZTtcbiAgcHJpdmF0ZSBuZWVkc1NodWZmbGUgPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiBQYXJ0aWFsPENhbnZhc0JvYXJkPikge1xuICAgIHN1cGVyKHtcbiAgICAgIC4uLm9wdHMsXG4gICAgICB0aWxlRGVmczoge1xuICAgICAgICByZWQ6IHsgZ2VuZXJhdG9yOiAoeyB2YXJpYW50IH0pID0+IHRoaXMuZGVmYXVsdE5ld1RpbGVPZlR5cGUoJ3JlZCcsIHZhcmlhbnQpIH0sXG4gICAgICAgIG9yYW5nZTogeyBnZW5lcmF0b3I6ICh7IHZhcmlhbnQgfSkgPT4gdGhpcy5kZWZhdWx0TmV3VGlsZU9mVHlwZSgnb3JhbmdlJywgdmFyaWFudCkgfSxcbiAgICAgICAgcHVycGxlOiB7IGdlbmVyYXRvcjogKHsgdmFyaWFudCB9KSA9PiB0aGlzLmRlZmF1bHROZXdUaWxlT2ZUeXBlKCdwdXJwbGUnLCB2YXJpYW50KSB9LFxuICAgICAgICBncmVlbjogeyBnZW5lcmF0b3I6ICh7IHZhcmlhbnQgfSkgPT4gdGhpcy5kZWZhdWx0TmV3VGlsZU9mVHlwZSgnZ3JlZW4nLCB2YXJpYW50KSB9LFxuICAgICAgICBibHVlOiB7IGdlbmVyYXRvcjogKHsgdmFyaWFudCB9KSA9PiB0aGlzLmRlZmF1bHROZXdUaWxlT2ZUeXBlKCdibHVlJywgdmFyaWFudCkgfSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLnggPSBvcHRzLnggfHwgMDtcbiAgICB0aGlzLnkgPSBvcHRzLnkgfHwgMDtcbiAgICBjb25zdCByYXdXaWR0aCA9IG9wdHMud2lkdGggfHwgdGhpcy5jb2xDb3VudCAqIDUwO1xuICAgIHRoaXMud2lkdGggPSByYXdXaWR0aCAtIChyYXdXaWR0aCAlIHRoaXMuY29sQ291bnQpO1xuICAgIHRoaXMuaGVpZ2h0ID0gb3B0cy5oZWlnaHQgfHwgdGhpcy53aWR0aDtcbiAgICB0aGlzLnNlbnNpdGl2aXR5ID0gb3B0cy5zZW5zaXRpdml0eSB8fCAyNTtcbiAgICB0aGlzLnNoYXBlcyA9IG9wdHMuc2hhcGVzIHx8IGRlZmF1bHRTaGFwZXMoKTtcbiAgICB0aGlzLmFwcGx5Tm9ybWFsU3R5bGUgPSBvcHRzLmFwcGx5Tm9ybWFsU3R5bGU7XG4gICAgdGhpcy5hcHBseVNlbGVjdGVkU3R5bGUgPSBvcHRzLmFwcGx5U2VsZWN0ZWRTdHlsZTtcbiAgICB0aGlzLmFwcGx5VGFyZ2V0ZWRTdHlsZSA9IG9wdHMuYXBwbHlUYXJnZXRlZFN0eWxlO1xuICAgIHRoaXMuYXBwbHlNYXRjaGVkU3R5bGUgPSBvcHRzLmFwcGx5TWF0Y2hlZFN0eWxlO1xuICAgIHRoaXMubWF0Y2hBbmltYXRpb25NcyA9IG9wdHMubWF0Y2hBbmltYXRpb25NcyB8fCAyNTA7XG5cbiAgICBtb3VzZS5vblByZXNzKHRoaXMucnVuRHJhZ1N0YXJ0Q2FsbGJhY2tzLmJpbmQodGhpcykpO1xuICAgIG1vdXNlLm9uRGVwcmVzcyh0aGlzLnJ1bkRyYWdFbmRDYWxsYmFja3MuYmluZCh0aGlzKSk7XG4gICAgbW91c2Uub25Nb3ZlKHRoaXMucnVuRHJhZ0NhbGxiYWNrcy5iaW5kKHRoaXMpKTtcblxuICAgIHRoaXMuc3RhYmlsaXplSW5pdGlhbFRpbGVzKCk7XG5cbiAgICB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy5jaGVja1NodWZmbGUoKSwgMTAwMCk7XG4gIH1cblxuICBnZXQgdGlsZVdpZHRoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMud2lkdGggLyB0aGlzLmNvbENvdW50O1xuICB9XG5cbiAgZ2V0IHRpbGVIZWlnaHQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5oZWlnaHQgLyB0aGlzLnJvd0NvdW50O1xuICB9XG5cbiAgZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIGNvbnN0IHNldHRsaW5nID0gdGhpcy5jaGVja1NldHRsZSgpO1xuICAgIGNvbnN0IG1zU2luY2VTZXR0bGUgPSB0aGlzLnN0YXJ0ZWRTZXR0bGluZ0F0ID8gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLnN0YXJ0ZWRTZXR0bGluZ0F0LmdldFRpbWUoKSA6IDA7XG4gICAgY29uc3QgZmFsbFRpbWVNcyA9IDEwMDtcbiAgICBjb25zdCBkeSA9IChtc1NpbmNlU2V0dGxlIC8gZmFsbFRpbWVNcykgKiB0aGlzLnRpbGVIZWlnaHQ7XG4gICAgY29uc3QgaXRzU3dhcFRpbWVCcnVoID0gbXNTaW5jZVNldHRsZSA+IGZhbGxUaW1lTXM7XG4gICAgaWYgKGl0c1N3YXBUaW1lQnJ1aCkgZGVsZXRlIHRoaXMuc3RhcnRlZFNldHRsaW5nQXQ7XG5cbiAgICBjb25zdCB0aWxlc1RvU3dhcCA9IFtdIGFzIFtHcmlkUG9zaXRpb24sIEdyaWRQb3NpdGlvbl1bXTtcbiAgICB0aGlzLnJvd3MuZm9yRWFjaCgocm93LCByb3dJbmRleCkgPT4ge1xuICAgICAgcm93LmZvckVhY2goKHRpbGUsIHRpbGVJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB4ID0gdGhpcy54ICsgKHRpbGVJbmRleCAqIHRpbGUud2lkdGgpO1xuICAgICAgICBsZXQgeSA9IHRoaXMueSArIChyb3dJbmRleCAqIHRpbGUuaGVpZ2h0KTtcbiAgICAgICAgaWYgKHNldHRsaW5nICYmICF0aWxlLmJsYW5rKSB7XG4gICAgICAgICAgY29uc3QgcG9zaXRpb24gPSB7IHJvdzogcm93SW5kZXgsIGNvbDogdGlsZUluZGV4IH07XG4gICAgICAgICAgY29uc3QgYmVsb3cgPSB0aGlzLmFkamFjZW50VGlsZShwb3NpdGlvbiwgJ2Rvd24nKTtcbiAgICAgICAgICBpZiAoYmVsb3cudGlsZSAmJiBiZWxvdy50aWxlLmJsYW5rKSB7XG4gICAgICAgICAgICB5ICs9IGR5O1xuICAgICAgICAgICAgaWYgKGl0c1N3YXBUaW1lQnJ1aCkgdGlsZXNUb1N3YXAucHVzaChbcG9zaXRpb24sIGJlbG93XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRpbGUuZHJhdyhjdHgsIHgsIHkpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0aWxlc1RvU3dhcC5mb3JFYWNoKChbb3JpZ2luLCBiZWxvd10pID0+IHRoaXMuc3dhcFRpbGUob3JpZ2luLCBiZWxvdykpO1xuICB9XG5cbiAgdXBkYXRlKCk6IHZvaWQge1xuICAgIHRoaXMuc3Bhd25OZXdUaWxlcygpO1xuICAgIGlmICh0aGlzLnRpbGVzV2lsbERyb3AoKSkgcmV0dXJuO1xuXG4gICAgaWYgKHRoaXMubmVlZHNTaHVmZmxlKSB7XG4gICAgICAvLyB0aGlzLmRyYXdTaHVmZmxlKCk7XG4gICAgICB0aGlzLnNodWZmbGUoKTtcbiAgICB9XG5cbiAgICBjb25zdCBtYXRjaGVkU2hhcGVzID0gdGhpcy5tYXRjaFNoYXBlcygpO1xuICAgIGlmICghbWF0Y2hlZFNoYXBlcy5sZW5ndGgpIHJldHVybjtcblxuICAgIGNvbnN0IG9yaWdpblRpbGUgPSB0aGlzLnN3YXBPcmlnaW4udGlsZTtcbiAgICBjb25zdCB0YXJnZXRUaWxlID0gdGhpcy5zd2FwVGFyZ2V0LnRpbGU7XG5cbiAgICBjb25zdCBzb3J0ZWRNYXRjaGVkU2hhcGVzID0gWy4uLm1hdGNoZWRTaGFwZXNdLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGlmIChhLnNoYXBlLnZhbHVlID4gYi5zaGFwZS52YWx1ZSkgcmV0dXJuIC0xO1xuICAgICAgaWYgKGIuc2hhcGUudmFsdWUgPiBhLnNoYXBlLnZhbHVlKSByZXR1cm4gMTtcbiAgICAgIGlmIChhLnRpbGVzLnNvbWUodGlsZSA9PiAodGlsZSA9PT0gdGFyZ2V0VGlsZSB8fCB0aWxlID09PSBvcmlnaW5UaWxlKSkpIHJldHVybiAtMTtcbiAgICAgIGlmIChiLnRpbGVzLnNvbWUodGlsZSA9PiAodGlsZSA9PT0gdGFyZ2V0VGlsZSB8fCB0aWxlID09PSBvcmlnaW5UaWxlKSkpIHJldHVybiAxO1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSk7XG5cbiAgICBjb25zdCB0cmFuc2NlbmRlbnRUaWxlczogTWFwPENhbnZhc1RpbGUsIHN0cmluZ1tdPiA9IG5ldyBNYXAoKTtcbiAgICBzb3J0ZWRNYXRjaGVkU2hhcGVzLmZvckVhY2goKHsgdGlsZXMsIHNoYXBlLCByb3RhdGlvbiwgY2VudGVyVGlsZSB9KSA9PiB7XG4gICAgICB0aWxlcy5mb3JFYWNoKHRpbGUgPT4gdGhpcy5leHBsb2RlVGlsZSh0aWxlKSk7XG4gICAgICBjb25zdCB2YXJpYW50ID0gdGhpcy52YXJpYW50Rm9yU2hhcGUoc2hhcGUsIHJvdGF0aW9uKTtcbiAgICAgIGlmICh2YXJpYW50KSB7XG4gICAgICAgIGNvbnN0IG1vdmVkVGlsZSA9IHRpbGVzLmZpbmQodGlsZSA9PiAodGlsZSA9PT0gdGFyZ2V0VGlsZSB8fCB0aWxlID09PSBvcmlnaW5UaWxlKSk7XG4gICAgICAgIGNvbnN0IHRyYW5zY2VuZGVudCA9IG1vdmVkVGlsZSB8fCBjZW50ZXJUaWxlO1xuICAgICAgICBjb25zdCBleGlzdGluZyA9IHRyYW5zY2VuZGVudFRpbGVzLmdldCh0cmFuc2NlbmRlbnQpO1xuICAgICAgICB0cmFuc2NlbmRlbnRUaWxlcy5zZXQodHJhbnNjZW5kZW50LCBbLi4uKGV4aXN0aW5nIHx8IFtdKSwgdmFyaWFudF0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdHJhbnNjZW5kZW50VGlsZXMuZm9yRWFjaCgodmFyaWFudHMsIHRpbGUpID0+IHtcbiAgICAgIHRpbGUudmFyaWFudCA9IHZhcmlhbnRzWzBdO1xuICAgICAgdGlsZS5tYXRjaGVkID0gZmFsc2U7XG4gICAgfSk7XG5cbiAgICBpZiAobWF0Y2hlZFNoYXBlcy5sZW5ndGggJiYgdGhpcy5vblRpbGVNYXRjaGVkKSB7XG4gICAgICBuZXcgU2V0KFtcbiAgICAgICAgLi4uQXJyYXkuZnJvbSh0cmFuc2NlbmRlbnRUaWxlcy5rZXlzKCkpLFxuICAgICAgICAuLi50aGlzLnRpbGVzLmZpbHRlcigoeyBtYXRjaGVkIH0pID0+IG1hdGNoZWQpLFxuICAgICAgXSkuZm9yRWFjaCh0aWxlID0+IHRoaXMub25UaWxlTWF0Y2hlZCEodGlsZSkpO1xuICAgIH1cbiAgfVxuXG4gIHNwYXduTmV3VGlsZXMoKTogdm9pZCB7XG4gICAgdGhpcy5yb3dzWzBdID0gdGhpcy5yb3dzWzBdLm1hcCh0aWxlID0+ICh0aWxlLmJsYW5rID8gdGhpcy5uZXdNdW5kYW5lVGlsZSgpIDogdGlsZSkpO1xuICB9XG5cbiAgdGlsZXNXaWxsRHJvcCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5yb3dzLnNsaWNlKDEpLnNvbWUocm93ID0+IHJvdy5zb21lKHRpbGUgPT4gKHRpbGUubWF0Y2hlZCB8fCB0aWxlLmJsYW5rKSkpO1xuICB9XG5cbiAgZXhwbG9kZVRpbGUodGlsZTogQ2FudmFzVGlsZSk6IHZvaWQge1xuICAgIGlmICh0aWxlLmlzTXVuZGFuZSkgdGlsZS5tYXRjaGVkID0gdHJ1ZTtcbiAgICBpZiAodGlsZS5tYXRjaGVkKSByZXR1cm47XG5cbiAgICB0aWxlLm1hdGNoZWQgPSB0cnVlO1xuICAgIHN3aXRjaCAodGlsZS52YXJpYW50KSB7XG4gICAgICBjYXNlICdob3Jpem9udGFsQ2xlYXInOiB0aGlzLmNsZWFyUm93KHRoaXMuZmluZFRpbGUodGlsZSkpOyBicmVhaztcbiAgICAgIGNhc2UgJ3ZlcnRpY2FsQ2xlYXInOiB0aGlzLmNsZWFyQ29sKHRoaXMuZmluZFRpbGUodGlsZSkpOyBicmVhaztcbiAgICAgIGNhc2UgJ2Nyb3NzQ2xlYXInOiB0aGlzLmNsZWFyQ3Jvc3ModGhpcy5maW5kVGlsZSh0aWxlKSk7IGJyZWFrO1xuICAgICAgY2FzZSAndHlwZUNsZWFyJzogdGhpcy5jbGVhclR5cGUodGlsZS50eXBlKTsgYnJlYWs7XG4gICAgICBjYXNlICdib21iQ2xlYXInOiB0aGlzLmNsZWFyQm9tYih0aGlzLmZpbmRUaWxlKHRpbGUpKTsgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgY2xlYXJSb3coeyByb3cgfTogUGljazxHcmlkUG9zaXRpb24sICdyb3cnPik6IHZvaWQge1xuICAgIHRoaXMucm93c1tyb3ddLmZvckVhY2godGlsZSA9PiB0aGlzLmV4cGxvZGVUaWxlKHRpbGUpKTtcbiAgfVxuXG4gIGNsZWFyQ29sKHsgY29sIH06IFBpY2s8R3JpZFBvc2l0aW9uLCAnY29sJz4pOiB2b2lkIHtcbiAgICB0aGlzLnJvd3MuZm9yRWFjaChyb3cgPT4gdGhpcy5leHBsb2RlVGlsZShyb3dbY29sXSkpO1xuICB9XG5cbiAgY2xlYXJDcm9zcyh7IHJvdywgY29sIH06IEdyaWRQb3NpdGlvbik6IHZvaWQge1xuICAgIHRoaXMuY2xlYXJSb3coeyByb3cgfSk7XG4gICAgdGhpcy5jbGVhckNvbCh7IGNvbCB9KTtcbiAgfVxuXG4gIGNsZWFyVHlwZSh0eXBlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnRpbGVzLmZvckVhY2godGlsZSA9PiB7IGlmICh0aWxlLnR5cGUgPT09IHR5cGUpIHRoaXMuZXhwbG9kZVRpbGUodGlsZSk7IH0pO1xuICB9XG5cbiAgY2xlYXJCb21iKHsgcm93LCBjb2wgfTogR3JpZFBvc2l0aW9uKTogdm9pZCB7XG4gICAgY29uc3QgYm9tYlNoYXBlID0gbmV3IFNoYXBlKHtcbiAgICAgIG1hcDogW1xuICAgICAgICBbZmFsc2UsIGZhbHNlLCB0cnVlXSxcbiAgICAgICAgW2ZhbHNlLCB0cnVlLCB0cnVlLCB0cnVlXSxcbiAgICAgICAgW3RydWUsIHRydWUsIHRydWUsIHRydWUsIHRydWVdLFxuICAgICAgICBbZmFsc2UsIHRydWUsIHRydWUsIHRydWVdLFxuICAgICAgICBbZmFsc2UsIGZhbHNlLCB0cnVlXSxcbiAgICAgIF0sXG4gICAgfSk7XG4gICAgY29uc3QgeyBjZW50ZXIgfSA9IGJvbWJTaGFwZTtcbiAgICBjb25zdCBib21iVG9wID0gcm93IC0gY2VudGVyLnJvdztcbiAgICBjb25zdCBib21iTGVmdCA9IGNvbCAtIGNlbnRlci5jb2w7XG4gICAgY29uc3QgYm9tYmVkVGlsZXMgPSBib21iU2hhcGUuc2NyZWVuKHRoaXMucm93cywgeyByb3c6IGJvbWJUb3AsIGNvbDogYm9tYkxlZnQgfSk7XG4gICAgYm9tYmVkVGlsZXMuZm9yRWFjaCh0aWxlID0+IHRoaXMuZXhwbG9kZVRpbGUodGlsZSkpO1xuICB9XG5cbiAgY2hlY2tTZXR0bGUoKTogYm9vbGVhbiB7XG4gICAgY29uc3Qgc2V0dGxpbmcgPSB0aGlzLnRpbGVzLnNvbWUodGlsZSA9PiB0aWxlLmJsYW5rKTtcblxuICAgIGlmIChzZXR0bGluZykge1xuICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWRTZXR0bGluZ0F0KSB0aGlzLnN0YXJ0ZWRTZXR0bGluZ0F0ID0gbmV3IERhdGUoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGRlbGV0ZSB0aGlzLnN0YXJ0ZWRTZXR0bGluZ0F0O1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHRpbGVBdChwb3M6IENvb3JkUG9zaXRpb258R3JpZFBvc2l0aW9uKTogQ2FudmFzVGlsZUluZm8ge1xuICAgIGlmICgncm93JyBpbiBwb3MpIHtcbiAgICAgIGNvbnN0IHsgcm93LCBjb2wgfSA9IHBvcztcbiAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLnJvd3Nbcm93XVtjb2xdO1xuICAgICAgcmV0dXJuIHRpbGUgPyB7IHJvdywgY29sLCB0aWxlIH0gOiBibGFua0NhbnZhc1RpbGVJbmZvKCk7XG4gICAgfVxuXG4gICAgY29uc3QgeCA9IHBvcy54IC0gdGhpcy54O1xuICAgIGNvbnN0IHkgPSBwb3MueSAtIHRoaXMueTtcbiAgICBpZiAoeCA+IHRoaXMud2lkdGggfHwgeSA+IHRoaXMuaGVpZ2h0KSByZXR1cm4gYmxhbmtDYW52YXNUaWxlSW5mbygpO1xuXG4gICAgY29uc3QgZnJhY3Rpb25YID0geCAvIHRoaXMud2lkdGg7XG4gICAgY29uc3QgZnJhY3Rpb25ZID0geSAvIHRoaXMuaGVpZ2h0O1xuICAgIGNvbnN0IHJvdyA9IE1hdGguZmxvb3IoZnJhY3Rpb25ZICogdGhpcy5yb3dDb3VudCk7XG4gICAgY29uc3QgY29sID0gTWF0aC5mbG9vcihmcmFjdGlvblggKiB0aGlzLmNvbENvdW50KTtcbiAgICBjb25zdCB0aWxlID0gdGhpcy5yb3dzW3Jvd11bY29sXTtcbiAgICByZXR1cm4geyByb3csIGNvbCwgdGlsZSB9O1xuICB9XG5cbiAgZmluZFRpbGUodGFyZ2V0OiBDYW52YXNUaWxlKTogQ2FudmFzVGlsZUluZm8ge1xuICAgIHJldHVybiBmaW5kTWFwKHRoaXMucm93cywgKHJvd1RpbGVzLCByb3cpID0+IHtcbiAgICAgIHJldHVybiBmaW5kTWFwKHJvd1RpbGVzLCAodGlsZSwgY29sKSA9PiB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdGlsZSkgcmV0dXJuIHsgcm93LCBjb2wsIHRpbGUgfTtcbiAgICAgIH0pO1xuICAgIH0pIHx8IGJsYW5rQ2FudmFzVGlsZUluZm8oKTtcbiAgfVxuXG4gIHRpbGVDZW50ZXIodGlsZUluZm86IENhbnZhc1RpbGVJbmZvKTogQ29vcmRQb3NpdGlvbiB7XG4gICAgY29uc3QgeyByb3csIGNvbCwgdGlsZSB9ID0gdGlsZUluZm87XG4gICAgaWYgKCF0aWxlKSByZXR1cm4geyB4OiAtMSwgeTogLTEgfTtcblxuICAgIGNvbnN0IHggPSB0aGlzLnggKyAoY29sICogdGlsZS5oZWlnaHQpICsgKHRpbGUuaGVpZ2h0IC8gMik7XG4gICAgY29uc3QgeSA9IHRoaXMueSArIChyb3cgKiB0aWxlLndpZHRoKSArICh0aWxlLndpZHRoIC8gMik7XG4gICAgcmV0dXJuIHsgeCwgeSB9O1xuICB9XG5cbiAgc3dhcFRpbGUoZnJvbTogQ29vcmRQb3NpdGlvbnxHcmlkUG9zaXRpb24sIHRvOiBTd2FwRGlyZWN0aW9ufENvb3JkUG9zaXRpb258R3JpZFBvc2l0aW9uKTogdm9pZCB7XG4gICAgaWYgKHR5cGVvZiB0byA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuc3dhcFRpbGVJbkRpcmVjdGlvbihmcm9tLCB0byk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3dhcFRpbGVXaXRoVGlsZShmcm9tLCB0byk7XG4gICAgfVxuICB9XG5cbiAgb25EcmFnU3RhcnQoY2FsbGJhY2s6IChldmVudDogQm9hcmREcmFnRXZlbnQpID0+IHZvaWQpOiBudW1iZXIge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5kcmFnU3RhcnRDYWxsYmFja3MubGVuZ3RoO1xuICAgIHRoaXMuZHJhZ1N0YXJ0Q2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIHJlbW92ZURyYWdTdGFydExpc3RlbmVyKGlkOiBudW1iZXIpOiB2b2lkIHtcbiAgICBkZWxldGUgdGhpcy5kcmFnU3RhcnRDYWxsYmFja3NbaWRdO1xuICB9XG5cbiAgb25EcmFnRW5kKGNhbGxiYWNrOiAoZXZlbnQ6IEJvYXJkRHJhZ0V2ZW50KSA9PiB2b2lkKTogbnVtYmVyIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuZHJhZ0VuZENhbGxiYWNrcy5sZW5ndGg7XG4gICAgdGhpcy5kcmFnRW5kQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIHJlbW92ZURyYWdFbmRMaXN0ZW5lcihpZDogbnVtYmVyKTogdm9pZCB7XG4gICAgZGVsZXRlIHRoaXMuZHJhZ0VuZENhbGxiYWNrc1tpZF07XG4gIH1cblxuICBvbkRyYWcoY2FsbGJhY2s6IChldmVudDogQm9hcmREcmFnRXZlbnQpID0+IHZvaWQpOiBudW1iZXIge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5kcmFnQ2FsbGJhY2tzLmxlbmd0aDtcbiAgICB0aGlzLmRyYWdDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgcmVtb3ZlRHJhZ0xpc3RlbmVyKGlkOiBudW1iZXIpOiB2b2lkIHtcbiAgICBkZWxldGUgdGhpcy5kcmFnQ2FsbGJhY2tzW2lkXTtcbiAgfVxuXG4gIGFkamFjZW50U3BhY2Uob3JpZ2luOiBDb29yZFBvc2l0aW9ufEdyaWRQb3NpdGlvbiwgZGlyZWN0aW9uOiBTd2FwRGlyZWN0aW9uKTogR3JpZFBvc2l0aW9uIHtcbiAgICBjb25zdCB7IHJvdywgY29sIH0gPSAncm93JyBpbiBvcmlnaW4gPyBvcmlnaW4gOiB0aGlzLnRpbGVBdChvcmlnaW4pO1xuICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7XG4gICAgICBjYXNlICd1cCc6IHJldHVybiB7IHJvdzogcm93IC0gMSwgY29sIH07XG4gICAgICBjYXNlICdkb3duJzogcmV0dXJuIHsgcm93OiByb3cgKyAxLCBjb2wgfTtcbiAgICAgIGNhc2UgJ2xlZnQnOiByZXR1cm4geyByb3csIGNvbDogY29sIC0gMSB9O1xuICAgICAgY2FzZSAncmlnaHQnOiByZXR1cm4geyByb3csIGNvbDogY29sICsgMSB9O1xuICAgICAgZGVmYXVsdDogcmV0dXJuIHsgcm93LCBjb2wgfTtcbiAgICB9XG4gIH1cblxuICBhZGphY2VudFRpbGUob3JpZ2luOiBDYW52YXNUaWxlSW5mb3xDb29yZFBvc2l0aW9ufEdyaWRQb3NpdGlvbiwgZGlyZWN0aW9uOiBTd2FwRGlyZWN0aW9uKTogQ2FudmFzVGlsZUluZm8ge1xuICAgIGNvbnN0IHsgcm93LCBjb2wgfSA9IHRoaXMuYWRqYWNlbnRTcGFjZShvcmlnaW4sIGRpcmVjdGlvbik7XG4gICAgY29uc3QgdGlsZSA9IHRoaXMucm93c1tyb3ddICYmIHRoaXMucm93c1tyb3ddW2NvbF07XG4gICAgcmV0dXJuIHRpbGUgPyB7IHJvdywgY29sLCB0aWxlIH0gOiBibGFua0NhbnZhc1RpbGVJbmZvKCk7XG4gIH1cblxuICByZW1vdmVUaWxlKHRpbGU6IENhbnZhc1RpbGUpOiB2b2lkIHtcbiAgICB0aWxlLmJsYW5rID0gdHJ1ZTtcbiAgfVxuXG4gIG1hdGNoU2hhcGVzKCk6IHsgc2hhcGU6IFNoYXBlOyByb3RhdGlvbjogbnVtYmVyOyB0aWxlczogQ2FudmFzVGlsZVtdOyBjZW50ZXJUaWxlOiBDYW52YXNUaWxlIH1bXSB7XG4gICAgcmV0dXJuIHJhbmdlKHRoaXMuY29sQ291bnQpLnJlZHVjZSgobWVtbywgY29sSW5kZXgpID0+IHtcbiAgICAgIHRoaXMuc2hhcGVzLmZvckVhY2goKHNoYXBlKSA9PiB7XG4gICAgICAgIHRoaXMucm93cy5mb3JFYWNoKChfcm93LCByb3dJbmRleCkgPT4ge1xuICAgICAgICAgIGNvbnN0IG5ld0dyaWQgPSB0aGlzLnJvd3Muc2xpY2Uocm93SW5kZXgpLm1hcChyb3cgPT4gcm93LnNsaWNlKGNvbEluZGV4KSk7XG4gICAgICAgICAgY29uc3QgeyByb3RhdGlvbiwgbWF0Y2hlZCwgY2VudGVyIH0gPSBzaGFwZS5tYXRjaChuZXdHcmlkLCAndHlwZScpO1xuICAgICAgICAgIGlmIChtYXRjaGVkLmxlbmd0aCA+IDApIG1lbW8ucHVzaCh7IHNoYXBlLCByb3RhdGlvbiwgdGlsZXM6IG1hdGNoZWQsIGNlbnRlclRpbGU6IGNlbnRlciEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9LCBbXSBhcyB7IHNoYXBlOiBTaGFwZTsgcm90YXRpb246IG51bWJlcjsgdGlsZXM6IENhbnZhc1RpbGVbXTsgY2VudGVyVGlsZTogQ2FudmFzVGlsZSB9W10pO1xuICB9XG5cbiAgcHJpdmF0ZSBkZWZhdWx0TmV3VGlsZU9mVHlwZSh0eXBlOiBzdHJpbmcsIHZhcmlhbnQ/OiBzdHJpbmcpOiBDYW52YXNUaWxlIHtcbiAgICAvLyBmdXR1cmU6IGNoYW5nZSBjb2xvcnMgZm9yIFwiY29sb3JcIiB0eXBlcyBoZXJlXG4gICAgY29uc3QgY29sb3JzID0ge1xuICAgICAgcmVkOiAncmVkJyxcbiAgICAgIG9yYW5nZTogJ29yYW5nZScsXG4gICAgICBwdXJwbGU6ICdwdXJwbGUnLFxuICAgICAgZ3JlZW46ICdncmVlbicsXG4gICAgICBibHVlOiAnYmx1ZScsXG4gICAgfTtcblxuICAgIHJldHVybiBuZXcgQ2FudmFzVGlsZSh7XG4gICAgICB0eXBlLFxuICAgICAgdmFyaWFudCxcbiAgICAgIGNvbG9yOiBjb2xvcnNbdHlwZSBhcyBrZXlvZiB0eXBlb2YgY29sb3JzXSxcbiAgICAgIHdpZHRoOiB0aGlzLnRpbGVXaWR0aCxcbiAgICAgIGhlaWdodDogdGhpcy50aWxlSGVpZ2h0LFxuICAgICAgYXBwbHlOb3JtYWxTdHlsZTogdGhpcy5hcHBseU5vcm1hbFN0eWxlLFxuICAgICAgYXBwbHlTZWxlY3RlZFN0eWxlOiB0aGlzLmFwcGx5U2VsZWN0ZWRTdHlsZSxcbiAgICAgIGFwcGx5VGFyZ2V0ZWRTdHlsZTogdGhpcy5hcHBseVRhcmdldGVkU3R5bGUsXG4gICAgICBhcHBseU1hdGNoZWRTdHlsZTogdGhpcy5hcHBseU1hdGNoZWRTdHlsZSxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgdmFyaWFudEZvclNoYXBlKHNoYXBlOiBTaGFwZSwgcm90YXRpb246IG51bWJlcik6IHN0cmluZyB7XG4gICAgc3dpdGNoIChzaGFwZS52YWx1ZSkge1xuICAgICAgY2FzZSAyOiByZXR1cm4gcm90YXRpb24gJSAyID09PSAwID8gJ3ZlcnRpY2FsQ2xlYXInIDogJ2hvcml6b250YWxDbGVhcic7XG4gICAgICBjYXNlIDM6IHJldHVybiAndHlwZUNsZWFyJztcbiAgICAgIGNhc2UgNDogcmV0dXJuICd0eXBlQ2xlYXInO1xuICAgICAgY2FzZSA1OiByZXR1cm4gJ2Nyb3NzQ2xlYXInO1xuICAgICAgY2FzZSA2OiByZXR1cm4gJ2Nyb3NzQ2xlYXInO1xuICAgICAgY2FzZSA3OiByZXR1cm4gJ2JvbWJDbGVhcic7XG4gICAgICBkZWZhdWx0OiByZXR1cm4gJyc7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzd2FwVGlsZVdpdGhUaWxlKGZyb206IENvb3JkUG9zaXRpb258R3JpZFBvc2l0aW9uLCB0bzogQ29vcmRQb3NpdGlvbnxHcmlkUG9zaXRpb24pOiB2b2lkIHtcbiAgICBjb25zdCBvcmlnaW4gPSB0aGlzLnRpbGVBdChmcm9tKTtcbiAgICBpZiAoIW9yaWdpbi50aWxlKSByZXR1cm47XG5cbiAgICB0aGlzLnN3YXBPcmlnaW4gPSBvcmlnaW47XG4gICAgY29uc3QgZGVzdGluYXRpb24gPSB0aGlzLnRpbGVBdCh0byk7XG4gICAgaWYgKCFkZXN0aW5hdGlvbi50aWxlKSByZXR1cm47XG5cbiAgICB0aGlzLnN3YXBUYXJnZXQgPSBkZXN0aW5hdGlvbjtcbiAgICB0aGlzLnJvd3NbZGVzdGluYXRpb24ucm93XVtkZXN0aW5hdGlvbi5jb2xdID0gb3JpZ2luLnRpbGU7XG4gICAgdGhpcy5yb3dzW29yaWdpbi5yb3ddW29yaWdpbi5jb2xdID0gZGVzdGluYXRpb24udGlsZTtcbiAgfVxuXG4gIHByaXZhdGUgc3dhcFRpbGVJbkRpcmVjdGlvbihmcm9tOiBDb29yZFBvc2l0aW9ufEdyaWRQb3NpdGlvbiwgZGlyZWN0aW9uOiBTd2FwRGlyZWN0aW9uKTogdm9pZCB7XG4gICAgY29uc3Qgb3JpZ2luID0gdGhpcy50aWxlQXQoZnJvbSk7XG4gICAgaWYgKCFvcmlnaW4udGlsZSkgcmV0dXJuO1xuXG4gICAgdGhpcy5zd2FwT3JpZ2luID0gb3JpZ2luO1xuICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gdGhpcy5hZGphY2VudFRpbGUob3JpZ2luLCBkaXJlY3Rpb24pO1xuICAgIGlmICghZGVzdGluYXRpb24udGlsZSkgcmV0dXJuO1xuXG4gICAgdGhpcy5zd2FwVGFyZ2V0ID0gZGVzdGluYXRpb247XG4gICAgdGhpcy5yb3dzW2Rlc3RpbmF0aW9uLnJvd11bZGVzdGluYXRpb24uY29sXSA9IG9yaWdpbi50aWxlO1xuICAgIHRoaXMucm93c1tvcmlnaW4ucm93XVtvcmlnaW4uY29sXSA9IGRlc3RpbmF0aW9uLnRpbGU7XG4gIH1cblxuICBwcml2YXRlIGNsZWFyRXhpc3RpbmdEcmFnRmxhZ3MoKTogdm9pZCB7XG4gICAgdGhpcy50aWxlcy5mb3JFYWNoKCh0aWxlKSA9PiB7XG4gICAgICB0aWxlLnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICB0aWxlLnRhcmdldGVkID0gZmFsc2U7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHNldERyYWdTdGFydEZsYWdzKHRpbGVJbmZvOiBQcmVzZW50Q2FudmFzVGlsZUluZm8pOiB2b2lkIHtcbiAgICB0aGlzLmNsZWFyRXhpc3RpbmdEcmFnRmxhZ3MoKTtcbiAgICB0aWxlSW5mby50aWxlLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICB0aWxlSW5mby50aWxlLnRhcmdldGVkID0gdHJ1ZTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0RHJhZ0VuZEZsYWdzKCk6IHZvaWQge1xuICAgIHRoaXMuY2xlYXJFeGlzdGluZ0RyYWdGbGFncygpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXREcmFnRmxhZ3Mob3JpZ2luOiBQcmVzZW50Q2FudmFzVGlsZUluZm8sIGRlc3RpbmF0aW9uOiBQcmVzZW50Q2FudmFzVGlsZUluZm8pOiB2b2lkIHtcbiAgICB0aGlzLmNsZWFyRXhpc3RpbmdEcmFnRmxhZ3MoKTtcbiAgICBvcmlnaW4udGlsZS5zZWxlY3RlZCA9IHRydWU7XG4gICAgZGVzdGluYXRpb24udGlsZS50YXJnZXRlZCA9IHRydWU7XG4gIH1cblxuICBwcml2YXRlIHJ1bkRyYWdTdGFydENhbGxiYWNrcyhtb3VzZTogTW91c2UpOiB2b2lkIHtcbiAgICBjb25zdCBzZXR0bGluZyA9IHRoaXMuY2hlY2tTZXR0bGUoKTtcbiAgICBpZiAoc2V0dGxpbmcpIHJldHVybjtcblxuICAgIGNvbnN0IHsgeCwgeSB9ID0gbW91c2U7XG4gICAgY29uc3Qgb3JpZ2luID0gdGhpcy50aWxlQXQoeyB4LCB5IH0pO1xuICAgIGlmICghb3JpZ2luLnRpbGUpIHJldHVybjtcblxuICAgIHRoaXMuZHJhZ09yaWdpbiA9IG9yaWdpbjtcbiAgICB0aGlzLnNldERyYWdTdGFydEZsYWdzKHRoaXMuZHJhZ09yaWdpbik7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBkaXN0YW5jZUJldHdlZW4obW91c2UsIHRoaXMudGlsZUNlbnRlcihvcmlnaW4pKTtcbiAgICBjb25zdCBkaXJlY3Rpb24gPSBtb3VzZS5kcmFnRGlyZWN0aW9uO1xuICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gb3JpZ2luO1xuXG4gICAgdGhpcy5kcmFnU3RhcnRDYWxsYmFja3MuZm9yRWFjaCgoY2FsbGJhY2spID0+IHtcbiAgICAgIGNhbGxiYWNrKHsgeCwgeSwgZGlzdGFuY2UsIGRpcmVjdGlvbiwgb3JpZ2luLCBkZXN0aW5hdGlvbiwgbW91c2UgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJ1bkRyYWdFbmRDYWxsYmFja3MobW91c2U6IE1vdXNlKTogdm9pZCB7XG4gICAgY29uc3Qgc2V0dGxpbmcgPSB0aGlzLmNoZWNrU2V0dGxlKCk7XG4gICAgaWYgKHNldHRsaW5nKSByZXR1cm47XG5cbiAgICBjb25zdCBvcmlnaW4gPSB0aGlzLmRyYWdPcmlnaW47XG4gICAgaWYgKCFvcmlnaW4udGlsZSkgcmV0dXJuO1xuXG4gICAgY29uc3QgeyB4LCB5IH0gPSBtb3VzZTtcbiAgICBjb25zdCBkaXN0YW5jZSA9IGRpc3RhbmNlQmV0d2Vlbihtb3VzZSwgdGhpcy50aWxlQ2VudGVyKG9yaWdpbikpO1xuICAgIGNvbnN0IG1vdmVUbyA9IGRpc3RhbmNlID4gdGhpcy5zZW5zaXRpdml0eSA/IHRoaXMuYWRqYWNlbnRUaWxlKG9yaWdpbiwgbW91c2UuZHJhZ0RpcmVjdGlvbikgOiBvcmlnaW47XG4gICAgY29uc3QgZGVzdGluYXRpb24gPSBtb3ZlVG8udGlsZSA/IG1vdmVUbyA6IG9yaWdpbjtcbiAgICBjb25zdCBkaXJlY3Rpb24gPSBtb3VzZS5kcmFnRGlyZWN0aW9uO1xuICAgIHRoaXMuc2V0RHJhZ0VuZEZsYWdzKCk7XG5cbiAgICB0aGlzLmRyYWdFbmRDYWxsYmFja3MuZm9yRWFjaCgoY2FsbGJhY2spID0+IHtcbiAgICAgIGNhbGxiYWNrKHsgeCwgeSwgZGlzdGFuY2UsIGRpcmVjdGlvbiwgb3JpZ2luLCBkZXN0aW5hdGlvbiwgbW91c2UgfSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmRyYWdPcmlnaW4gPSBibGFua0NhbnZhc1RpbGVJbmZvKCk7XG4gIH1cblxuICBwcml2YXRlIHJ1bkRyYWdDYWxsYmFja3MobW91c2U6IE1vdXNlKTogdm9pZCB7XG4gICAgY29uc3Qgc2V0dGxpbmcgPSB0aGlzLmNoZWNrU2V0dGxlKCk7XG4gICAgaWYgKHNldHRsaW5nKSByZXR1cm47XG5cbiAgICBjb25zdCBvcmlnaW4gPSB0aGlzLmRyYWdPcmlnaW47XG4gICAgaWYgKCFvcmlnaW4udGlsZSkgcmV0dXJuO1xuXG4gICAgY29uc3QgeyB4LCB5LCBwcmVzc2VkIH0gPSBtb3VzZTtcbiAgICBpZiAoIXByZXNzZWQpIHJldHVybjtcblxuICAgIGNvbnN0IGRpc3RhbmNlID0gZGlzdGFuY2VCZXR3ZWVuKG1vdXNlLCB0aGlzLnRpbGVDZW50ZXIob3JpZ2luKSk7XG4gICAgY29uc3QgbW92ZVRvID0gZGlzdGFuY2UgPiB0aGlzLnNlbnNpdGl2aXR5ID8gdGhpcy5hZGphY2VudFRpbGUob3JpZ2luLCBtb3VzZS5kcmFnRGlyZWN0aW9uKSA6IG9yaWdpbjtcbiAgICBjb25zdCBkZXN0aW5hdGlvbiA9IG1vdmVUby50aWxlID8gbW92ZVRvIDogb3JpZ2luO1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IG1vdXNlLmRyYWdEaXJlY3Rpb247XG4gICAgdGhpcy5zZXREcmFnRmxhZ3Mob3JpZ2luLCBkZXN0aW5hdGlvbik7XG5cbiAgICB0aGlzLmRyYWdDYWxsYmFja3MuZm9yRWFjaCgoY2FsbGJhY2spID0+IHtcbiAgICAgIGNhbGxiYWNrKHsgeCwgeSwgZGlzdGFuY2UsIGRpcmVjdGlvbiwgb3JpZ2luLCBkZXN0aW5hdGlvbiwgbW91c2UgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlcGxhY2VUaWxlKHRpbGUxOiBDYW52YXNUaWxlLCB0aWxlMjogQ2FudmFzVGlsZSk6IHZvaWQge1xuICAgIGNvbnN0IHsgcm93LCBjb2wgfSA9IHRoaXMuZmluZFRpbGUodGlsZTEpO1xuICAgIHRoaXMucm93c1tyb3ddW2NvbF0gPSB0aWxlMjtcbiAgfVxuXG4gIHByaXZhdGUgc3RhYmlsaXplSW5pdGlhbFRpbGVzKHRyaWVzID0gMjApOiB2b2lkIHtcbiAgICBpZiAodHJpZXMgPD0gMCkge1xuICAgICAgdGhpcy5yb3dzID0gdGhpcy5uZXdSb3dzKCk7XG4gICAgICB0aGlzLnN0YWJpbGl6ZUluaXRpYWxUaWxlcygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG1hdGNoZWRTaGFwZXMgPSB0aGlzLm1hdGNoU2hhcGVzKCk7XG4gICAgaWYgKCFtYXRjaGVkU2hhcGVzLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgbWF0Y2hlZFNoYXBlc1swXS50aWxlcy5mb3JFYWNoKHRpbGUgPT4gdGhpcy5yZXBsYWNlVGlsZSh0aWxlLCB0aGlzLm5ld011bmRhbmVUaWxlKCkpKTtcblxuICAgIHRoaXMuc3RhYmlsaXplSW5pdGlhbFRpbGVzKHRyaWVzIC0gMSk7XG4gIH1cblxuICBwcml2YXRlIHBvc3NpYmxlTWF0Y2hlc0V4aXN0KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIWZpbmRNYXAodGhpcy5yb3dzLCAocm93LCByb3dJbmRleCkgPT4ge1xuICAgICAgcmV0dXJuIGZpbmRNYXAocm93LCAoX3RpbGUsIGNvbEluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0geyByb3c6IHJvd0luZGV4LCBjb2w6IGNvbEluZGV4IH07XG4gICAgICAgIHJldHVybiBmaW5kTWFwKHR1cGxlKCd1cCcsICdkb3duJywgJ2xlZnQnLCAncmlnaHQnKSwgKGRpcmVjdGlvbikgPT4geyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gICAgICAgICAgdGhpcy5zd2FwVGlsZUluRGlyZWN0aW9uKHBvc2l0aW9uLCBkaXJlY3Rpb24pO1xuICAgICAgICAgIGlmICh0aGlzLm1hdGNoU2hhcGVzKCkpIHJldHVybiB0cnVlO1xuICAgICAgICAgIHRoaXMuc3dhcFRpbGVJbkRpcmVjdGlvbihwb3NpdGlvbiwgZGlyZWN0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY2hlY2tTaHVmZmxlKCk6IHZvaWQge1xuICAgIHRoaXMubmVlZHNTaHVmZmxlID0gIXRoaXMucG9zc2libGVNYXRjaGVzRXhpc3QoKTtcbiAgfVxufVxuXG4od2luZG93IGFzIGFueSkuZGVmYXVsdFNoYXBlcyA9IGRlZmF1bHRTaGFwZXM7XG4iLCJpbXBvcnQgZ2FtZUxvb3AgZnJvbSBcIi4vZ2FtZS9nYW1lTG9vcFwiO1xuaW1wb3J0IHsgY3R4IH0gZnJvbSBcIi4vZ2FtZS9jYW52YXNcIjtcbmltcG9ydCBDYW52YXNCb2FyZCBmcm9tIFwiLi9nYW1lL0NhbnZhc0JvYXJkXCI7XG5cbmNvbnN0IHNjb3JlcyA9IHt9IGFzIFJlY29yZDxzdHJpbmcsIG51bWJlcj47XG5sZXQgbW92ZXMgPSAxMDtcblxuZXhwb3J0IGludGVyZmFjZSBEcmF3VGV4dE9wdGlvbnMge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgZm9udD86IHN0cmluZztcbiAgY29sb3I/OiBzdHJpbmc7XG4gIHNpemU/OiBudW1iZXI7XG4gIHVuaXRzPzogc3RyaW5nO1xuICBhbGlnbj86IENhbnZhc1RleHRBbGlnbjtcbiAgYmFzZWxpbmU/OiBDYW52YXNUZXh0QmFzZWxpbmU7XG59XG5jb25zdCBkcmF3VGV4dCA9IChcbiAgdGV4dDogc3RyaW5nLFxuICB7XG4gICAgeCxcbiAgICB5LFxuICAgIGZvbnQgPSAnQ291cmllcicsXG4gICAgY29sb3IgPSAnYmxhY2snLFxuICAgIHNpemUgPSAxNixcbiAgICB1bml0cyA9ICdweCcsXG4gICAgYWxpZ24gPSAnc3RhcnQnLFxuICAgIGJhc2VsaW5lID0gJ3RvcCcsXG4gIH06IERyYXdUZXh0T3B0aW9uc1xuKTogdm9pZCA9PiB7XG4gIGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgY3R4LmZvbnQgPSBgJHtzaXplfSR7dW5pdHN9IFwiJHtmb250fVwiYDtcbiAgY3R4LnRleHRBbGlnbiA9IGFsaWduO1xuICBjdHgudGV4dEJhc2VsaW5lID0gYmFzZWxpbmU7XG4gIGN0eC5maWxsVGV4dCh0ZXh0LCB4LCB5KTtcbn07XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zdCBtYXhTaXplID0gTWF0aC5taW4od2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCwgNTAwKTtcbiAgY29uc3QgYm9hcmRTaXplID0gMC43NSAqIG1heFNpemU7XG4gIGNvbnN0IGJvYXJkT2Zmc2V0ID0gKG1heFNpemUgLSBib2FyZFNpemUpIC8gMjtcbiAgY29uc3QgYm9hcmRCb3R0b20gPSBtYXhTaXplIC0gYm9hcmRPZmZzZXQ7XG4gIGNvbnN0IGJvYXJkVG9wID0gYm9hcmRPZmZzZXQ7XG4gIGNvbnN0IGJvYXJkTGVmdCA9IGJvYXJkT2Zmc2V0O1xuICBjb25zdCBib2FyZFJpZ2h0ID0gbWF4U2l6ZSAtIGJvYXJkT2Zmc2V0O1xuXG4gIGNvbnN0IGJvYXJkID0gbmV3IENhbnZhc0JvYXJkKHtcbiAgICB4OiBib2FyZE9mZnNldCxcbiAgICB5OiBib2FyZE9mZnNldCxcbiAgICB3aWR0aDogYm9hcmRTaXplLFxuICAgIHJvd0NvdW50OiA5LFxuICAgIGNvbENvdW50OiA5LFxuICAgIG9uVGlsZU1hdGNoZWQ6ICh0aWxlKSA9PiB7XG4gICAgICBzY29yZXNbdGlsZS50eXBlXSA9IHNjb3Jlc1t0aWxlLnR5cGVdIHx8IDA7XG4gICAgICBzY29yZXNbdGlsZS50eXBlXSArPSAxO1xuICAgIH0sXG4gIH0pO1xuXG4gIGJvYXJkLm9uRHJhZ0VuZCgoZXZlbnQpID0+IHtcbiAgICBpZiAobW92ZXMgPD0gMCkgcmV0dXJuO1xuXG4gICAgYm9hcmQuc3dhcFRpbGUoZXZlbnQub3JpZ2luLCBldmVudC5kZXN0aW5hdGlvbik7XG4gICAgY29uc3Qgc2hhcGVzID0gYm9hcmQubWF0Y2hTaGFwZXMoKTtcbiAgICBpZiAoc2hhcGVzLmxlbmd0aCkge1xuICAgICAgbW92ZXMtLTtcbiAgICB9IGVsc2Uge1xuICAgICAgYm9hcmQuc3dhcFRpbGUoZXZlbnQub3JpZ2luLCBldmVudC5kZXN0aW5hdGlvbik7XG4gICAgfVxuICB9KTtcblxuICBnYW1lTG9vcChjdHgsIChfbG9vcENvdW50KSA9PiB7XG4gICAgYm9hcmQuZHJhdyhjdHgpO1xuICAgIGJvYXJkLnVwZGF0ZSgpO1xuXG4gICAgY29uc3Qgc2l6ZSA9IDI0O1xuICAgIGlmIChtb3ZlcyA8PSAwKSB7XG4gICAgICBkcmF3VGV4dCgnZmluJywge1xuICAgICAgICB4OiBib2FyZExlZnQgKyAoYm9hcmRTaXplIC8gMiksXG4gICAgICAgIHk6IGJvYXJkVG9wICsgKGJvYXJkU2l6ZSAvIDIpLFxuICAgICAgICBzaXplOiA5NixcbiAgICAgICAgYWxpZ246ICdjZW50ZXInLFxuICAgICAgICBiYXNlbGluZTogJ21pZGRsZScsXG4gICAgICB9KTtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICBjdHgubGluZVdpZHRoID0gMTtcbiAgICAgIGN0eC5zdHJva2VUZXh0KCdmaW4nLCBib2FyZExlZnQgKyAoYm9hcmRTaXplIC8gMiksIGJvYXJkVG9wICsgKGJvYXJkU2l6ZSAvIDIpKTtcbiAgICB9XG5cbiAgICBkcmF3VGV4dChgTW92ZXMgbGVmdDogJHttb3Zlc31gLCB7IHg6IHNpemUsIHk6IGJvYXJkQm90dG9tICsgMjAgfSk7XG5cbiAgICBPYmplY3Qua2V5cyhzY29yZXMpLnNvcnQoKS5mb3JFYWNoKCh0aWxlVHlwZSwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IHggPSAyMDtcbiAgICAgIGNvbnN0IHkgPSBib2FyZEJvdHRvbSArIDIwICsgKCgxICsgaW5kZXgpICogMzApO1xuICAgICAgY29uc3Qgc2NvcmUgPSBzY29yZXNbdGlsZVR5cGVdO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IHRpbGVUeXBlO1xuICAgICAgY3R4LmZpbGxSZWN0KHgsIHksIHNpemUsIHNpemUpO1xuICAgICAgZHJhd1RleHQoYCR7c2NvcmUgPiAyMCA/IDIwIDogc2NvcmV9LzIwYCwgeyB4OiB4ICsgc2l6ZSArIDEwLCB5LCBzaXplIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICAod2luZG93IGFzIGFueSkuYm9hcmQgPSBib2FyZDtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==