!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";function r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r="number"==typeof e[0]?e[0]:0,o="function"==typeof e[0]?e[0]:e[1],u=t<r?[t,r]:[r,t],i=u[0],c=u[1]-i,s=Array(c),f=0;f<c;f++)s[f]=o?o(f+i):f+i;return s}n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));var o=function(t,e){var n=t<e?[t,e]:[e,t],r=n[0],o=n[1]-r;return r+Math.random()*o}},function(t,e,n){"use strict";var r=function(t){if(void 0===t&&(t={}),this.type="",Object.assign(this,t),!this.type)throw new Error("Tiles must have a type.")};e.a=r},function(t,e,n){"use strict";var r=n(1),o=n(0),u=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var u=arguments[e],i=0,c=u.length;i<c;i++,o++)r[o]=u[i];return r},i=function(){function t(t){this.rowCount=10,this.colCount=10,this.tileTypes=["a","b","c","d"],this.tileClass=r.a,Object.assign(this,t),this.tileGenerator=t.tileGenerator,this.rows=this.newRows()}return Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows},set:function(t){if(!t.every((function(e){return t[0].length===e.length})))throw new Error("Rows must all be the same length");this._rows=t,delete this._columns,this.rowCount=t.length,this.colCount=t[0].length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns?this._columns:(this._columns=this.rows.reduce((function(t,e){return e.forEach((function(e,n){t[n]=u(t[n]||[],[e])})),t}),[]),this._columns)},set:function(t){if(!t.every((function(e){return t[0].length===e.length})))throw new Error("Columns must all be the same length");this.rows=t.reduce((function(t,e){return e.forEach((function(e,n){t[n]=u(t[n]||[],[e])})),t}),[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tiles",{get:function(){return this.rows.reduce((function(t,e){return u(t,e)}),[])},enumerable:!0,configurable:!0}),t.prototype.newRows=function(){var t=this;return Object(o.b)(this.rowCount,(function(){return Object(o.b)(t.colCount,(function(){return t.tileGenerator()}))}))},t}();e.a=i},function(t,e,n){"use strict";n.r(e);var r=n(2),o=n(0);window.Board=r.a,window.rand=o.a}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdGllcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGlsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQm9hcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwicmFuZ2UiLCJtaW4iLCJtYXgiLCJtYXhBbmRPck1hcHBlciIsIm1hcHBlciIsInJlYWxNaW4iLCJkaWZmIiwibGlzdCIsIkFycmF5IiwicmFuZCIsIk1hdGgiLCJyYW5kb20iLCJvcHRzIiwidHlwZSIsImFzc2lnbiIsInRoaXMiLCJFcnJvciIsInJvd0NvdW50IiwiY29sQ291bnQiLCJ0aWxlVHlwZXMiLCJ0aWxlQ2xhc3MiLCJ0aWxlR2VuZXJhdG9yIiwicm93cyIsIm5ld1Jvd3MiLCJfcm93cyIsImV2ZXJ5Iiwicm93IiwibGVuZ3RoIiwiX2NvbHVtbnMiLCJyZWR1Y2UiLCJjb2x1bW5zIiwiZm9yRWFjaCIsInRpbGUiLCJpbmRleCIsImNvbHVtbiIsInRpbGVzIiwid2luZG93IiwiQm9hcmQiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixF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LEcsb0NDSEEseUJBR0NlLE9BQWVDLE1BQVEsSUFDdkJELE9BQWUzQixLQUFPIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMyk7XG4iLCJleHBvcnQgZnVuY3Rpb24gcmFuZ2U8VD4obWluOiBudW1iZXIsIC4uLm1heEFuZE9yTWFwcGVyOiBbXSk6IG51bWJlcltdO1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlPFQ+KG1pbjogbnVtYmVyLCAuLi5tYXhBbmRPck1hcHBlcjogW251bWJlcl0pOiBudW1iZXJbXTtcbmV4cG9ydCBmdW5jdGlvbiByYW5nZTxUPihtaW46IG51bWJlciwgLi4ubWF4QW5kT3JNYXBwZXI6IFsobjogbnVtYmVyKSA9PiBUXSk6IFRbXTtcbmV4cG9ydCBmdW5jdGlvbiByYW5nZTxUPihtaW46IG51bWJlciwgLi4ubWF4QW5kT3JNYXBwZXI6IFtudW1iZXIsIChuOiBudW1iZXIpID0+IFRdKTogVFtdO1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlPFQ+KG1pbjogbnVtYmVyLCAuLi5tYXhBbmRPck1hcHBlcjogW118W251bWJlcnwoKG46IG51bWJlcikgPT4gVCldfFtudW1iZXIsIChuOiBudW1iZXIpID0+IFRdKTogKG51bWJlcnxUKVtdIHtcbiAgY29uc3QgbWF4ID0gdHlwZW9mIG1heEFuZE9yTWFwcGVyWzBdID09PSAnbnVtYmVyJyA/IG1heEFuZE9yTWFwcGVyWzBdIDogMDtcbiAgY29uc3QgbWFwcGVyID0gdHlwZW9mIG1heEFuZE9yTWFwcGVyWzBdID09PSAnZnVuY3Rpb24nID8gbWF4QW5kT3JNYXBwZXJbMF0gOiBtYXhBbmRPck1hcHBlclsxXTtcbiAgY29uc3QgW3JlYWxNaW4sIHJlYWxNYXhdID0gbWluIDwgbWF4ID8gW21pbiwgbWF4XSA6IFttYXgsIG1pbl07XG4gIGNvbnN0IGRpZmYgPSByZWFsTWF4IC0gcmVhbE1pbjtcbiAgY29uc3QgbGlzdCA9IEFycmF5KGRpZmYpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGRpZmY7IGkrKykgbGlzdFtpXSA9IG1hcHBlciA/IG1hcHBlcihpICsgcmVhbE1pbikgOiBpICsgcmVhbE1pbjtcbiAgcmV0dXJuIGxpc3Q7XG59XG5cbmV4cG9ydCBjb25zdCByYW5kID0gKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciA9PiB7XG4gIGNvbnN0IFtyZWFsTWluLCByZWFsTWF4XSA9IG1pbiA8IG1heCA/IFttaW4sIG1heF0gOiBbbWF4LCBtaW5dO1xuICBjb25zdCBkaWZmID0gcmVhbE1heCAtIHJlYWxNaW47XG4gIHJldHVybiByZWFsTWluICsgKE1hdGgucmFuZG9tKCkgKiBkaWZmKTtcbn07XG5cbmV4cG9ydCBjb25zdCBkYW1wZW4gPSAobnVtOiBudW1iZXIsIGJ5OiBudW1iZXIsIGNlbnRlciA9IDApOiBudW1iZXIgPT4ge1xuICAvLyBudW1iZXIgaXMgYWxyZWFkeSBhdCB0aGUgY2VudGVyXG4gIGlmIChudW0gPT09IGNlbnRlcikgcmV0dXJuIGNlbnRlcjtcblxuICAvLyBudW1iZXIgaXMgaGlnaGVyIHRoYW4gdGhlIGNlbnRlcjsgc3VidHJhY3QgYW5kIGRvbid0IG92ZXJzaG9vdCB0aGUgY2VudGVyXG4gIGlmIChudW0gPiBjZW50ZXIpIHtcbiAgICBjb25zdCBuZXdOdW0gPSBudW0gLSBieTtcbiAgICByZXR1cm4gbmV3TnVtIDwgY2VudGVyID8gY2VudGVyIDogbmV3TnVtO1xuICB9XG5cbiAgLy8gbnVtYmVyIGlzIGxvd2VyIHRoYW4gdGhlIGNlbnRlcjsgYWRkIGFuZCBkb24ndCBvdmVyc2hvb3QgdGhlIGNlbnRlclxuICBjb25zdCBuZXdOdW0gPSBudW0gKyBieTtcbiAgcmV0dXJuIG5ld051bSA+IGNlbnRlciA/IGNlbnRlciA6IG5ld051bTtcbn07XG5cbmV4cG9ydCBjb25zdCBib3VuZCA9IChudW06IG51bWJlciwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgY29uc3QgW3JlYWxNaW4sIHJlYWxNYXhdID0gbWluIDwgbWF4ID8gW21pbiwgbWF4XSA6IFttYXgsIG1pbl07XG4gIGlmIChudW0gPCByZWFsTWluKSByZXR1cm4gcmVhbE1pbjtcbiAgaWYgKG51bSA+IHJlYWxNYXgpIHJldHVybiByZWFsTWF4O1xuICByZXR1cm4gbnVtO1xufTtcblxuZXhwb3J0IGNvbnN0IGJldHdlZW4gPSAobnVtOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciwgaW5jbHVzaXZlID0gdHJ1ZSk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBbcmVhbE1pbiwgcmVhbE1heF0gPSBtaW4gPCBtYXggPyBbbWluLCBtYXhdIDogW21heCwgbWluXTtcbiAgcmV0dXJuIGluY2x1c2l2ZSA/IChudW0gPj0gcmVhbE1pbiAmJiBudW0gPD0gcmVhbE1heCkgOiAobnVtID4gcmVhbE1pbiAmJiBudW0gPCByZWFsTWF4KTtcbn07XG5cbmV4cG9ydCBjb25zdCBkaWZmZXJlbmNlID0gKG46IG51bWJlciwgbTogbnVtYmVyKTogbnVtYmVyID0+IE1hdGguYWJzKG4gLSBtKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbGUge1xuICBwdWJsaWMgdHlwZSA9ICcnO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IFBhcnRpYWw8VGlsZT4gPSB7fSkge1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0cyk7XG4gICAgaWYgKCF0aGlzLnR5cGUpIHRocm93IG5ldyBFcnJvcignVGlsZXMgbXVzdCBoYXZlIGEgdHlwZS4nKTtcbiAgfVxufVxuIiwiaW1wb3J0IFRpbGUgZnJvbSBcIi4vVGlsZVwiO1xuaW1wb3J0IHsgcmFuZ2UgfSBmcm9tIFwiLi91dGlsaXRpZXNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQm9hcmQ8VGlsZUNsYXNzID0gVGlsZT4ge1xuICBwdWJsaWMgcm93Q291bnQgPSAxMDtcbiAgcHVibGljIGNvbENvdW50ID0gMTA7XG4gIHB1YmxpYyB0aWxlVHlwZXMgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcbiAgcHVibGljIHRpbGVDbGFzcyA9IFRpbGU7XG4gIHB1YmxpYyB0aWxlR2VuZXJhdG9yOiAoKSA9PiBUaWxlQ2xhc3M7XG4gIHByaXZhdGUgX3Jvd3MhOiBUaWxlQ2xhc3NbXVtdO1xuICBwcml2YXRlIF9jb2x1bW5zPzogVGlsZUNsYXNzW11bXTtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7IHRpbGVHZW5lcmF0b3I6ICgpID0+IFRpbGVDbGFzcyB9ICYgUGFydGlhbDxCb2FyZD4pIHtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdHMpO1xuICAgIHRoaXMudGlsZUdlbmVyYXRvciA9IG9wdHMudGlsZUdlbmVyYXRvcjtcbiAgICB0aGlzLnJvd3MgPSB0aGlzLm5ld1Jvd3MoKTtcbiAgfVxuXG4gIHNldCByb3dzKHJvd3M6IFRpbGVDbGFzc1tdW10pIHtcbiAgICBpZiAoIXJvd3MuZXZlcnkocm93ID0+IHJvd3NbMF0ubGVuZ3RoID09PSByb3cubGVuZ3RoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSb3dzIG11c3QgYWxsIGJlIHRoZSBzYW1lIGxlbmd0aCcpO1xuICAgIH1cbiAgICB0aGlzLl9yb3dzID0gcm93cztcbiAgICBkZWxldGUgdGhpcy5fY29sdW1ucztcbiAgICB0aGlzLnJvd0NvdW50ID0gcm93cy5sZW5ndGg7XG4gICAgdGhpcy5jb2xDb3VudCA9IHJvd3NbMF0ubGVuZ3RoO1xuICB9XG5cbiAgZ2V0IHJvd3MoKTogVGlsZUNsYXNzW11bXSB7XG4gICAgcmV0dXJuIHRoaXMuX3Jvd3M7XG4gIH1cblxuICBzZXQgY29sdW1ucyhjb2x1bW5zOiBUaWxlQ2xhc3NbXVtdKSB7XG4gICAgaWYgKCFjb2x1bW5zLmV2ZXJ5KGNvbHVtbiA9PiBjb2x1bW5zWzBdLmxlbmd0aCA9PT0gY29sdW1uLmxlbmd0aCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ29sdW1ucyBtdXN0IGFsbCBiZSB0aGUgc2FtZSBsZW5ndGgnKTtcbiAgICB9XG5cbiAgICB0aGlzLnJvd3MgPSBjb2x1bW5zLnJlZHVjZSgocm93cywgY29sdW1uKSA9PiB7XG4gICAgICBjb2x1bW4uZm9yRWFjaCgodGlsZSwgaW5kZXgpID0+IHtcbiAgICAgICAgcm93c1tpbmRleF0gPSBbLi4uKHJvd3NbaW5kZXhdIHx8IFtdKSwgdGlsZV07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByb3dzO1xuICAgIH0sIFtdIGFzIFRpbGVDbGFzc1tdW10pO1xuICB9XG5cbiAgZ2V0IGNvbHVtbnMoKTogVGlsZUNsYXNzW11bXSB7XG4gICAgaWYgKHRoaXMuX2NvbHVtbnMpIHJldHVybiB0aGlzLl9jb2x1bW5zO1xuXG4gICAgdGhpcy5fY29sdW1ucyA9IHRoaXMucm93cy5yZWR1Y2UoKGNvbHVtbnMsIHJvdykgPT4ge1xuICAgICAgcm93LmZvckVhY2goKHRpbGUsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbHVtbnNbaW5kZXhdID0gWy4uLihjb2x1bW5zW2luZGV4XSB8fCBbXSksIHRpbGVdO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gY29sdW1ucztcbiAgICB9LCBbXSBhcyBUaWxlQ2xhc3NbXVtdKTtcblxuICAgIHJldHVybiB0aGlzLl9jb2x1bW5zO1xuICB9XG5cbiAgZ2V0IHRpbGVzKCk6IFRpbGVDbGFzc1tdIHtcbiAgICByZXR1cm4gdGhpcy5yb3dzLnJlZHVjZSgodGlsZXMsIHJvdykgPT4gWy4uLnRpbGVzLCAuLi5yb3ddLCBbXSk7XG4gIH1cblxuICBuZXdSb3dzKCk6IFRpbGVDbGFzc1tdW10ge1xuICAgIHJldHVybiByYW5nZSh0aGlzLnJvd0NvdW50LCAoKSA9PiB7XG4gICAgICByZXR1cm4gcmFuZ2UodGhpcy5jb2xDb3VudCwgKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy50aWxlR2VuZXJhdG9yKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IEJvYXJkIGZyb20gJy4vQm9hcmQnO1xuaW1wb3J0IHsgcmFuZCB9IGZyb20gJy4vdXRpbGl0aWVzJztcblxuKHdpbmRvdyBhcyBhbnkpLkJvYXJkID0gQm9hcmQ7XG4od2luZG93IGFzIGFueSkucmFuZCA9IHJhbmQ7XG4iXSwic291cmNlUm9vdCI6IiJ9